<?php

namespace Database\Migrations;

use Doctrine\Migrations\AbstractMigration;
use Doctrine\DBAL\Schema\Schema as Schema;

class Version00000000000001 extends AbstractMigration
{
    /**
     * @param Schema $schema
     */
    public function up(Schema $schema): void
    {
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('CREATE TABLE adapay_member_update_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id VARCHAR(255) NOT NULL COMMENT \'公司id\', app_id VARCHAR(100) DEFAULT \'\' NOT NULL COMMENT \'应用app_id\', member_id VARCHAR(255) NOT NULL COMMENT \'adapay_member的主键id(汇付id)\', data LONGTEXT NOT NULL COMMENT \'修改数据 json\', audit_state VARCHAR(50) DEFAULT \'\' COMMENT \'审核状态，状态包括：A-待审核；B-审核失败；C-开户失败；D-开户成功但未创建结算账户；E-开户和创建结算账户成功\', audit_desc VARCHAR(500) DEFAULT \'\' COMMENT \'审核结果描述\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), INDEX idx_app_id (app_id), INDEX idx_member_id (member_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay子账户修改log(审核成功后修改)\' ');
        $this->addSql('CREATE TABLE Hfpay_withdraw_set (hfpay_withdraw_set_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付提现配置表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', withdraw_method INT DEFAULT 1 NOT NULL COMMENT \'提现方式 1自动提现 2手动提现\', distributor_money VARCHAR(255) DEFAULT \'0\' NOT NULL COMMENT \'店铺账号提现金额\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(hfpay_withdraw_set_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'提现设置表\' ');
        $this->addSql('CREATE TABLE activate_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'激活id\', resource_id BIGINT NOT NULL COMMENT \'资源包id\', company_id BIGINT NOT NULL COMMENT \'公司id\', eid VARCHAR(255) NOT NULL COMMENT \'企业id\', passport_uid VARCHAR(255) NOT NULL, active_code VARCHAR(255) DEFAULT NULL COMMENT \'激活码\', active_type VARCHAR(255) DEFAULT NULL COMMENT \'激活类型\', active_status VARCHAR(255) DEFAULT NULL COMMENT \'激活状态\', activeAt BIGINT NOT NULL COMMENT \'激活时间\', expiredAt BIGINT NOT NULL COMMENT \'过期时间\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'激活表\' ');
        $this->addSql('CREATE TABLE adapay_bank_codes (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', bank_name VARCHAR(100) NOT NULL COMMENT \'银行名称\', bank_code VARCHAR(50) NOT NULL COMMENT \'银行代码\', INDEX idx_bank_name (bank_name), INDEX idx_bank_code (bank_code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'银行代码\' ');
        $this->addSql('CREATE TABLE adapay_corp_member (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', app_id VARCHAR(100) DEFAULT \'\' NOT NULL COMMENT \'应用app_id\', order_no VARCHAR(64) DEFAULT \'\' NOT NULL COMMENT \'请求订单号\', member_id BIGINT NOT NULL COMMENT \'member_id\', company_id BIGINT NOT NULL COMMENT \'公司id\', dealer_id BIGINT DEFAULT 0 COMMENT \'经销商id\', distributor_id BIGINT DEFAULT 0 COMMENT \'店铺id\', operator_id INT DEFAULT 0 COMMENT \'操作者id\', name VARCHAR(100) DEFAULT \'\' NOT NULL COMMENT \'企业名称\', prov_code VARCHAR(10) DEFAULT \'\' COMMENT \'省份编码\', area_code VARCHAR(10) DEFAULT \'\' NOT NULL COMMENT \'地区编码\', social_credit_code VARCHAR(32) DEFAULT \'\' NOT NULL COMMENT \'统一社会信用码\', social_credit_code_expires VARCHAR(32) DEFAULT \'\' NOT NULL COMMENT \'统一社会信用证有效期\', business_scope VARCHAR(800) DEFAULT \'\' NOT NULL COMMENT \'经营范围\', legal_person VARCHAR(500) DEFAULT \'\' NOT NULL COMMENT \'法人姓名\', legal_cert_id VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'法人身份证号码\', legal_cert_id_expires VARCHAR(16) DEFAULT \'\' NOT NULL COMMENT \'法人身份证有效期\', legal_mp VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'法人手机号\', address VARCHAR(300) DEFAULT \'\' NOT NULL COMMENT \'企业地址\', zip_code VARCHAR(10) DEFAULT \'\' COMMENT \'邮编\', telphone VARCHAR(30) DEFAULT \'\' COMMENT \'企业电话\', email VARCHAR(100) DEFAULT \'\' COMMENT \'企业邮箱\', attach_file VARCHAR(300) DEFAULT \'\' COMMENT \'上传附件\', attach_file_name VARCHAR(300) DEFAULT \'\' COMMENT \'附件文件名\', confirm_letter_file VARCHAR(300) DEFAULT \'\' COMMENT \'经销商确认函附件\', confirm_letter_file_name VARCHAR(300) DEFAULT \'\' COMMENT \'经销商确认函附件文件名\', bank_code VARCHAR(30) DEFAULT \'\' COMMENT \'银行代码，如果需要自动开结算账户，本字段必填\', bank_acct_type VARCHAR(10) DEFAULT \'\' NOT NULL COMMENT \'银行账户类型：1-对公；2-对私，如果需要自动开结算账户，本字段必填\', card_no VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'银行卡号，如果需要自动开结算账户，本字段必填\', card_name VARCHAR(100) DEFAULT \'\' NOT NULL COMMENT \'银行卡对应的户名，如果需要自动开结算账户，本字段必填；若银行账户类型是对公，必须与企业名称一致\', audit_state VARCHAR(50) DEFAULT \'\' COMMENT \'审核状态，状态包括：A-待审核；B-审核失败；C-开户失败；D-开户成功但未创建结算账户；E-开户和创建结算账户成功\', audit_desc VARCHAR(200) DEFAULT \'\' COMMENT \'审核结果描述\', status VARCHAR(50) DEFAULT \'\' COMMENT \'当前交易状态\', error_info VARCHAR(500) DEFAULT \'\' COMMENT \'错误描述\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_order_no (order_no), INDEX idx_name (name), INDEX idx_company_id (company_id), INDEX idx_card_no (card_no), INDEX idx_member_id (member_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业用户对象\' ');
        $this->addSql('CREATE TABLE adapay_div_fee (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', trade_id VARCHAR(64) NOT NULL COMMENT \'交易单号\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', company_id VARCHAR(255) NOT NULL COMMENT \'企业ID\', distributor_id VARCHAR(255) DEFAULT NULL COMMENT \'店铺ID\', operator_type VARCHAR(255) NOT NULL COMMENT \'操作者类型:distributor-店铺;dealer-经销;admin:超级管理员\', pay_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'支付金额\', div_fee INT UNSIGNED DEFAULT 0 COMMENT \'当前用户的分账金额，以分为单位\', adapay_member_id INT DEFAULT 0 COMMENT \'汇付账号关联ID\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX ix_company_id (company_id), INDEX ix_distributor_id (distributor_id), INDEX ix_order_id (order_id), INDEX ix_trade_id (trade_id), INDEX ix_list (company_id, adapay_member_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分账金额表\' ');
        $this->addSql('CREATE TABLE adapay_draw_cash (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', operator_id INT DEFAULT 0 COMMENT \'提现账号id\', operator_type VARCHAR(255) NOT NULL COMMENT \'操作账号类型:distributor-店铺;dealer-经销;admin:超级管理员\', operator VARCHAR(255) DEFAULT NULL COMMENT \'操作人\', app_id VARCHAR(100) NOT NULL COMMENT \'应用app_id\', order_no VARCHAR(64) NOT NULL COMMENT \'请求订单号\', cash_id VARCHAR(64) DEFAULT NULL COMMENT \'取现对象 id\', bank_card_id VARCHAR(100) DEFAULT NULL COMMENT \'提现银行卡号\', bank_card_name VARCHAR(100) DEFAULT NULL COMMENT \'银行卡对应的户名\', cash_type VARCHAR(10) NOT NULL COMMENT \'取现类型：T1-T+1取现；D1-D+1取现；D0-即时取现\', cash_amt VARCHAR(255) NOT NULL COMMENT \'取现金额，必须大于0，人民币为分\', adapay_member_id VARCHAR(255) NOT NULL COMMENT \'汇付账号id\', status VARCHAR(255) NOT NULL COMMENT \'提现状态\', request_params LONGTEXT NOT NULL COMMENT \'请求参数 json\', response_params LONGTEXT DEFAULT NULL COMMENT \'回调参数 json\', create_time INT NOT NULL COMMENT \'创建时间\', remark VARCHAR(255) DEFAULT NULL COMMENT \'备注\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), INDEX idx_order_no (order_no), INDEX idx_adapay_member_id (adapay_member_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay提现表\' ');
        $this->addSql('CREATE TABLE adapay_entry_apply (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', user_name VARCHAR(64) NOT NULL COMMENT \'用户名\', company_id VARCHAR(255) NOT NULL COMMENT \'企业ID\', entry_id VARCHAR(255) NOT NULL COMMENT \'开户进件ID\', apply_type VARCHAR(255) NOT NULL COMMENT \'申请类型:dealer;distributor\', address VARCHAR(255) DEFAULT NULL COMMENT \'所属地区\', comments LONGTEXT DEFAULT NULL COMMENT \'审批意见\', is_sms VARCHAR(20) DEFAULT NULL COMMENT \'是否短信提醒: 1:是  0:否\', create_time INT NOT NULL COMMENT \'创建时间\', status VARCHAR(20) DEFAULT NULL COMMENT \'WAIT_APPROVE;APPROVED;REJECT\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'开户申请表\' ');
        $this->addSql('CREATE TABLE adapay_member (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', app_id VARCHAR(100) DEFAULT \'\' NOT NULL COMMENT \'应用app_id\', location VARCHAR(200) DEFAULT \'\' COMMENT \'用户地址\', company_id BIGINT NOT NULL COMMENT \'公司id\', pid BIGINT DEFAULT 0 NOT NULL COMMENT \'父ID\', is_update INT DEFAULT 0 NOT NULL COMMENT \'是否审核成功后修改 1:是  0:否\', operator_id INT DEFAULT 0 COMMENT \'操作者id\', operator_type VARCHAR(255) NOT NULL COMMENT \'操作者类型:distributor-店铺;dealer-经销;promoter-推广员\', email VARCHAR(100) DEFAULT \'\' COMMENT \'用户邮箱\', member_type VARCHAR(20) DEFAULT \'person\' COMMENT \'账户类型\', gender VARCHAR(50) DEFAULT \'\' COMMENT \'性别，为空时表示未填写\', nickname VARCHAR(50) DEFAULT \'\' COMMENT \'用户昵称\', tel_no VARCHAR(255) DEFAULT \'\' COMMENT \'用户手机号\', user_name VARCHAR(500) DEFAULT \'\' COMMENT \'用户姓名\', cert_type VARCHAR(10) DEFAULT \'00\' COMMENT \'证件类型，仅支持：00-身份证\', cert_id VARCHAR(255) DEFAULT \'\' COMMENT \'证件号\', is_sms VARCHAR(20) DEFAULT NULL COMMENT \'是否短信提醒: 1:是  0:否\', audit_state VARCHAR(50) DEFAULT \'\' COMMENT \'审核状态，状态包括：A-待审核；B-审核失败；C-开户失败；D-开户成功但未创建结算账户；E-开户和创建结算账户成功\', audit_desc VARCHAR(500) DEFAULT \'\' COMMENT \'审核结果描述\', status VARCHAR(50) DEFAULT \'\' COMMENT \'当前交易状态\', error_info VARCHAR(500) DEFAULT \'\' COMMENT \'错误描述\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', valid TINYINT(1) DEFAULT \'0\' COMMENT \'是否点过结算中心\', INDEX idx_tel_no (tel_no), INDEX idx_user_name (user_name), INDEX idx_company_id (company_id), INDEX idx_cert_id (cert_id), INDEX idx_pid (pid), INDEX idx_operator_id (operator_id), INDEX idx_audit_state (audit_state), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'实名用户对象\' ');
        $this->addSql('CREATE TABLE adapay_merchant_entry (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', request_id VARCHAR(100) NOT NULL COMMENT \'请求ID\', usr_phone VARCHAR(255) NOT NULL COMMENT \'注册手机号\', cont_name VARCHAR(500) NOT NULL COMMENT \'联系人姓名\', cont_phone VARCHAR(255) NOT NULL COMMENT \'联系人手机号码\', customer_email VARCHAR(100) NOT NULL COMMENT \'电子邮箱\', mer_name VARCHAR(50) NOT NULL COMMENT \'商户名，小微商户填负责人姓名\', mer_short_name VARCHAR(50) NOT NULL COMMENT \'商户名简称\', license_code VARCHAR(50) DEFAULT NULL COMMENT \'营业执照编码，如三证合一传三证合一码，企业时必填\', reg_addr VARCHAR(100) NOT NULL COMMENT \'注册地址\', cust_addr VARCHAR(100) NOT NULL COMMENT \'经营地址\', cust_tel VARCHAR(255) NOT NULL COMMENT \'商户电话\', mer_start_valid_date VARCHAR(30) DEFAULT NULL COMMENT \'商户有效日期（始），格式 YYYYMMDD （若开户企业类商户，必填）\', mer_valid_date VARCHAR(30) DEFAULT NULL COMMENT \'商户有效日期（至），格式 YYYYMMDD（若为长期有效，固定为“20991231”;若开户企业类商户，必填）\', legal_name VARCHAR(500) NOT NULL COMMENT \'法人/负责人 姓名\', legal_type VARCHAR(10) NOT NULL COMMENT \'法人/负责人证件类型，0-身份证\', legal_idno VARCHAR(255) NOT NULL COMMENT \'法人/负责人证件号码\', legal_mp VARCHAR(255) NOT NULL COMMENT \'法人/负责人手机号\', legal_start_cert_id_expires VARCHAR(30) NOT NULL COMMENT \'法人/负责人身份证有效期（始），格式 YYYYMMDD\', legal_id_expires VARCHAR(30) NOT NULL COMMENT \'法人/负责人身份证有效期（至），格式 YYYYMMDD\', card_id_mask VARCHAR(255) NOT NULL COMMENT \'结算银行卡号\', bank_code VARCHAR(20) NOT NULL COMMENT \'结算银行卡所属银行code\', card_name VARCHAR(500) NOT NULL COMMENT \'结算银行卡开户姓名\', bank_acct_type VARCHAR(5) NOT NULL COMMENT \'结算银行账户类型，1 : 对公， 2 : 对私。小微只能是对私\', prov_code VARCHAR(10) NOT NULL COMMENT \'结算银行卡省份编码\', area_code VARCHAR(10) NOT NULL COMMENT \'结算银行卡地区编码\', rsa_public_key LONGTEXT DEFAULT NULL COMMENT \'商户rsa 公钥\', entry_mer_type VARCHAR(10) NOT NULL COMMENT \'商户类型：1-企业；2-小微\', test_api_key VARCHAR(255) DEFAULT NULL COMMENT \'测试API Key\', live_api_key VARCHAR(255) DEFAULT NULL COMMENT \'生产API Key\', login_pwd VARCHAR(1024) DEFAULT NULL COMMENT \'初始密码\', app_id_list LONGTEXT DEFAULT NULL COMMENT \'应用ID列表\', sign_view_url VARCHAR(1024) DEFAULT NULL COMMENT \'合同查看地址\', is_sms VARCHAR(20) DEFAULT NULL COMMENT \'是否短信提醒: 1:是  0:否\', status VARCHAR(20) DEFAULT NULL COMMENT \'接口调用状态，succeeded - 成功 failed - 失败 pending - 处理中\', error_msg VARCHAR(500) DEFAULT NULL COMMENT \'错误描述\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), INDEX idx_request_id (request_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay开户进件\' ');
        $this->addSql('CREATE TABLE adapay_merchant_resident (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', request_id VARCHAR(100) NOT NULL COMMENT \'请求ID\', sub_api_key VARCHAR(255) NOT NULL COMMENT \'商户开户进件返回的API Key\', fee_type VARCHAR(10) NOT NULL COMMENT \'费率类型：01-标准费率线上，02-标准费率线下\', app_id VARCHAR(255) NOT NULL COMMENT \'商户开户进件返回的应用ID\', wx_category VARCHAR(50) DEFAULT NULL COMMENT \'微信经营类目（与支付宝二选一）\', alipay_category VARCHAR(50) DEFAULT NULL COMMENT \'支付宝经营类目（与微信二选一）\', cls_id VARCHAR(50) DEFAULT NULL COMMENT \'行业分类\', model_type VARCHAR(10) NOT NULL COMMENT \'入驻模式：1-服务商模式\', mer_type VARCHAR(10) NOT NULL COMMENT \'商户种类，1-政府机构,2-国营企业,3-私营企业,4-外资企业,5-个体工商户,7-事业单位,8-小微\', province_code VARCHAR(20) NOT NULL COMMENT \'省份编码\', city_code VARCHAR(20) NOT NULL COMMENT \'城市编码\', district_code VARCHAR(20) NOT NULL COMMENT \'区县编码\', add_value_list LONGTEXT NOT NULL COMMENT \'支付渠道配置信息\', adapay_fee_mode VARCHAR(20) NOT NULL COMMENT \'总商户 手续费扣除方式 I:内扣 O:外扣\', status VARCHAR(20) NOT NULL COMMENT \'接口调用状态，succeeded - 成功 failed - 失败 pending - 处理中\', alipay_stat VARCHAR(20) DEFAULT NULL COMMENT \'支付宝入驻结果：S-成功，F-失败\', alipay_stat_msg VARCHAR(500) DEFAULT NULL COMMENT \'支付宝入驻错误描述\', wx_stat VARCHAR(20) DEFAULT NULL COMMENT \'微信入驻结果：S-成功，F-失败\', wx_stat_msg VARCHAR(500) DEFAULT NULL COMMENT \'微信入驻错误描述\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), INDEX idx_request_id (request_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay商户入驻\' ');
        $this->addSql('CREATE TABLE adapay_operation_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', operator_id BIGINT DEFAULT 0 NOT NULL COMMENT \'日志实际操作者ID\', rel_id BIGINT DEFAULT 0 NOT NULL COMMENT \'关联ID,店铺类型为分店ID，经销商为主经销商账号operator_id\', log_type VARCHAR(50) NOT NULL COMMENT \'merchant-主商户;distributor-店铺;dealer-经销\', content VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'日志内容\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_id (company_id, rel_id), INDEX idx_log_type (log_type), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay操作日志表\' ');
        $this->addSql('CREATE TABLE adapay_paymemt_confirm (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id VARCHAR(255) NOT NULL COMMENT \'订单id\', distributor_id BIGINT DEFAULT NULL COMMENT \'店铺id\', payment_id VARCHAR(255) DEFAULT NULL COMMENT \'Adapay生成的支付对象id 对应order表的transaction_id\', payment_confirmation_id VARCHAR(255) DEFAULT NULL COMMENT \'支付确认id\', order_no VARCHAR(255) DEFAULT NULL COMMENT \'支付确认请求订单号\', confirm_amt VARCHAR(255) DEFAULT NULL COMMENT \'确认金额 单位：元\', div_members LONGTEXT DEFAULT NULL COMMENT \'分账对象信息列表 json\', status VARCHAR(255) DEFAULT NULL COMMENT \'交易状态\', request_params LONGTEXT DEFAULT NULL COMMENT \'请求参数 json\', response_params LONGTEXT DEFAULT NULL COMMENT \'响应参数 json\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), INDEX idx_order_id (order_id), INDEX idx_order_no (order_no), INDEX distributor_id (distributor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay支付确认表\' ');
        $this->addSql('CREATE TABLE adapay_payment_reverse (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id VARCHAR(255) NOT NULL COMMENT \'订单id\', payment_id VARCHAR(255) NOT NULL COMMENT \'Adapay生成的支付对象id 对应order表的transaction_id\', payment_reverse_id VARCHAR(255) DEFAULT NULL COMMENT \'支付撤销id\', app_id VARCHAR(255) NOT NULL COMMENT \'应用app_id\', order_no VARCHAR(255) NOT NULL COMMENT \'支付撤销请求订单号\', reverse_amt VARCHAR(255) NOT NULL COMMENT \'撤销金额 单位：元\', status VARCHAR(255) NOT NULL COMMENT \'状态\', request_params LONGTEXT NOT NULL COMMENT \'请求参数 json\', response_params LONGTEXT DEFAULT NULL COMMENT \'响应参数 json\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), INDEX idx_order_id (order_id), INDEX idx_order_no (order_no), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay支付撤销表\' ');
        $this->addSql('CREATE TABLE adapay_regions (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', area_name VARCHAR(50) NOT NULL COMMENT \'名称\', pid BIGINT NOT NULL COMMENT \'父级ID\', area_code VARCHAR(50) NOT NULL COMMENT \'编码\', INDEX idx_area_name (area_name), INDEX idx_area_code (area_code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'省市编码(四位码)\' ');
        $this->addSql('CREATE TABLE adapay_regions_third (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', area_name VARCHAR(50) NOT NULL COMMENT \'名称\', pid BIGINT NOT NULL COMMENT \'父级ID\', area_code VARCHAR(50) NOT NULL COMMENT \'编码\', INDEX idx_area_name (area_name), INDEX idx_area_code (area_code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'省市区编码(六位码或九位码)\' ');
        $this->addSql('CREATE TABLE adapay_settle_account (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', app_id VARCHAR(100) DEFAULT \'\' COMMENT \'应用app_id\', settle_account_id VARCHAR(100) DEFAULT \'\' COMMENT \'由 Adapay 生成的结算账户对象 id\', member_id BIGINT NOT NULL COMMENT \'member_id\', company_id BIGINT NOT NULL COMMENT \'公司id\', channel VARCHAR(50) DEFAULT \'bank_account\' COMMENT \'目前仅支持：bank_account（银行卡）\', card_id VARCHAR(255) DEFAULT \'\' COMMENT \'银行卡号，如果需要自动开结算账户，本字段必填\', card_name VARCHAR(500) DEFAULT \'\' COMMENT \'银行卡对应的户名，如果需要自动开结算账户，本字段必填；若银行账户类型是对公，必须与企业名称一致\', cert_id VARCHAR(255) DEFAULT \'\' COMMENT \'证件号\', cert_type VARCHAR(10) DEFAULT \'00\' COMMENT \'证件类型，仅支持：00-身份证\', tel_no VARCHAR(255) DEFAULT \'\' COMMENT \'用户手机号\', bank_code VARCHAR(30) DEFAULT \'\' COMMENT \'银行编码，详见附录 银行代码，银行账户类型对公时，必填\', bank_name VARCHAR(30) DEFAULT \'\' COMMENT \'开户银行名称\', bank_acct_type VARCHAR(10) DEFAULT \'\' NOT NULL COMMENT \'银行账户类型：1-对公；2-对私，如果需要自动开结算账户，本字段必填\', prov_code VARCHAR(10) DEFAULT \'\' COMMENT \'省份编码, 银行账户类型为对公时，必填\', area_code VARCHAR(10) DEFAULT \'\' COMMENT \'地区编码, 银行账户类型为对公时，必填\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_member_id (member_id), INDEX idx_card_id (card_id), INDEX idx_company_id (company_id), INDEX idx_cert_id (cert_id), INDEX idx_settle_account_id (settle_account_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'结算账户\' ');
        $this->addSql('CREATE TABLE adapay_sms_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id VARCHAR(255) NOT NULL COMMENT \'公司id\', usr_phone VARCHAR(255) NOT NULL COMMENT \'发送手机号\', rel_id VARCHAR(255) NOT NULL COMMENT \'如果type(提醒类型)为1或2 此字段为开户的member_id,如果type(提醒类型)为3 此字段为dealer_id\', type VARCHAR(255) NOT NULL COMMENT \'提醒类型 总商户开户提醒:1  子商户开户提醒:2  重置密码提醒:3\', content LONGTEXT NOT NULL COMMENT \'发送内容\', status VARCHAR(255) DEFAULT NULL COMMENT \'发送状态 1:成功  0:失败\', error_info LONGTEXT DEFAULT NULL COMMENT \'错误信息\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX ix_company_id (company_id), INDEX ix_rel_id (rel_id), INDEX ix_usr_phone (usr_phone), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay短信提醒日志表\' ');
        $this->addSql('CREATE TABLE adapay_submit_license (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', sub_api_key VARCHAR(255) NOT NULL COMMENT \'渠道商下商户的apiKey\', social_credit_code_id VARCHAR(255) DEFAULT NULL COMMENT \'统一社会信用代码的pic_id，企业商户必填，小微商户不填\', legal_certId_front_id VARCHAR(255) NOT NULL COMMENT \'法人身份证正面的pic_id\', legal_cert_id_back_id VARCHAR(255) NOT NULL COMMENT \'法人身份证反面的pic_id\', account_opening_permit_id VARCHAR(255) NOT NULL COMMENT \'开户许可证图片的pic_id\', business_add VARCHAR(500) DEFAULT NULL COMMENT \'若入驻的费率类型为线上时，该字段必填，请传入商户的业务网址或者商城地址\', store_id VARCHAR(255) DEFAULT NULL COMMENT \'门店的pic_id，若入驻的费率类型为线下时，该字段必填\', transaction_test_record_id VARCHAR(255) DEFAULT NULL COMMENT \'商户在业务网址或商城地址上测试的交易记录截图的pic_id\', web_pic_id VARCHAR(255) DEFAULT NULL COMMENT \'网站截图的pic_id\', lease_contract_id VARCHAR(255) DEFAULT NULL COMMENT \'租赁合同的pic_id，如经营场所照片无法体现经营内容时上传\', settle_account_certificate_id VARCHAR(255) DEFAULT NULL COMMENT \'结算账号开户证明图片的pic_id\', buss_support_materials_id VARCHAR(255) DEFAULT NULL COMMENT \'业务场景证明材料pic_id，如经营场所照片无法体现经营内容时上传\', icp_registration_license_id VARCHAR(255) DEFAULT NULL COMMENT \'icp备案许可证明或者许可证编码的pic_id\', industry_qualify_doc_type VARCHAR(255) DEFAULT NULL COMMENT \'行业资质文件类型：1游戏类，2直播类，3小说图书类，4其他\', industry_qualify_doc_license_id VARCHAR(255) DEFAULT NULL COMMENT \'行业资质文件的pic_id\', shareholder_info_list LONGTEXT DEFAULT NULL COMMENT \'股东信息\', is_sms VARCHAR(20) DEFAULT NULL COMMENT \'是否短信提醒: 1:是  0:否\', audit_status VARCHAR(255) DEFAULT NULL COMMENT \'W -> 待补充，I -> 初始，P -> 通过，R -> 拒绝\', audit_desc VARCHAR(500) DEFAULT NULL COMMENT \'审核拒绝原因\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay提交商户证照\' ');
        $this->addSql('CREATE TABLE adapay_upload_license (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', sub_api_key VARCHAR(255) NOT NULL COMMENT \'渠道商下商户的apiKey\', file_url LONGTEXT NOT NULL COMMENT \'文件路径\', file_type VARCHAR(10) NOT NULL COMMENT \'图片类型，01：三证合一码，02：法人/小微负责人身份证正面，03：法人/小微负责人身份证反面，04：门店，05：开户许可证/小微负责人银行卡正面照，06：股东身份证正面，07：股东身份证反面，08：结算账号开户证明，09：网站截图，10：行业资质文件，11：icp备案许可证明或者许可证编码，12：租赁合同，13：交易测试记录，14：业务场景证明材料\', pic_id VARCHAR(255) NOT NULL COMMENT \'Adapay系统生成的图片id，作为 提交商户证照 接口的请求参数上送至Adapay\', error_msg VARCHAR(500) DEFAULT NULL COMMENT \'错误描述\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'adapay上传商户证照\' ');
        $this->addSql('CREATE TABLE adapay_withdraw_set (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'提现配置表id\', isAuto TINYINT(1) NOT NULL COMMENT \'是否支持自动提现\', company_id BIGINT NOT NULL COMMENT \'公司company id\', distributor_id BIGINT NOT NULL COMMENT \'经销商 id\', cash_amt VARCHAR(255) DEFAULT NULL COMMENT \'取现金额，必须大于0，人民币为元\', cash_type VARCHAR(255) NOT NULL COMMENT \'取现方式 T0：T0取现; T1：T1取现 D1：D1取现\', rule LONGTEXT NOT NULL COMMENT \'提现规则(DC2Type:array)\', INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'提现设置表\' ');
        $this->addSql('CREATE TABLE adapay_wx_business_category (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', fee_type VARCHAR(10) NOT NULL COMMENT \'费率类型\', fee_type_name VARCHAR(50) NOT NULL COMMENT \'费率类型名称\', merchant_type_name VARCHAR(50) NOT NULL COMMENT \'商户种类名称\', business_category_id VARCHAR(50) NOT NULL COMMENT \'微信经营类目id\', INDEX idx_merchant_type_name (merchant_type_name), INDEX idx_business_category_id (business_category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信经营类目\' ');
        $this->addSql('CREATE TABLE aftersales (aftersales_bn BIGINT NOT NULL COMMENT \'售后单号\', order_id BIGINT NOT NULL COMMENT \'订单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', salesman_id BIGINT DEFAULT 0 COMMENT \'导购员id\', shop_id BIGINT DEFAULT 0 NOT NULL COMMENT \'门店id\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', aftersales_type VARCHAR(255) NOT NULL COMMENT \'售后服务类型\', aftersales_status INT DEFAULT 0 NOT NULL COMMENT \'售后状态\', progress INT DEFAULT 0 NOT NULL COMMENT \'处理进度\', refund_fee INT UNSIGNED NOT NULL COMMENT \'应退总金额，单位(分)\', refund_point INT UNSIGNED NOT NULL COMMENT \'应退总积分\', reason VARCHAR(300) NOT NULL COMMENT \'申请售后原因\', description VARCHAR(300) DEFAULT NULL COMMENT \'申请描述\', evidence_pic LONGTEXT DEFAULT NULL COMMENT \'图片凭证信息(DC2Type:simple_array)\', refuse_reason LONGTEXT DEFAULT NULL COMMENT \'拒绝原因\', memo VARCHAR(300) DEFAULT NULL COMMENT \'售后备注\', sendback_data JSON DEFAULT NULL COMMENT \'消费者提交退货物流信息(DC2Type:json_array)\', sendconfirm_data JSON DEFAULT NULL COMMENT \'商家重新发货物流信息(DC2Type:json_array)\', third_data VARCHAR(255) DEFAULT NULL COMMENT \'百胜等第三方返回的数据\', aftersales_address JSON DEFAULT NULL COMMENT \'售后回寄地址信息(DC2Type:json_array)\', distributor_remark VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'店务端商家备注\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'手机号\', INDEX idx_aftersales_bn (aftersales_bn), INDEX idx_order_id (order_id), INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(aftersales_bn)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'售后主表\' ');
        $this->addSql('CREATE TABLE aftersales_detail (detail_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'售后明细ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', user_id BIGINT NOT NULL COMMENT \'用户id\', aftersales_bn BIGINT NOT NULL COMMENT \'售后单号\', order_id VARCHAR(64) NOT NULL COMMENT \'订单号\', sub_order_id BIGINT NOT NULL COMMENT \'订单明细表id\', item_id BIGINT NOT NULL COMMENT \'商品id\', item_bn VARCHAR(255) DEFAULT NULL COMMENT \'商品编码\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', order_item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单商品类型,normal:正常商品，gift: 赠品, plus_buy: 加价购商品\', item_pic VARCHAR(255) DEFAULT NULL COMMENT \'商品图片\', num INT UNSIGNED NOT NULL COMMENT \'售后数量\', refund_fee INT UNSIGNED NOT NULL COMMENT \'应退总金额，单位(分)\', refund_point INT DEFAULT 0 COMMENT \'积分支付应退款积分\', aftersales_type VARCHAR(255) NOT NULL COMMENT \'售后服务类型\', progress INT DEFAULT 0 NOT NULL COMMENT \'处理进度\', aftersales_status INT DEFAULT 0 NOT NULL COMMENT \'售后状态\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', auto_refuse_time VARCHAR(255) DEFAULT \'0\' NOT NULL COMMENT \'售后自动驳回时间\', INDEX idx_aftersales_bn (aftersales_bn), INDEX idx_order_id (order_id), INDEX idx_user_id (user_id), INDEX idx_company_order_sub (company_id, order_id, sub_order_id), PRIMARY KEY(detail_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'售后明细子表\' ');
        $this->addSql('CREATE TABLE aftersales_refund (refund_bn BIGINT NOT NULL COMMENT \'申请退款单号\', aftersales_bn BIGINT DEFAULT NULL COMMENT \'售后单号\', order_id BIGINT NOT NULL COMMENT \'订单号\', trade_id VARCHAR(64) NOT NULL COMMENT \'支付单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', refund_type VARCHAR(255) DEFAULT \'0\' NOT NULL COMMENT \'退款类型\', refund_channel VARCHAR(255) NOT NULL COMMENT \'退款渠道\', refund_status VARCHAR(255) DEFAULT \'READY\' NOT NULL COMMENT \'退款状态\', refund_fee INT UNSIGNED NOT NULL COMMENT \'应退金额，以分为单位，非积分支付\', refunded_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'实退金额，以分为单位\', refund_point INT UNSIGNED NOT NULL COMMENT \'应退积分，以分为单位\', refunded_point INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'实退积分\', return_point INT UNSIGNED NOT NULL COMMENT \'退还(下单获得的)积分，以分为单位\', return_freight INT DEFAULT 0 NOT NULL COMMENT \'是否退运费\', pay_type VARCHAR(255) DEFAULT \'\' COMMENT \'支付方式，同对应支付单\', currency VARCHAR(16) DEFAULT NULL COMMENT \'货币类型\', refunds_memo VARCHAR(255) DEFAULT NULL COMMENT \'退款备注\', refund_success_time BIGINT DEFAULT NULL COMMENT \'退款成功时间\', refund_id VARCHAR(50) DEFAULT NULL COMMENT \'商户返回退款单号\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', cur_fee_type VARCHAR(5) DEFAULT \'CNY\' COMMENT \'系统配置货币类型\', cur_fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'系统配置货币汇率\', cur_fee_symbol VARCHAR(255) DEFAULT \'￥\' COMMENT \'系统配置货币符号\', cur_pay_fee VARCHAR(255) NOT NULL COMMENT \'系统货币支付金额\', hf_order_id VARCHAR(255) DEFAULT NULL COMMENT \'hf_order_id\', INDEX idx_aftersales_bn (aftersales_bn), INDEX idx_order_id (order_id), INDEX idx_user_id (user_id), PRIMARY KEY(refund_bn)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'退款表\' ');
        $this->addSql('CREATE TABLE card_package (package_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'卡券包ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', title VARCHAR(10) DEFAULT \'\' NOT NULL COMMENT \'标题\', package_describe VARCHAR(20) DEFAULT \'\' NOT NULL COMMENT \'描述\', limit_count INT NOT NULL COMMENT \'卡券包限领次数\', get_num INT DEFAULT 0 NOT NULL COMMENT \'被领取数量\', row_status INT DEFAULT 1 NOT NULL COMMENT \'行数据是否有效\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(package_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券包\' ');
        $this->addSql('CREATE TABLE card_package_items (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键ID\', package_id BIGINT NOT NULL COMMENT \'卡券包ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', card_id BIGINT NOT NULL COMMENT \'优惠券卡ID\', give_num BIGINT NOT NULL COMMENT \'发送数量\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_companyid (company_id), INDEX idx_packageid (package_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券包关联表\' ');
        $this->addSql('CREATE TABLE card_package_receive (receive_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键ID\', package_id BIGINT NOT NULL COMMENT \'卡券包ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', receive_type VARCHAR(20) NOT NULL COMMENT \'领取类型，vip_grade/grade/template vip等级/等级/卡券模版\', receive_status INT NOT NULL COMMENT \'1/2/3 领取中/领取成功/领取失败\', front_show INT NOT NULL COMMENT \'前端弹框是否展示过\', receive_time INT NOT NULL COMMENT \'领取时间\', success_count INT NOT NULL COMMENT \'成功领取卡券数量\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_companyid (company_id), INDEX idx_user_id (user_id), INDEX idx_front_show (front_show), PRIMARY KEY(receive_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券包领取记录表\' ');
        $this->addSql('CREATE TABLE card_package_receive_details (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键ID\', receive_id BIGINT NOT NULL COMMENT \'用户领取表主键ID\', package_id BIGINT NOT NULL COMMENT \'卡券包ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', card_id BIGINT NOT NULL COMMENT \'卡券ID\', message VARCHAR(100) NOT NULL COMMENT \'领取描述\', receive_status INT NOT NULL COMMENT \'1/2/3 领取中/领取成功/领取失败\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_companyid (company_id), INDEX idx_user_id (user_id), INDEX idx_receive_id (receive_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券包领取记录详情表\' ');
        $this->addSql('CREATE TABLE card_package_receive_record (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', grade_id BIGINT NOT NULL COMMENT \'等级id\', trigger_type VARCHAR(20) NOT NULL COMMENT \'领取类型，vip_grade/grade vip等级/等级\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_companyid (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'等级卡券包领取记录表\' ');
        $this->addSql('CREATE TABLE card_package_trigger (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键ID\', package_id BIGINT NOT NULL COMMENT \'卡券包ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', trigger_type VARCHAR(15) NOT NULL COMMENT \'触发类型\', association_id BIGINT NOT NULL COMMENT \'关联ID\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_companyid (company_id), INDEX idx_type (trigger_type), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券包触发关联表\' ');
        $this->addSql('CREATE TABLE company_rel_dada (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', source_id VARCHAR(255) DEFAULT NULL COMMENT \'商户编号\', enterprise_name VARCHAR(255) DEFAULT NULL COMMENT \'企业全称\', enterprise_address VARCHAR(255) DEFAULT NULL COMMENT \'企业地址\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'商户手机号\', city_name VARCHAR(255) DEFAULT NULL COMMENT \'商户城市名称\', contact_name VARCHAR(255) DEFAULT NULL COMMENT \'联系人姓名\', contact_phone VARCHAR(255) DEFAULT NULL COMMENT \'联系人电话\', email VARCHAR(255) DEFAULT NULL COMMENT \'邮箱地址\', freight_type TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'运费承担方:0:商家承担，1:买家承担\', status TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'开通状态:0:未开通过，1:已开通过\', is_open TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否开启:0:未开启，1:已开启\', created INT DEFAULT NULL COMMENT \'创建时间\', updated INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商城关联达达同城配表\' ');
        $this->addSql('CREATE TABLE company_rel_logistics (id INT AUTO_INCREMENT NOT NULL, corp_id SMALLINT NOT NULL COMMENT \'物流公司ID\', company_id SMALLINT NOT NULL COMMENT \'公司ID\', corp_code VARCHAR(255) NOT NULL COMMENT \'物流公司代码\', kuaidi_code VARCHAR(255) NOT NULL COMMENT \'快递100代码\', corp_name VARCHAR(255) NOT NULL COMMENT \'物流公司简称\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商城物流启用表\' ');
        $this->addSql('CREATE TABLE companys (company_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'公司id\', company_name VARCHAR(255) DEFAULT NULL COMMENT \'公司名称\', pc_domain VARCHAR(200) DEFAULT NULL COMMENT \'PC域名\', h5_domain VARCHAR(200) DEFAULT NULL COMMENT \'H5域名\', eid VARCHAR(255) DEFAULT NULL, passport_uid VARCHAR(255) DEFAULT NULL, company_admin_operator_id BIGINT NOT NULL COMMENT \'公司管理员id\', industry VARCHAR(255) DEFAULT NULL COMMENT \'所属行业\', created INT NOT NULL, updated INT DEFAULT NULL, expiredAt BIGINT DEFAULT NULL COMMENT \'过期时间\', is_disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否禁用\', third_params JSON DEFAULT NULL COMMENT \'第三方特殊字段存储(DC2Type:json_array)\', salesman_limit INT DEFAULT 20 NOT NULL COMMENT \'导购员数量\', is_open_pc_template INT DEFAULT 2 COMMENT \'是否开启pc模板 1 开启 2不开启\', is_open_domain_setting INT DEFAULT 2 COMMENT \'是否开启域名配置 1 开启 2不开启\', deleted_at DATETIME DEFAULT NULL, INDEX idx_pc_domain (pc_domain), INDEX idx_h5_domain (h5_domain), UNIQUE INDEX idx_passportuid (passport_uid), PRIMARY KEY(company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'公司表\' ');
        $this->addSql('CREATE TABLE companys_article (article_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'文章id\', company_id BIGINT NOT NULL COMMENT \'公司id\', title VARCHAR(255) NOT NULL COMMENT \'标题\', summary VARCHAR(255) DEFAULT NULL COMMENT \'摘要\', content LONGTEXT NOT NULL COMMENT \'文章详细内容\', sort INT DEFAULT NULL COMMENT \'文章排序\', image_url LONGTEXT DEFAULT NULL COMMENT \'文章封面\', share_image_url LONGTEXT DEFAULT NULL COMMENT \'分享图片\', release_time INT DEFAULT NULL COMMENT \'文章发布时间\', release_status TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'文章发布状态\', author VARCHAR(255) DEFAULT NULL COMMENT \'作者\', operator_id BIGINT DEFAULT NULL COMMENT \'作者id\', head_portrait LONGTEXT DEFAULT NULL COMMENT \'作者头像\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'分销商id\', article_type VARCHAR(255) DEFAULT \'general\' COMMENT \'文章类型，general:普通文章; bring:带货文章\', category_id BIGINT DEFAULT NULL COMMENT \'文章类目id\', province VARCHAR(255) DEFAULT NULL COMMENT \'省\', city VARCHAR(255) DEFAULT NULL COMMENT \'市\', area VARCHAR(255) DEFAULT NULL COMMENT \'区\', regions_id JSON DEFAULT NULL COMMENT \'地区编号集合(DC2Type:json_array)\', regions JSON DEFAULT NULL COMMENT \'地区名称集合(DC2Type:json_array)\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(article_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'文章表\' ');
        $this->addSql('CREATE TABLE companys_article_category (category_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'文章类目id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', category_name VARCHAR(50) NOT NULL COMMENT \'类目名称\', parent_id BIGINT DEFAULT 0 NOT NULL COMMENT \'父级id, 0为顶级\', category_level INT DEFAULT 1 COMMENT \'类目等级\', path VARCHAR(255) DEFAULT \'0\' COMMENT \'路径\', sort BIGINT DEFAULT 0 COMMENT \'排序\', category_type VARCHAR(255) DEFAULT \'bring\' COMMENT \'文章栏目类型，general:普通; bring:带货\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'文章类目表\' ');
        $this->addSql('CREATE TABLE companys_currency_exchange_rate (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'公司id\', company_id BIGINT NOT NULL COMMENT \'公司id\', title VARCHAR(255) DEFAULT NULL COMMENT \'货币描述\', currency VARCHAR(255) DEFAULT NULL COMMENT \'货币英文缩写\', symbol VARCHAR(255) NOT NULL COMMENT \'货币符号\', rate DOUBLE PRECISION NOT NULL COMMENT \'货币汇率(与人民币)\', is_default TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否默认货币\', use_platform VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'适用端。可选值为 service,normal\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'货币汇率\' ');
        $this->addSql('CREATE TABLE companys_employee_rel_roles (company_id BIGINT NOT NULL COMMENT \'公司id\', role_id VARCHAR(32) NOT NULL COMMENT \'角色id\', operator_id VARCHAR(32) NOT NULL COMMENT \'员工id\', INDEX idx_company_id (company_id), PRIMARY KEY(company_id, role_id, operator_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'员工绑定角色表\' ');
        $this->addSql('CREATE TABLE companys_operator_logs (log_id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT DEFAULT 0 NOT NULL COMMENT \'公司id\', operator_id INT DEFAULT 0 NOT NULL COMMENT \'操作者id\', request_uri VARCHAR(255) DEFAULT NULL COMMENT \'请求资源信息\', ip VARCHAR(255) DEFAULT NULL COMMENT \'ip地址\', params JSON DEFAULT NULL COMMENT \'请求参数(DC2Type:json_array)\', operator_name VARCHAR(255) DEFAULT NULL COMMENT \'操作内容\', created INT NOT NULL, log_type VARCHAR(255) DEFAULT \'operator\' COMMENT \'操作日志类型\', PRIMARY KEY(log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商家操作日志表\' ');
        $this->addSql('CREATE TABLE companys_profit (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', profit_user_id BIGINT NOT NULL COMMENT \'分润类型id\', profit_user_type BIGINT NOT NULL COMMENT \'1 用户 2 店铺 3 区域经销商 4 总部\', total_fee BIGINT DEFAULT NULL COMMENT \'分润金额，以分为单位\', frozen_fee BIGINT DEFAULT NULL COMMENT \'冻结金额，以分为单位\', withdrawals_fee BIGINT DEFAULT NULL COMMENT \'可以提现金额，以分为单位\', cashed_fee BIGINT DEFAULT NULL COMMENT \'已提现金额，以分为单位\', commissions BIGINT DEFAULT NULL COMMENT \'拉新提成（导购｜门店）\', popularize_commissions BIGINT DEFAULT NULL COMMENT \'推广提成（导购）\', goods_amount BIGINT DEFAULT NULL COMMENT \'货款（发货门店｜总部）\', subsidy BIGINT DEFAULT NULL COMMENT \'补贴（经销商）\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分润记录表\' ');
        $this->addSql('CREATE TABLE companys_profit_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', profit_user_id BIGINT NOT NULL COMMENT \'分润类型id\', profit_user_type BIGINT NOT NULL COMMENT \'1 导购 2 店铺 3 区域经销商 4 总部\', profit_type BIGINT NOT NULL COMMENT \'1 拉新分润 2 推广提成 3 货款 4 补贴\', status BIGINT NOT NULL COMMENT \'资金状态 1 取消退款 2 售后退款 3 提现扣减 11 购物冻结 12 购物可体现\', income_fee BIGINT DEFAULT NULL COMMENT \'增加金额\', outcome_fee BIGINT DEFAULT NULL COMMENT \'扣减金额\', remark VARCHAR(60) NOT NULL COMMENT \'资金状态\', params JSON DEFAULT NULL COMMENT \'冗余参数 例如 order_id(DC2Type:json_array)\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分润记录表\' ');
        $this->addSql('CREATE TABLE companys_profit_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', date VARCHAR(20) NOT NULL COMMENT \'分润月份\', company_id BIGINT NOT NULL COMMENT \'公司id\', profit_user_id BIGINT NOT NULL COMMENT \'分润类型id\', profit_user_type BIGINT NOT NULL COMMENT \'1 用户 2 店铺 3 区域经销商 4 总部\', withdrawals_fee BIGINT DEFAULT 0 COMMENT \'提现金额，以分为单位\', name VARCHAR(100) DEFAULT \'\' COMMENT \'提现对象名称\', params JSON DEFAULT NULL COMMENT \'提现对象名称(DC2Type:json_array)\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分润记录表\' ');
        $this->addSql('CREATE TABLE companys_regionauth (regionauth_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'地区id\', regionauth_name VARCHAR(50) DEFAULT NULL COMMENT \'地区名称\', state INT NOT NULL COMMENT \'数据状态(1正常，-1删除)\', company_id BIGINT NOT NULL COMMENT \'公司id\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_regionauth_id (regionauth_id), INDEX ix_company_id (company_id), PRIMARY KEY(regionauth_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'地区权限\' ');
        $this->addSql('CREATE TABLE companys_roles (role_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'角色id\', company_id BIGINT NOT NULL COMMENT \'公司id\', role_name VARCHAR(32) NOT NULL COMMENT \'角色名称\', role_source VARCHAR(32) DEFAULT \'platform\' NOT NULL COMMENT \'角色平台来源,platform: 平台角色，distributor:店铺管理角色\', permission LONGTEXT NOT NULL COMMENT \'权限,json数据\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(role_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'员工角色表\' ');
        $this->addSql('CREATE TABLE companys_saleman_customer_complaints (id INT AUTO_INCREMENT NOT NULL COMMENT \'主键id\', user_id INT NOT NULL COMMENT \'会员id\', company_id INT NOT NULL, user_name VARCHAR(255) NOT NULL COMMENT \'会员名\', user_mobile VARCHAR(255) NOT NULL COMMENT \'会员手机号\', saleman_id INT NOT NULL COMMENT \'导购员id\', saleman_name VARCHAR(255) NOT NULL COMMENT \'导购员名\', saleman_avatar VARCHAR(255) DEFAULT NULL COMMENT \'导购员企业微信头像\', saleman_mobile VARCHAR(255) NOT NULL COMMENT \'导购员手机号\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', saleman_distribution_name VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'导购员所在店铺名\', complaints_content VARCHAR(255) NOT NULL COMMENT \'投诉内容\', complaints_images LONGTEXT DEFAULT NULL COMMENT \'投诉图片\', reply_status TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'回复状态:0未回复；1已回复\', reply_content LONGTEXT DEFAULT NULL COMMENT \'回复内容，json数组，内含操作员id，操作员手机号，操作员名称，回复时间，回复内容\', reply_time INT DEFAULT 0 COMMENT \'回复时间\', reply_operator_id INT DEFAULT 0 COMMENT \'回复操作员id\', reply_operator_name VARCHAR(255) DEFAULT \'\' COMMENT \'回复操作员名称\', reply_operator_mobile VARCHAR(255) DEFAULT \'\' COMMENT \'回复操作员手机号\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购客诉表\' ');
        $this->addSql('CREATE TABLE companys_saleperson_cart (cart_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'购物车ID\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', item_id BIGINT NOT NULL COMMENT \'商品id\', package_items VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'关联商品id集合\', num BIGINT DEFAULT 1 NOT NULL COMMENT \'商品数量\', company_id BIGINT NOT NULL COMMENT \'企业id\', is_checked TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'购物车是否选中\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', special_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'商品特殊类型 drug 处方药 normal 普通商品\', INDEX idx_item_id (item_id), INDEX idx_salesperson_id (salesperson_id), INDEX idx_company_id (company_id), INDEX idx_is_checked (is_checked), PRIMARY KEY(cart_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员购物车\' ');
        $this->addSql('CREATE TABLE companys_sales_promotions (sales_promotion_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'促销单ID\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', unique_key VARCHAR(255) NOT NULL COMMENT \'促销单唯一key\', promotion_items LONGTEXT NOT NULL COMMENT \'促销单内容\', company_id BIGINT NOT NULL COMMENT \'企业id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', INDEX idx_salesperson_id (salesperson_id), INDEX idx_company_id (company_id), INDEX idx_unique_key (unique_key), PRIMARY KEY(sales_promotion_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购促销单\' ');
        $this->addSql('CREATE TABLE companys_salesperson_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'激活id\', company_id BIGINT NOT NULL COMMENT \'公司id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', add_date INT NOT NULL COMMENT \'统计日期 Ymd\', statistic_title VARCHAR(255) NOT NULL COMMENT \'统计数据描述，order_pay_num:订单支付数量,order_pay_fee:订单支付金额,order_pay_user_num:订单支付会员数,vip_user:新增vip会员数,svip_user:新增svip会员数,add_user:注册会员数,new_guest_divided:拉新提成,sales_commission:销售提成\', statistic_type VARCHAR(255) NOT NULL COMMENT \'统计类型，normal:实体订单,service:服务订单,member:会员\', data_value INT DEFAULT 0 NOT NULL COMMENT \'统计数据\', created INT NOT NULL, updated INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_statistic_type (statistic_type), INDEX ix_statistic_title (statistic_title), INDEX ix_add_date (add_date), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员销售额数据统计表\' ');
        $this->addSql('CREATE TABLE companys_setting (company_id BIGINT NOT NULL COMMENT \'公司id\', community_config LONGTEXT DEFAULT NULL COMMENT \'社区相关设置\', withdraw_bank LONGTEXT DEFAULT NULL COMMENT \'提现支持银行类型\', consumer_hotline VARCHAR(255) DEFAULT NULL COMMENT \'客服电话\', customer_switch INT DEFAULT 0 NOT NULL COMMENT \'客服开关\', fapiao_config LONGTEXT DEFAULT NULL COMMENT \'发票相关设置\', fapiao_switch INT DEFAULT 0 NOT NULL COMMENT \'发票开关\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业设置表\' ');
        $this->addSql('CREATE TABLE companys_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'激活id\', company_id BIGINT NOT NULL COMMENT \'公司id\', add_date INT NOT NULL COMMENT \'统计日期 Ymd\', statistic_title VARCHAR(255) NOT NULL COMMENT \'统计数据描述，order_pay_num:订单支付数量,order_pay_fee:订单支付金额,order_pay_user_num:订单支付会员数,vip_user:新增vip会员数,svip_user:新增svip会员数,add_user:注册会员数\', statistic_type VARCHAR(255) NOT NULL COMMENT \'统计类型，normal:实体订单,service:服务订单,member:会员\', data_value INT DEFAULT 0 NOT NULL COMMENT \'统计数据\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_add_date (add_date), INDEX ix_statistic_type (statistic_type), INDEX ix_statistic_title (statistic_title), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商城数据统计表\' ');
        $this->addSql('CREATE TABLE companys_store_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'激活id\', company_id BIGINT NOT NULL COMMENT \'公司id\', shop_id BIGINT NOT NULL COMMENT \'店铺id\', add_date INT NOT NULL COMMENT \'统计日期 Ymd\', statistic_title VARCHAR(255) NOT NULL COMMENT \'统计数据描述，order_pay_num:订单支付数量,order_pay_fee:订单支付金额,order_pay_user_num:订单支付会员数,vip_user:新增vip会员数,svip_user:新增svip会员数,add_user:注册会员数\', statistic_type VARCHAR(255) NOT NULL COMMENT \'统计类型，normal:实体订单,service:服务订单,member:会员\', data_value INT DEFAULT 0 NOT NULL COMMENT \'统计数据\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_statistic_type (statistic_type), INDEX ix_statistic_title (statistic_title), INDEX ix_add_date (add_date), INDEX ix_shop_id (shop_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商城数据统计表\' ');
        $this->addSql('CREATE TABLE config_request_fields (id INT AUTO_INCREMENT NOT NULL COMMENT \'主键id\', company_id INT NOT NULL COMMENT \'公司id\', module_type SMALLINT NOT NULL COMMENT \'模块类型, 【1: 会员注册】\', label VARCHAR(50) NOT NULL COMMENT \'该请求字段的标识, 比如是mobile则表示为手机号\', key_name VARCHAR(50) NOT NULL COMMENT \'前后端交互时需要被传递的key名，如果是手机号则是mobile\', is_open TINYINT(1) NOT NULL COMMENT \'是否启用, 【0 关闭】【1 开启】\', is_required TINYINT(1) NOT NULL COMMENT \'是否必填, 【0 非必填】 【1 必填】\', is_preset TINYINT(1) NOT NULL COMMENT \'是否是预设字段, 【0 非必填】 【1 必填】\', is_edit TINYINT(1) NOT NULL COMMENT \'是否可修改, 【0 不可修改】 【1 可修改】\', field_type SMALLINT NOT NULL COMMENT \'当前请求字段的类型, [1 文本] [2 数字] [3 日期] [4 单选项]\', validate_condition LONGTEXT NOT NULL COMMENT \'验证条件, json存储\', alert_required_message VARCHAR(255) NOT NULL COMMENT \'提示必填时的文案\', alert_validate_message VARCHAR(255) NOT NULL COMMENT \'提示验证时时的文案\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_module_open (company_id, module_type, is_open), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'配置信息, 配置传递的请求字段\' ');
        $this->addSql('CREATE TABLE coupon_give_error_log (give_log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'优惠券赠送失败记录id\', give_id BIGINT NOT NULL COMMENT \'优惠券赠送失败记录id\', uid BIGINT NOT NULL COMMENT \'赠送用户id\', company_id BIGINT NOT NULL COMMENT \'商户id\', card_id BIGINT NOT NULL COMMENT \'赠送优惠券id\', note VARCHAR(255) NOT NULL COMMENT \'失败原因记录\', created INT NOT NULL, INDEX idx_companyid (company_id), INDEX idx_giveid (give_id), PRIMARY KEY(give_log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'优惠券赠送失败记录表\' ');
        $this->addSql('CREATE TABLE coupon_give_log (give_log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'优惠券赠送失败记录id\', company_id BIGINT NOT NULL COMMENT \'商户id\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', sender VARCHAR(255) NOT NULL COMMENT \'发送者\', number BIGINT NOT NULL COMMENT \'赠送数量\', error BIGINT NOT NULL COMMENT \'失败数量\', created INT NOT NULL, PRIMARY KEY(give_log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'优惠券赠送表\' ');
        $this->addSql('CREATE TABLE crossborder_identity (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'设置id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', identity_id VARCHAR(18) NOT NULL COMMENT \'身份证\', identity_name VARCHAR(20) NOT NULL COMMENT \'身份证姓名\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_id (id), INDEX ix_company_id (company_id), INDEX ix_user_id (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'跨境-身份证信息\' ');
        $this->addSql('CREATE TABLE crossborder_origincountry (origincountry_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'产地国id\', state INT NOT NULL COMMENT \'数据状态(1正常，-1删除)\', company_id BIGINT NOT NULL COMMENT \'公司id\', origincountry_name VARCHAR(255) DEFAULT NULL COMMENT \'产地国名称\', origincountry_img_url VARCHAR(255) DEFAULT NULL COMMENT \'产地国国旗\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_origincountry_id (origincountry_id), INDEX ix_company_id (company_id), PRIMARY KEY(origincountry_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'跨境-产地国表\' ');
        $this->addSql('CREATE TABLE crossborder_set (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'设置id\', company_id BIGINT NOT NULL COMMENT \'公司id\', tax_rate VARCHAR(10) NOT NULL COMMENT \'税率\', quota_tip TEXT DEFAULT NULL COMMENT \'额度提醒\', logistics VARCHAR(10) NOT NULL COMMENT \'跨境物流\', crossborder_show INT DEFAULT 0 NOT NULL COMMENT \'跨境显示,0不显示，1显示\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_id (id), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'跨境-设置\' ');
        $this->addSql('CREATE TABLE crossborder_taxstrategy (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'设置id\', company_id BIGINT NOT NULL COMMENT \'公司id\', taxstrategy_name VARCHAR(255) DEFAULT NULL COMMENT \'规则名称\', taxstrategy_content LONGTEXT DEFAULT NULL COMMENT \'策略内容\', state INT NOT NULL COMMENT \'数据状态(1正常，-1删除)\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_id (id), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'跨境-税费策略\' ');
        $this->addSql('CREATE TABLE custom_declare_order_result (order_id BIGINT NOT NULL COMMENT \'订单号\', trade_id VARCHAR(64) NOT NULL COMMENT \'交易单号\', state VARCHAR(255) NOT NULL COMMENT \'状态码\', company_id BIGINT NOT NULL COMMENT \'公司id\', transaction_id VARCHAR(28) NOT NULL COMMENT \'微信支付返回的订单号\', sub_order_no VARCHAR(64) DEFAULT NULL COMMENT \'子订单号\', sub_order_id VARCHAR(64) DEFAULT NULL COMMENT \'微信子订单号\', modify_time VARCHAR(14) NOT NULL COMMENT \'最后更新时间\', cert_check_result VARCHAR(256) NOT NULL COMMENT \'订购人和支付人身份信息校验结果\', verify_department VARCHAR(16) NOT NULL COMMENT \'验证机构\', verify_department_trade_id VARCHAR(64) NOT NULL COMMENT \'验核机构交易流水号\', create_time INT NOT NULL COMMENT \'请求时间\', PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单附加信息提交信息接口请求结果表\' ');
        $this->addSql('CREATE TABLE customs_data (order_id BIGINT NOT NULL COMMENT \'订单号\', session_id VARCHAR(255) NOT NULL COMMENT \'海关发起请求时，平台接收的会话ID\', service_time BIGINT NOT NULL COMMENT \'调用时的系统时间\', status TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否上报 0否 1是\', PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'接收海关支付数据请求表\' ');
        $this->addSql('CREATE TABLE datacube_company_data (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', count_date DATE NOT NULL COMMENT \'日期\', company_id BIGINT NOT NULL COMMENT \'公司ID\', member_count INT DEFAULT 0 NOT NULL COMMENT \'新增会员数\', aftersales_count INT DEFAULT 0 NOT NULL COMMENT \'新增售后单数\', refunded_count INT DEFAULT 0 NOT NULL COMMENT \'新增退款额\', amount_payed_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增交易额\', amount_point_payed_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增交易额(积分)\', order_count INT DEFAULT 0 NOT NULL COMMENT \'新增订单数\', order_point_count INT DEFAULT 0 NOT NULL COMMENT \'新增订单数(积分)\', order_payed_count INT DEFAULT 0 NOT NULL COMMENT \'新增已付款订单数\', order_point_payed_count INT DEFAULT 0 NOT NULL COMMENT \'新增已付款订单数(积分)\', gmv_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增gmv\', gmv_point_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增gmv(积分)\', UNIQUE INDEX ix_date_company (count_date, company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商城数据统计表\' ');
        $this->addSql('CREATE TABLE datacube_distributor_data (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', count_date DATE NOT NULL COMMENT \'日期\', company_id BIGINT NOT NULL COMMENT \'公司ID\', distributor_id BIGINT NOT NULL COMMENT \'经销商ID\', member_count INT DEFAULT 0 NOT NULL COMMENT \'新增会员数\', aftersales_count INT DEFAULT 0 NOT NULL COMMENT \'新增售后单数\', refunded_count INT DEFAULT 0 NOT NULL COMMENT \'新增退款额\', amount_payed_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增交易额\', amount_point_payed_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增交易额(积分)\', order_count INT DEFAULT 0 NOT NULL COMMENT \'新增订单数\', order_point_count INT DEFAULT 0 NOT NULL COMMENT \'新增订单数(积分)\', order_payed_count INT DEFAULT 0 NOT NULL COMMENT \'新增已付款订单数\', order_point_payed_count INT DEFAULT 0 NOT NULL COMMENT \'新增已付款订单数(积分)\', gmv_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增gmv\', gmv_point_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增gmv(积分)\', UNIQUE INDEX ix_date_distributor (count_date, company_id, distributor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商城门店数据统计表\' ');
        $this->addSql('CREATE TABLE datacube_goods_data (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', count_date DATE NOT NULL COMMENT \'日期\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_id BIGINT NOT NULL COMMENT \'商品id\', sales_count INT DEFAULT 0 NOT NULL COMMENT \'新增销量\', fixed_amount_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增成交额(优惠前)\', settle_amount_count BIGINT DEFAULT 0 NOT NULL COMMENT \'新增成交额(实付价)\', UNIQUE INDEX ix_date_goods (count_date, company_id, item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品数据统计表\' ');
        $this->addSql('CREATE TABLE datacube_monitors (monitor_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'监控id\', company_id BIGINT NOT NULL COMMENT \'公司id\', wxappid VARCHAR(255) NOT NULL COMMENT \'小程序appid\', nick_name VARCHAR(255) NOT NULL COMMENT \'小程序名称\', page_name VARCHAR(255) NOT NULL COMMENT \'页面描述\', monitor_path VARCHAR(255) NOT NULL COMMENT \'监控页面\', monitor_path_params VARCHAR(255) DEFAULT NULL COMMENT \'监控页面的参数\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(monitor_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序页面监控\' ');
        $this->addSql('CREATE TABLE datacube_relsources (monitor_id BIGINT NOT NULL COMMENT \'监控id\', source_id BIGINT NOT NULL COMMENT \'来源id\', company_id BIGINT NOT NULL COMMENT \'公司id\', PRIMARY KEY(monitor_id, source_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序页面与来源关联表\' ');
        $this->addSql('CREATE TABLE datacube_statistics (monitor_id BIGINT NOT NULL COMMENT \'监控id\', source_id BIGINT NOT NULL COMMENT \'来源id\', company_id BIGINT NOT NULL COMMENT \'公司id\', view_num BIGINT DEFAULT 0 NOT NULL COMMENT \'浏览人数\', entries_num BIGINT DEFAULT 0 NOT NULL COMMENT \'参与人数\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(monitor_id, source_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序页面与来源关联表\' ');
        $this->addSql('CREATE TABLE deposit_recharge_agreement (company_id VARCHAR(255) NOT NULL COMMENT \'企业ID\', content LONGTEXT NOT NULL COMMENT \'协议内容\', create_time VARCHAR(255) NOT NULL COMMENT \'创建时间\', PRIMARY KEY(company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'充值协议表\' ');
        $this->addSql('CREATE TABLE deposit_recharge_rule (id INT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id VARCHAR(255) NOT NULL COMMENT \'企业ID\', money VARCHAR(255) NOT NULL COMMENT \'充值固定金额\', rule_type VARCHAR(255) NOT NULL COMMENT \'充值规则类型\', rule_data VARCHAR(255) NOT NULL COMMENT \'充值规则数据\', create_time VARCHAR(255) NOT NULL COMMENT \'创建时间\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'储值规则，充值固定金额送钱或送礼品\' ');
        $this->addSql('CREATE TABLE deposit_trade (deposit_trade_id VARCHAR(64) NOT NULL COMMENT \'储值流水号\', company_id VARCHAR(255) NOT NULL COMMENT \'企业ID\', member_card_code VARCHAR(255) NOT NULL COMMENT \'充值会员卡号\', shop_id VARCHAR(255) DEFAULT NULL COMMENT \'门店ID\', shop_name VARCHAR(255) DEFAULT NULL COMMENT \'门店名称\', user_id VARCHAR(255) NOT NULL COMMENT \'购买用户\', mobile VARCHAR(255) NOT NULL COMMENT \'购买用户手机号\', open_id VARCHAR(255) DEFAULT NULL COMMENT \'用户open_id\', money VARCHAR(255) NOT NULL COMMENT \'充值金额/消费金额。 单位是分\', trade_type VARCHAR(16) NOT NULL COMMENT \'交易类型充值或消费。consume:消费，recharge:充值\', trade_status VARCHAR(16) NOT NULL COMMENT \'交易状态\', transaction_id VARCHAR(255) DEFAULT NULL COMMENT \'充值支付订单号\', recharge_rule_id VARCHAR(255) DEFAULT NULL COMMENT \'充值满足活动规则ID\', bank_type VARCHAR(255) DEFAULT NULL COMMENT \'付款银行\', authorizer_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', pay_type VARCHAR(64) DEFAULT NULL COMMENT \'充值支付方式\', wxa_appid VARCHAR(64) DEFAULT NULL COMMENT \'支付小程序的appid\', detail VARCHAR(255) NOT NULL COMMENT \'交易详情\', time_start VARCHAR(255) NOT NULL COMMENT \'交易起始时间\', time_expire VARCHAR(255) DEFAULT NULL COMMENT \'交易结束时间\', fee_type VARCHAR(16) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', cur_fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'系统配置货币类型\', cur_fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'系统配置货币汇率\', cur_fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'系统配置货币符号\', cur_pay_fee VARCHAR(255) NOT NULL COMMENT \'系统货币支付金额\', PRIMARY KEY(deposit_trade_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'预存款交易记录表\' ');
        $this->addSql('CREATE TABLE distribution_basic_config (company_id BIGINT NOT NULL, is_buy TINYINT(1) NOT NULL COMMENT \'是否可购买\', limit_rebate VARCHAR(255) NOT NULL COMMENT \'提现佣金限制，最少多少金额可提现\', limit_time VARCHAR(255) NOT NULL COMMENT \'订单完成后多少天可提现\', return_name VARCHAR(255) NOT NULL COMMENT \'退换货接收人\', return_address VARCHAR(255) NOT NULL COMMENT \'退换货地址\', return_phone VARCHAR(255) NOT NULL COMMENT \'退换货联系方式\', is_income_tax VARCHAR(255) NOT NULL COMMENT \'是否开启劳务所得税\', income_tax_params VARCHAR(255) DEFAULT NULL COMMENT \'劳务所得税计算参数\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分销商基础配置\' ');
        $this->addSql('CREATE TABLE distribution_cash_withdrawal (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, distributor_id VARCHAR(255) NOT NULL COMMENT \'分销商id\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', distributor_name VARCHAR(255) NOT NULL COMMENT \'分销商真实姓名\', open_id VARCHAR(255) NOT NULL COMMENT \'分销商open_id\', user_id VARCHAR(255) NOT NULL COMMENT \'会员ID\', distributor_mobile VARCHAR(32) NOT NULL, money INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'提现金额，以分为单位\', status VARCHAR(255) NOT NULL COMMENT \'提现状态\', remarks VARCHAR(255) DEFAULT NULL COMMENT \'备注\', wxa_appid VARCHAR(255) NOT NULL COMMENT \'提现的小程序appid\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分销商佣金提现记录表\' ');
        $this->addSql('CREATE TABLE distribution_distribute_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', distributor_id BIGINT NOT NULL COMMENT \'分销商id\', distributor_mobile VARCHAR(32) NOT NULL, order_id BIGINT NOT NULL COMMENT \'订单号\', item_id BIGINT NOT NULL COMMENT \'商品id\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', mobile VARCHAR(32) DEFAULT NULL COMMENT \'分销商手机号\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', pic VARCHAR(255) DEFAULT NULL COMMENT \'商品图片\', num INT UNSIGNED NOT NULL COMMENT \'购买商品数量\', rebate INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'单个分销金额，以分为单位\', total_rebate INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'总分销金额，以分为单位\', is_close TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否已结算\', plan_close_time INT NOT NULL COMMENT \'计划结算时间\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT NOT NULL COMMENT \'订单更新时间\', UNIQUE INDEX rebatelog_idx (order_id, distributor_id, item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分销商佣金记录表\' ');
        $this->addSql('CREATE TABLE distribution_distributor (distributor_id BIGINT AUTO_INCREMENT NOT NULL, is_distributor TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否是主店铺\', company_id BIGINT NOT NULL COMMENT \'公司id\', mobile VARCHAR(255) NOT NULL COMMENT \'店铺手机号\', address VARCHAR(255) DEFAULT NULL COMMENT \'店铺地址\', name VARCHAR(255) NOT NULL COMMENT \'店铺名称\', auto_sync_goods TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'自动同步总部商品\', logo VARCHAR(255) DEFAULT NULL COMMENT \'店铺logo\', contract_phone VARCHAR(20) DEFAULT \'0\' NOT NULL COMMENT \'其他联系方式\', banner VARCHAR(255) DEFAULT NULL COMMENT \'店铺banner\', contact VARCHAR(500) DEFAULT NULL COMMENT \'联系人名称\', is_valid VARCHAR(255) DEFAULT \'true\' NOT NULL COMMENT \'店铺是否有效\', lng VARCHAR(255) DEFAULT NULL COMMENT \'腾讯地图纬度\', lat VARCHAR(255) DEFAULT NULL COMMENT \'腾讯地图经度\', province VARCHAR(255) DEFAULT NULL, city VARCHAR(255) DEFAULT NULL, hour VARCHAR(150) DEFAULT NULL COMMENT \'营业时间\', area VARCHAR(255) DEFAULT NULL, regions_id LONGTEXT DEFAULT NULL COMMENT \'国家行政区划编码组合，逗号隔开\', is_domestic SMALLINT DEFAULT 1 COMMENT \'是否是中国国内门店 1:国内(包含港澳台),2:非国内\', is_direct_store SMALLINT DEFAULT 1 COMMENT \'是否为直营店 1:直营店,2:非直营店\', child_count INT DEFAULT NULL, shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', is_default INT DEFAULT 0 COMMENT \'门店id\', is_audit_goods TINYINT(1) DEFAULT \'0\' COMMENT \'是否审核店铺商品\', is_ziti TINYINT(1) DEFAULT \'0\' COMMENT \'是否支持自提\', is_delivery TINYINT(1) DEFAULT \'1\' COMMENT \'是否支持配送\', regions LONGTEXT DEFAULT NULL COMMENT \'地区名称组合。json格式\', review_status TINYINT(1) DEFAULT \'0\' COMMENT \'入驻审核状态，0未审核，1已审核\', source_from INT DEFAULT 1 COMMENT \'店铺来源，1管理端添加，2小程序申请入驻，3外部开放接口添加\', dealer_id INT DEFAULT 0 COMMENT \'经销商ID\', split_ledger_info VARCHAR(255) DEFAULT NULL COMMENT \'分账信息\', created bigint NOT NULL, updated bigint NOT NULL, shop_code VARCHAR(255) DEFAULT NULL COMMENT \'店铺号\', distributor_self INT DEFAULT 0 COMMENT \'是否是总店配置\', wechat_work_department_id INT DEFAULT 0 COMMENT \'企业微信的部门ID\', regionauth_id BIGINT DEFAULT 0 NOT NULL COMMENT \'区域id\', is_open VARCHAR(255) DEFAULT \'false\' NOT NULL COMMENT \'是否开启分账\', rate INT UNSIGNED DEFAULT NULL COMMENT \'平台服务费率\', is_dada TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否开启达达同城配,0:未开启,1:已开启\', business SMALLINT DEFAULT NULL COMMENT \'业务类型(食品小吃-1,饮料-2,鲜花绿植-3,文印票务-8,便利店-9,水果生鲜-13,同城电商-19, 医药-20,蛋糕-21,酒品-24,小商品市场-25,服装-26,汽修零配-27,数码家电-28,小龙虾-29,个人-50,火锅-51,个护美妆-53、母婴-55,家居家纺-57,手机-59,家装-61,其他-5)\', dada_shop_create TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'该门店在达达是否已创建,0:未创建,1:已创建\', INDEX ix_is_distributor (is_distributor), INDEX ix_shop_id (shop_id), INDEX ix_company_id_shop_code (company_id, shop_code), INDEX ix_is_ziti (is_ziti), PRIMARY KEY(distributor_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺表\' ');
        $this->addSql('CREATE TABLE distribution_distributor_items (id BIGINT AUTO_INCREMENT NOT NULL, distributor_id BIGINT NOT NULL, company_id BIGINT NOT NULL, item_id BIGINT NOT NULL COMMENT \'商品ID\', default_item_id BIGINT DEFAULT 0 NOT NULL COMMENT \'默认商品ID\', goods_id BIGINT DEFAULT 0 NOT NULL COMMENT \'商品集合ID\', is_show TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否为列表默认展示\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', store BIGINT DEFAULT 0 COMMENT \'商品库存\', price BIGINT DEFAULT 0 COMMENT \'商品价格\', is_total_store TINYINT(1) DEFAULT \'1\' COMMENT \'是否为总部库存\', is_can_sale TINYINT(1) DEFAULT \'1\' COMMENT \'是否在本店可售\', goods_can_sale TINYINT(1) DEFAULT \'1\' COMMENT \'商品是否可售，有一个sku可售，那么商品就可售\', is_self_delivery TINYINT(1) DEFAULT \'0\' COMMENT \'是否开启自提配送\', is_express_delivery TINYINT(1) DEFAULT \'0\' COMMENT \'是否开启快递配送\', sales BIGINT DEFAULT 0 NOT NULL COMMENT \'商品销量\', created bigint NOT NULL, updated bigint NOT NULL, UNIQUE INDEX distributor_items (distributor_id, item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺导购员表\' ');
        $this->addSql('CREATE TABLE distribution_distributor_salesman (salesman_id BIGINT AUTO_INCREMENT NOT NULL, distributor_id BIGINT NOT NULL COMMENT \'上线店铺ID\', company_id BIGINT NOT NULL COMMENT \'企业ID\', mobile VARCHAR(32) NOT NULL COMMENT \'手机号\', salesman_name VARCHAR(32) NOT NULL COMMENT \'姓名\', child_count INT DEFAULT 0 COMMENT \'导购注册人员数量\', user_id VARCHAR(255) DEFAULT NULL, is_valid VARCHAR(255) NOT NULL COMMENT \'是否有效\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(salesman_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺导购员表\' ');
        $this->addSql('CREATE TABLE distribution_distributor_salesman_role (salesman_role_id BIGINT AUTO_INCREMENT NOT NULL, company_id INT NOT NULL COMMENT \'企业ID\', role_name VARCHAR(32) NOT NULL COMMENT \'导购员角色名称\', rule_ids JSON DEFAULT NULL COMMENT \'导购员角色类型(DC2Type:json_array)\', PRIMARY KEY(salesman_role_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺权限表\' ');
        $this->addSql('CREATE TABLE distribution_distributor_user (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', distributor_id BIGINT DEFAULT 0 COMMENT \'店铺id\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', user_id BIGINT NOT NULL, salesman_id BIGINT DEFAULT 0 COMMENT \'导购员ID\', company_id BIGINT NOT NULL, family LONGTEXT DEFAULT NULL COMMENT \'分销商名称\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), INDEX idx_distributor_id (distributor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员对应的导购员信息表\' ');
        $this->addSql('CREATE TABLE distribution_shopScreen_advertisement (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'广告id\', company_id BIGINT NOT NULL COMMENT \'公司id\', title VARCHAR(255) NOT NULL COMMENT \'标题\', thumb_img LONGTEXT NOT NULL COMMENT \'缩略图\', sort INT DEFAULT NULL COMMENT \'排序\', media_url LONGTEXT NOT NULL COMMENT \'(图片/视频)地址\', media_type VARCHAR(255) DEFAULT \'image\' NOT NULL COMMENT \'类型\', release_time INT DEFAULT NULL COMMENT \'发布时间\', release_status TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'发布状态\', operator_id BIGINT DEFAULT NULL COMMENT \'作者id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'分销商id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'广告表\' ');
        $this->addSql('CREATE TABLE distribution_shopScreen_slider (slide_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'轮播id\', company_id BIGINT NOT NULL, distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'分销商id\', title VARCHAR(255) NOT NULL COMMENT \'标题\', sub_title VARCHAR(255) NOT NULL COMMENT \'副标题\', style_params LONGTEXT NOT NULL COMMENT \'风格参数(DC2Type:array)\', desc_status TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'图片描述状态11\', image_list LONGTEXT NOT NULL COMMENT \'轮播图列表(DC2Type:array)\', PRIMARY KEY(slide_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE distributor_aftersales_address (address_id BIGINT AUTO_INCREMENT NOT NULL, distributor_id BIGINT NOT NULL COMMENT \'店铺id\', company_id BIGINT NOT NULL COMMENT \'企业id\', province VARCHAR(255) NOT NULL COMMENT \'省\', city VARCHAR(255) NOT NULL COMMENT \'市\', area VARCHAR(255) NOT NULL COMMENT \'区/县\', regions_id LONGTEXT NOT NULL, regions LONGTEXT NOT NULL, address VARCHAR(255) NOT NULL COMMENT \'地址\', contact VARCHAR(500) NOT NULL COMMENT \'联系人\', mobile VARCHAR(255) NOT NULL COMMENT \'联系人手机号\', post_code INT DEFAULT NULL COMMENT \'邮政编码\', is_default INT DEFAULT 2 NOT NULL COMMENT \'默认地址, 1:是。2:不是\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(address_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺售后地址\' ');
        $this->addSql('CREATE TABLE distributor_rel_tags (tag_id BIGINT NOT NULL COMMENT \'标签id\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', PRIMARY KEY(tag_id, company_id, distributor_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺关联标签表\' ');
        $this->addSql('CREATE TABLE distributor_tags (tag_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'标签id\', company_id BIGINT NOT NULL COMMENT \'公司id\', tag_name VARCHAR(50) NOT NULL COMMENT \'标签名称\', tag_color VARCHAR(50) NOT NULL COMMENT \'标签颜色\', font_color VARCHAR(50) NOT NULL COMMENT \'字体颜色\', description VARCHAR(255) DEFAULT NULL COMMENT \'标签描述\', tag_icon LONGTEXT DEFAULT NULL COMMENT \'标签icon\', front_show SMALLINT DEFAULT 0 COMMENT \'前台是否显示 0 否 1 是\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(tag_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺标签库表\' ');
        $this->addSql('CREATE TABLE distributor_work_wechat_rel (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'企业微信用户关联表id\', company_id BIGINT NOT NULL COMMENT \'公司id\', work_userid VARCHAR(255) DEFAULT \'\' COMMENT \'微信id\', operator_id BIGINT DEFAULT 0 COMMENT \'系统账户id\', bound_time BIGINT DEFAULT 0 COMMENT \'绑定时间\', INDEX idx_company_id (company_id), INDEX idx_operator_id (operator_id), INDEX idx_work_userid (work_userid), UNIQUE INDEX ix_operator_company (operator_id, company_id), UNIQUE INDEX ix_workuser_company (work_userid, company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店务端企业微信关联表\' ');
        $this->addSql('CREATE TABLE espier_address (id BIGINT NOT NULL COMMENT \'地区id\', parent_id BIGINT NOT NULL COMMENT \'父级id\', label VARCHAR(255) NOT NULL COMMENT \'地区名称\', path VARCHAR(255) NOT NULL COMMENT \'路径\', INDEX ix_parent_id (parent_id), INDEX ix_label (label), PRIMARY KEY(id, parent_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'地区表\' ');
        $this->addSql('CREATE TABLE espier_export_log (log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'导出日志id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', file_name VARCHAR(255) DEFAULT NULL COMMENT \'导出文件名称\', file_url VARCHAR(255) DEFAULT NULL COMMENT \'导出文件下载路径\', export_type VARCHAR(255) NOT NULL COMMENT \'导出类型  member:会员导出,order:订单导出,right:权益导出\', handle_status VARCHAR(255) NOT NULL COMMENT \'处理文件状态，可选值有，wait:等待处理,finish:处理完成,processing:处理中,fail:失败\', error_msg LONGTEXT DEFAULT NULL COMMENT \'失败原因\', finish_time BIGINT DEFAULT NULL COMMENT \'处理完成时间\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', operator_id BIGINT DEFAULT 0 NOT NULL COMMENT \'账号id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导出日志表\' ');
        $this->addSql('CREATE TABLE espier_printer (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'公司id\', name VARCHAR(255) NOT NULL COMMENT \'打印机名称\', type VARCHAR(255) NOT NULL COMMENT \'打印机类型 yilianyun 易连云\', company_id BIGINT NOT NULL COMMENT \'公司company id\', distributor_id VARCHAR(255) NOT NULL COMMENT \'关联店铺\', app_terminal VARCHAR(255) NOT NULL COMMENT \'打印机终端号\', app_key VARCHAR(255) NOT NULL COMMENT \'打印机秘钥\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'打印机表\' ');
        $this->addSql('CREATE TABLE espier_uploadefile (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'上传文件日志ID\', company_id BIGINT NOT NULL COMMENT \'公司company id\', file_name VARCHAR(255) NOT NULL COMMENT \'上传文件名称\', file_type VARCHAR(255) NOT NULL COMMENT \'上传文件类型\', file_size VARCHAR(255) NOT NULL COMMENT \'上传文件大小\', handle_status VARCHAR(255) NOT NULL COMMENT \'处理文件状态，可选值有，wait:等待处理\', handle_line_num VARCHAR(255) NOT NULL COMMENT \'处理文件行数\', finish_time BIGINT DEFAULT NULL COMMENT \'处理完成时间\', handle_message LONGTEXT DEFAULT NULL COMMENT \'处理错误文件\', created INT NOT NULL, updated INT DEFAULT NULL, distributor_id BIGINT DEFAULT 0 COMMENT \'distributor_id\', left_job_num INT DEFAULT 0 NOT NULL COMMENT \'剩余子任务数\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'上传文件日志ID\' ');
        $this->addSql('CREATE TABLE espier_uploadimages (image_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'图片id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', storage VARCHAR(50) DEFAULT \'image\' NOT NULL COMMENT \'存储引擎，可选值有，image/videos\', image_name VARCHAR(255) NOT NULL COMMENT \'图片名称\', brief VARCHAR(255) DEFAULT \'\' COMMENT \'图片简介\', image_cat_id BIGINT DEFAULT 0 NOT NULL COMMENT \'图片分类id\', image_type VARCHAR(50) DEFAULT \'item\' COMMENT \'图片类型,可选值有 item:商品;aftersales:售后\', image_full_url VARCHAR(255) DEFAULT NULL COMMENT \'图片完成地址\', image_url VARCHAR(255) NOT NULL COMMENT \'图片标识, 不包含域名\', disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'图片失效\', distributor_id BIGINT DEFAULT 0 COMMENT \'店铺id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(image_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'图片上传表\' ');
        $this->addSql('CREATE TABLE espier_uploadimages_cat (image_cat_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'图片分类id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', image_cat_name VARCHAR(255) NOT NULL COMMENT \'图片分类名称\', parent_id BIGINT DEFAULT 0 NOT NULL COMMENT \'父分类id,顶级为0\', image_type VARCHAR(255) DEFAULT NULL COMMENT \'图片类型,可选值有 item:商品;\', path VARCHAR(255) NOT NULL COMMENT \'路径\', sort BIGINT DEFAULT 0 NOT NULL COMMENT \'排序\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(image_cat_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'图片分类表\' ');
        $this->addSql('CREATE TABLE goods_items_rel_cats (item_id BIGINT NOT NULL COMMENT \'商品ID\', category_id BIGINT NOT NULL COMMENT \'商品分类id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_category_id (category_id), INDEX ix_created (created), PRIMARY KEY(item_id, category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品和分类关联表\' ');
        $this->addSql('CREATE TABLE hfpay_bank_card (hfpay_bank_card_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付取现银行卡表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', distributor_id BIGINT DEFAULT NULL COMMENT \'分销商id\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', user_cust_id VARCHAR(255) DEFAULT NULL COMMENT \'用户客户号\', card_type VARCHAR(255) DEFAULT NULL COMMENT \'绑卡类型\', bank_id VARCHAR(255) DEFAULT NULL COMMENT \'银行代号\', bank_name VARCHAR(255) DEFAULT NULL COMMENT \'银行名称\', card_num VARCHAR(255) DEFAULT NULL COMMENT \'银行卡号\', bind_card_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付绑定id\', is_cash VARCHAR(255) DEFAULT \'1\' COMMENT \'是否取现卡\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), INDEX idx_distributor_id (distributor_id), INDEX idx_user_id (user_id), PRIMARY KEY(hfpay_bank_card_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'汇付取现银行卡表\' ');
        $this->addSql('CREATE TABLE hfpay_cash_record (hfpay_cash_record_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付取现记录表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', distributor_id BIGINT DEFAULT 0 COMMENT \'分销商id\', order_id VARCHAR(255) NOT NULL COMMENT \'订单号\', user_id BIGINT DEFAULT 0 COMMENT \'用户id\', operator_id BIGINT DEFAULT 0 COMMENT \'操作人ID\', user_cust_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付商户客户号\', trans_amt INT NOT NULL COMMENT \'取现金额\', cash_type VARCHAR(255) NOT NULL COMMENT \'取现方式 T0：T0取现; T1：T1取现 D1：D1取现\', bind_card_id VARCHAR(255) DEFAULT NULL COMMENT \'取现绑卡\', real_trans_amt INT DEFAULT NULL COMMENT \'实际到账金额\', fee_amt INT DEFAULT NULL COMMENT \'取现手续费\', cash_status INT DEFAULT 0 NOT NULL COMMENT \'取现状态 0 未提交 1已提交 2取现成功 3取现失败\', resp_code VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口返回码\', resp_desc VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口返回码描述\', hf_order_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求order_id\', hf_order_date VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求order_date\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(hfpay_cash_record_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'汇付取现记录表\' ');
        $this->addSql('CREATE TABLE hfpay_company_statistics_day (hfpay_company_day_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付平台分账数据统计\', company_id INT NOT NULL COMMENT \'company_id\', type INT NOT NULL COMMENT \'type 1全部数据 2平台数据 3非平台数据\', date INT NOT NULL COMMENT \'日期\', income INT DEFAULT NULL COMMENT \'总计收入\', disburse INT DEFAULT NULL COMMENT \'总计支出\', withdrawal INT DEFAULT NULL COMMENT \'总计提现\', balance INT DEFAULT NULL COMMENT \'余额\', withdrawal_balance INT DEFAULT NULL COMMENT \'可提现余额\', unsettled_funds INT DEFAULT NULL COMMENT \'未结算资金\', refund INT DEFAULT NULL COMMENT \'合计退款\', settlement_funds INT DEFAULT NULL COMMENT \'已结算资金\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(hfpay_company_day_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'平台分账数据统计\' ');
        $this->addSql('CREATE TABLE hfpay_distributor_statistics_day (hf_distributor_day_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付店铺分账数据统计\', company_id INT NOT NULL COMMENT \'company_id\', distributor_id INT NOT NULL COMMENT \'店铺id\', date INT NOT NULL COMMENT \'日期\', income INT DEFAULT NULL COMMENT \'总计收入\', disburse INT DEFAULT NULL COMMENT \'总计支出\', withdrawal INT DEFAULT NULL COMMENT \'总计提现\', balance INT DEFAULT NULL COMMENT \'余额\', withdrawal_balance INT DEFAULT NULL COMMENT \'可提现余额\', unsettled_funds INT DEFAULT NULL COMMENT \'未结算资金\', refund INT DEFAULT NULL COMMENT \'合计退款\', settlement_funds INT DEFAULT NULL COMMENT \'已结算资金\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(hf_distributor_day_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺分账数据统计\' ');
        $this->addSql('CREATE TABLE hfpay_distributor_transaction_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'店铺交易统计统计\', company_id INT NOT NULL COMMENT \'company_id\', distributor_id INT NOT NULL COMMENT \'店铺id\', date INT NOT NULL COMMENT \'日期\', order_count INT DEFAULT 0 NOT NULL COMMENT \'交易总笔数\', order_total_fee INT DEFAULT 0 NOT NULL COMMENT \'总计交易金额\', order_refund_count INT DEFAULT 0 NOT NULL COMMENT \'已退款总笔数\', order_refund_total_fee INT DEFAULT 0 NOT NULL COMMENT \'退款总金额\', order_refunding_count INT DEFAULT 0 NOT NULL COMMENT \'在退总笔数\', order_refunding_total_fee INT DEFAULT 0 NOT NULL COMMENT \'在退总金额\', order_profit_sharing_charge INT DEFAULT 0 NOT NULL COMMENT \'已结算手续费\', order_total_charge INT DEFAULT 0 NOT NULL COMMENT \'总手续费\', order_refund_total_charge INT DEFAULT 0 NOT NULL COMMENT \'总退款手续费\', order_un_profit_sharing_total_charge INT DEFAULT 0 NOT NULL COMMENT \'未结算手续费（包含已退款）\', order_un_profit_sharing_refund_total_charge INT DEFAULT 0 NOT NULL COMMENT \'未结算已退款手续费\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id_distributor_id (company_id, distributor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺交易统计统计\' ');
        $this->addSql('CREATE TABLE hfpay_enterapply (hfpay_enterapply_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'入驻信息表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', distributor_id BIGINT DEFAULT NULL COMMENT \'分销商id\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', user_cust_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付客户号\', acct_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付子账户\', apply_type VARCHAR(1) DEFAULT NULL COMMENT \'入驻类型\', corp_license_type VARCHAR(1) DEFAULT NULL COMMENT \'企业证照类型\', corp_name VARCHAR(100) DEFAULT NULL COMMENT \'企业名称\', business_code VARCHAR(100) DEFAULT NULL COMMENT \'营业执照注册号\', institution_code VARCHAR(100) DEFAULT NULL COMMENT \'组织机构代码\', tax_code VARCHAR(100) DEFAULT NULL COMMENT \'税务登记证号\', social_credit_code VARCHAR(100) DEFAULT NULL COMMENT \'统一社会信用代码\', license_start_date VARCHAR(30) DEFAULT NULL COMMENT \'证照起始日期\', license_end_date VARCHAR(30) DEFAULT NULL COMMENT \'证照结束日期\', controlling_shareholder VARCHAR(255) DEFAULT NULL COMMENT \'实际控股人\', legal_name VARCHAR(60) DEFAULT NULL COMMENT \'法人姓名\', legal_id_card_type VARCHAR(2) DEFAULT NULL COMMENT \'法人证件类型\', legal_id_card VARCHAR(30) DEFAULT NULL COMMENT \'法人证件号码\', legal_cert_start_date VARCHAR(60) DEFAULT NULL COMMENT \'法人证件起始日期\', legal_cert_end_date VARCHAR(60) DEFAULT NULL COMMENT \'法人证件结束日期\', legal_mobile VARCHAR(20) DEFAULT NULL COMMENT \'法人手机号码\', contact_name VARCHAR(30) DEFAULT NULL COMMENT \'企业联系人姓名\', contact_mobile VARCHAR(20) DEFAULT NULL COMMENT \'企业联系人手机号\', contact_email VARCHAR(30) DEFAULT NULL COMMENT \'联系人邮箱\', bank_acct_name VARCHAR(30) DEFAULT NULL COMMENT \'开户银行账户名\', bank_id VARCHAR(30) DEFAULT NULL COMMENT \'开户银行\', bank_name VARCHAR(30) DEFAULT NULL COMMENT \'开户银行名称\', bank_acct_num VARCHAR(30) DEFAULT NULL COMMENT \'开户银行账号\', bank_acct_num_imgz VARCHAR(255) DEFAULT NULL COMMENT \'银行卡正面照\', bank_acct_num_imgz_local VARCHAR(255) DEFAULT NULL COMMENT \'本地银行卡正面照\', bank_acct_num_imgf VARCHAR(255) DEFAULT NULL COMMENT \'法人银行卡反面照\', bank_acct_num_imgf_local VARCHAR(255) DEFAULT NULL COMMENT \'本地银行卡反面照\', bank_prov VARCHAR(30) DEFAULT NULL COMMENT \'开户银行省份\', bank_prov_name VARCHAR(30) DEFAULT NULL COMMENT \'开户银行省份名称\', bank_area VARCHAR(30) DEFAULT NULL COMMENT \'开户银行地区\', bank_area_name VARCHAR(30) DEFAULT NULL COMMENT \'开户银行地区名称\', bank_branch VARCHAR(30) DEFAULT NULL COMMENT \'企业开户银行的支行名称\', solo_name VARCHAR(30) DEFAULT NULL COMMENT \'个体户名称\', solo_business_address VARCHAR(150) DEFAULT NULL COMMENT \'个体户经营地址\', solo_reg_address VARCHAR(150) DEFAULT NULL COMMENT \'个体户注册地址\', solo_fixed_telephone VARCHAR(30) DEFAULT NULL COMMENT \'个体户固定电话\', business_scope VARCHAR(255) DEFAULT NULL COMMENT \'经营范围\', occupation VARCHAR(80) DEFAULT NULL COMMENT \'职业\', contact_cert_num VARCHAR(30) DEFAULT NULL COMMENT \'联系人证件号\', open_license_no VARCHAR(60) DEFAULT NULL COMMENT \'开户许可证核准号\', user_name VARCHAR(30) DEFAULT NULL COMMENT \'用户姓名\', id_card_type VARCHAR(2) DEFAULT NULL COMMENT \'证件类型\', id_card VARCHAR(30) DEFAULT NULL COMMENT \'身份证号\', user_mobile VARCHAR(20) DEFAULT NULL COMMENT \'手机号\', hf_order_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付订单号\', hf_order_date VARCHAR(255) DEFAULT NULL COMMENT \'汇付订单日期\', hf_apply_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付开户申请号\', status VARCHAR(255) DEFAULT \'1\' COMMENT \'状态\', business_code_img VARCHAR(255) DEFAULT NULL COMMENT \'营业执照注册号图片\', business_code_img_local VARCHAR(255) DEFAULT NULL COMMENT \'本地营业执照注册号图片\', institution_code_img VARCHAR(255) DEFAULT NULL COMMENT \'组织机构代码图片\', institution_code_img_local VARCHAR(255) DEFAULT NULL COMMENT \'本地组织机构代码图片\', tax_code_img VARCHAR(255) DEFAULT NULL COMMENT \'税务登记证号图片\', tax_code_img_local VARCHAR(255) DEFAULT NULL COMMENT \'本地税务登记证号图片\', social_credit_code_img VARCHAR(255) DEFAULT NULL COMMENT \'统一社会信用代码图片\', social_credit_code_img_local VARCHAR(255) DEFAULT NULL COMMENT \'本地统一社会信用代码图片\', legal_card_imgz VARCHAR(255) DEFAULT NULL COMMENT \'法人身份证正面照\', legal_card_imgz_local VARCHAR(255) DEFAULT NULL COMMENT \'本地法人身份证正面照\', legal_card_imgf VARCHAR(255) DEFAULT NULL COMMENT \'法人身份证反面照\', legal_card_imgf_local VARCHAR(255) DEFAULT NULL COMMENT \'本地法人身份证反面照\', bank_acct_img VARCHAR(255) DEFAULT NULL COMMENT \'开户银行许可证图片\', bank_acct_img_local VARCHAR(255) DEFAULT NULL COMMENT \'本地开户银行许可证图片\', resp_code VARCHAR(255) DEFAULT NULL COMMENT \'汇付响应码\', resp_desc VARCHAR(255) DEFAULT NULL COMMENT \'汇付响应码描述\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), INDEX idx_distributor_id (distributor_id), INDEX idx_user_id (user_id), PRIMARY KEY(hfpay_enterapply_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'入驻信息表\' ');
        $this->addSql('CREATE TABLE hfpay_ledger_config (hfpay_ledger_config_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'分账配置表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', is_open VARCHAR(255) DEFAULT \'false\' NOT NULL COMMENT \'是否开启分账\', business_type VARCHAR(255) DEFAULT \'1\' NOT NULL COMMENT \'分账业务模式\', agent_number VARCHAR(255) DEFAULT NULL COMMENT \'代理商商户号\', provider_number VARCHAR(255) DEFAULT NULL COMMENT \'服务商渠道号\', rate INT UNSIGNED NOT NULL COMMENT \'平台服务费率\', app_id VARCHAR(255) DEFAULT NULL COMMENT \'绑定的微信小程序appid\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(hfpay_ledger_config_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分账配置表\' ');
        $this->addSql('CREATE TABLE hfpay_merchant_payment (hfpay_merchant_payment_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付取现银行卡表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', rel_scene_id BIGINT NOT NULL COMMENT \'业务场景值id\', rel_scene_name VARCHAR(255) NOT NULL COMMENT \'业务场景值名称\', mer_cust_id VARCHAR(255) NOT NULL COMMENT \'汇付平台客户号\', user_cust_id VARCHAR(255) NOT NULL COMMENT \'汇付客户号\', acct_id VARCHAR(255) NOT NULL COMMENT \'汇付账户号\', trans_amt BIGINT NOT NULL COMMENT \'转账金额\', status INT DEFAULT 0 NOT NULL COMMENT \'状态 0 未提交 1转账成功 2转账失败\', hf_order_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求order_id\', hf_order_date VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求order_date\', resp_code VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口返回码\', resp_desc VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口返回码描述\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), INDEX idx_rel_scene_id_rel_scene_name (rel_scene_id, rel_scene_name), PRIMARY KEY(hfpay_merchant_payment_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'汇付平台转账记录表\' ');
        $this->addSql('CREATE TABLE hfpay_trade_record (hfpay_trade_record_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'汇付记账表\', company_id INT DEFAULT NULL COMMENT \'company_id\', distributor_id VARCHAR(255) DEFAULT NULL COMMENT \'店铺id\', trade_id VARCHAR(255) DEFAULT NULL COMMENT \'业务id\', outer_order_id VARCHAR(255) DEFAULT NULL COMMENT \'订单id\', form_user_id VARCHAR(255) DEFAULT NULL COMMENT \'用户\', target_user_id VARCHAR(255) DEFAULT NULL COMMENT \'对象id\', trade_time VARCHAR(255) DEFAULT NULL COMMENT \'时间戳\', trade_type INT DEFAULT NULL COMMENT \'交易类型\', fin_type VARCHAR(255) DEFAULT NULL COMMENT \'财务科目\', income INT DEFAULT NULL COMMENT \'收入\', outcome INT DEFAULT NULL COMMENT \'支出\', is_clean INT DEFAULT 0 COMMENT \'结算状态 0未结算 1已结算\', clean_time INT DEFAULT NULL COMMENT \'结算时间\', message VARCHAR(255) DEFAULT NULL COMMENT \'描述\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(hfpay_trade_record_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'汇付记账表\' ');
        $this->addSql('CREATE TABLE item_keywords (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', content VARCHAR(255) NOT NULL COMMENT \'内容\', INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品热门关键词表\' ');
        $this->addSql('CREATE TABLE items (item_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'商品ID\', item_type VARCHAR(15) DEFAULT \'services\' NOT NULL COMMENT \'商品类型，services：服务商品，normal: 普通商品\', item_category VARCHAR(15) DEFAULT \'null\' COMMENT \'商品主类目\', consume_type VARCHAR(15) DEFAULT \'every\' NOT NULL COMMENT \'核销类型，every：每个物料都要核销(例如3个物料要核销3次)，all：所有物料作为一个整体核销一次(例如3个物料只需要核销1次)\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', item_bn VARCHAR(255) NOT NULL COMMENT \'商品编号\', barcode LONGTEXT NOT NULL COMMENT \'商品条形码\', brief VARCHAR(255) NOT NULL COMMENT \'简洁的描述\', company_id BIGINT NOT NULL COMMENT \'公司ID\', price INT NOT NULL COMMENT \'销售价,单位为‘分’\', cost_price INT DEFAULT 0 COMMENT \'成本价,单位为‘分’\', item_unit VARCHAR(255) DEFAULT NULL COMMENT \'商品计量单位\', special_type VARCHAR(255) DEFAULT \'normal\' COMMENT \'商品特殊类型 drug 处方药 normal 普通商品\', item_address_province VARCHAR(255) DEFAULT NULL COMMENT \'产地省\', item_address_city VARCHAR(255) DEFAULT NULL COMMENT \'产地市\', regions_id VARCHAR(255) DEFAULT NULL COMMENT \'产地地区id\', store INT DEFAULT NULL COMMENT \'库存\', sales INT DEFAULT 0 COMMENT \'销量\', rebate_conf JSON DEFAULT NULL COMMENT \'分销配置(DC2Type:json_array)\', rebate INT DEFAULT NULL COMMENT \'推广商品 1已选择 0未选择 2申请加入 3拒绝\', rebate_type VARCHAR(255) DEFAULT \'default\' COMMENT \'分佣计算方式\', approve_status VARCHAR(255) NOT NULL COMMENT \'商品状态 onsale 前台可销售，offline_sale可线下销售，instock 不可销售, only_show 前台仅展示\', audit_status VARCHAR(255) DEFAULT \'approved\' COMMENT \'审核状态 approved成功 processing审核中 rejected审核拒绝\', audit_reason LONGTEXT DEFAULT NULL COMMENT \'审核拒绝原因\', market_price INT NOT NULL COMMENT \'原价,单位为‘分’\', goods_function VARCHAR(255) DEFAULT NULL COMMENT \'商品功能\', goods_series VARCHAR(255) DEFAULT NULL COMMENT \'商品系列\', goods_color VARCHAR(255) DEFAULT NULL COMMENT \'商品颜色\', goods_brand VARCHAR(255) DEFAULT NULL COMMENT \'商品品牌\', is_default TINYINT(1) DEFAULT \'1\' COMMENT \'商品是否为默认商品\', default_item_id BIGINT DEFAULT 0 COMMENT \'默认商品ID\', goods_id BIGINT DEFAULT 0 COMMENT \'产品ID\', nospec VARCHAR(255) DEFAULT \'true\' COMMENT \'商品是否为单规格\', weight DOUBLE PRECISION DEFAULT \'0\' COMMENT \'商品重量\', sort INT DEFAULT 0 NOT NULL COMMENT \'商品排序\', templates_id INT DEFAULT NULL COMMENT \'运费模板id\', pics JSON NOT NULL COMMENT \'图片(DC2Type:json_array)\', pics_create_qrcode JSON DEFAULT NULL COMMENT \'图片是否生成小程序码(DC2Type:json_array)\', video_type VARCHAR(255) DEFAULT \'local\' NOT NULL COMMENT \'视频类型 local:本地视频 tencent:腾讯视频\', videos LONGTEXT DEFAULT NULL COMMENT \'视频\', video_pic_url LONGTEXT DEFAULT NULL COMMENT \'视频封面图\', intro LONGTEXT DEFAULT NULL COMMENT \'图文详情\', purchase_agreement LONGTEXT DEFAULT NULL COMMENT \'购买协议\', is_show_specimg TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'详情页是否显示规格图片\', enable_agreement TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'开启购买协议\', date_type VARCHAR(255) DEFAULT NULL COMMENT \'有效期的类型, DATE_TYPE_FIX_TIME_RANGE:指定日期范围内, DATE_TYPE_FIX_TERM:固定天数后\', begin_date INT DEFAULT NULL COMMENT \'有效期开始时间\', end_date INT DEFAULT NULL COMMENT \'有效期结束时间\', fixed_term INT DEFAULT NULL COMMENT \'有效期的有效天数\', brand_logo VARCHAR(1024) DEFAULT NULL COMMENT \'品牌图片\', is_point TINYINT(1) DEFAULT \'0\' COMMENT \'是否积分兑换 true可以 false不可以\', point INT DEFAULT 0 COMMENT \'积分个数\', distributor_id INT DEFAULT 0 NOT NULL COMMENT \'店铺id,为0时表示该商品为商城商品，否则为店铺自有商品\', volume DOUBLE PRECISION DEFAULT NULL COMMENT \'商品体积\', item_source VARCHAR(255) DEFAULT \'mall\' NOT NULL COMMENT \'商品来源:mall:主商城;distributor:店铺自有;openapi:开放接口;\', brand_id INT DEFAULT 0 COMMENT \'品牌id\', tax_rate INT NOT NULL COMMENT \'税率, 百分之～/100\', crossborder_tax_rate VARCHAR(10) NOT NULL COMMENT \'跨境税率，百分比，小数点2位\', profit_type INT DEFAULT 0 COMMENT \'分润类型, 默认为0配置分润,1主类目分润,2商品指定分润(比例),3商品指定分润(金额)\', origincountry_id BIGINT DEFAULT 0 NOT NULL COMMENT \'产地国id\', taxstrategy_id BIGINT DEFAULT 0 NOT NULL COMMENT \'税费策略id\', taxation_num INT DEFAULT 0 NOT NULL COMMENT \'计税单位份数\', profit_fee INT DEFAULT 0 COMMENT \'分润金额,单位为分 冗余字段\', type INT DEFAULT 0 NOT NULL COMMENT \'商品类型，0普通，1跨境商品，可扩展\', is_profit TINYINT(1) DEFAULT \'0\' COMMENT \'是否支持分润\', created INT NOT NULL, updated INT DEFAULT NULL, is_gift TINYINT(1) DEFAULT \'0\' COMMENT \'是否为赠品\', is_package TINYINT(1) DEFAULT \'0\' COMMENT \'是否为打包产品\', item_en_name VARCHAR(255) DEFAULT NULL COMMENT \'商品英文名称\', tdk_content LONGTEXT DEFAULT NULL COMMENT \'tdk详情\', INDEX ix_company_id (company_id), INDEX ix_default_item_id (default_item_id), INDEX ix_item_category (item_category), INDEX ix_is_default (is_default), INDEX ix_goods_id (goods_id), INDEX ix_default_item_list (company_id, default_item_id, approve_status, item_type, item_category), PRIMARY KEY(item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品表\' ');
        $this->addSql('CREATE TABLE items_attribute_values (attribute_value_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'商品属性值id\', attribute_id BIGINT NOT NULL COMMENT \'商品属性ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', shop_id BIGINT NOT NULL COMMENT \'店铺ID，如果为0则表示总部\', attribuattribute_valuete_name VARCHAR(255) NOT NULL COMMENT \'商品属性值\', sort VARCHAR(15) NOT NULL COMMENT \'商品属性排序，越大越在前\', image_url LONGTEXT DEFAULT NULL COMMENT \'图片\', created INT NOT NULL, updated INT DEFAULT NULL, oms_value_id BIGINT DEFAULT NULL COMMENT \'oms商品属性值id\', INDEX ix_company_id (company_id), INDEX ix_attribute_id (attribute_id), INDEX ix_attribuattribute_valuete_name (attribuattribute_valuete_name), PRIMARY KEY(attribute_value_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品属性值表\' ');
        $this->addSql('CREATE TABLE items_attributes (attribute_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'商品属性id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', shop_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺ID，如果为0则表示总部\', attribute_type VARCHAR(15) NOT NULL COMMENT \'商品属性类型 unit单位，brand品牌，item_params商品参数, item_spec规格\', attribute_name VARCHAR(255) NOT NULL COMMENT \'商品属性名称\', attribute_memo VARCHAR(255) DEFAULT NULL COMMENT \'商品属性备注\', attribute_sort VARCHAR(15) NOT NULL COMMENT \'商品属性排序，越大越在前\', distributor_id BIGINT DEFAULT 0 COMMENT \'店铺ID\', is_show VARCHAR(15) NOT NULL COMMENT \'是否用于筛选\', is_image VARCHAR(255) NOT NULL COMMENT \'属性是否需要配置图片\', image_url LONGTEXT DEFAULT NULL COMMENT \'图片\', created INT NOT NULL, updated INT DEFAULT NULL, attribute_code VARCHAR(32) DEFAULT NULL COMMENT \'oms 规格编码\', INDEX ix_company_id (company_id), INDEX ix_attribute_type (attribute_type), INDEX ix_attribute_name (attribute_name), PRIMARY KEY(attribute_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品属性表\' ');
        $this->addSql('CREATE TABLE items_barcode (company_id BIGINT NOT NULL COMMENT \'公司id\', barcode VARCHAR(50) NOT NULL COMMENT \'商品条形码\', item_id BIGINT NOT NULL COMMENT \'商品id\', default_item_id BIGINT NOT NULL COMMENT \'默认商品id\', INDEX ix_item_id (item_id), PRIMARY KEY(company_id, barcode)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品条形码表\' ');
        $this->addSql('CREATE TABLE items_category (category_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'商品分类id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', category_name VARCHAR(50) NOT NULL COMMENT \'分类名称\', category_code VARCHAR(50) DEFAULT NULL COMMENT \'分类编码\', parent_id BIGINT DEFAULT 0 NOT NULL COMMENT \'父级id, 0为顶级\', category_level INT DEFAULT 1 COMMENT \'商品分类等级\', is_main_category TINYINT(1) DEFAULT \'0\' COMMENT \'是否为商品主类目\', path VARCHAR(255) DEFAULT \'0\' COMMENT \'路径\', distributor_id BIGINT DEFAULT 0 COMMENT \'店铺ID\', sort BIGINT DEFAULT 0 COMMENT \'排序\', goods_params LONGTEXT DEFAULT NULL COMMENT \'商品参数\', goods_spec LONGTEXT DEFAULT NULL COMMENT \'商品规格\', image_url LONGTEXT DEFAULT NULL COMMENT \'分类图片链接\', crossborder_tax_rate VARCHAR(10) DEFAULT NULL COMMENT \'跨境税率，百分比，小数点2位\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_distributor_id (distributor_id), INDEX ix_parent_id (parent_id), INDEX ix_is_main_category (is_main_category), PRIMARY KEY(category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品分类表\' ');
        $this->addSql('CREATE TABLE items_category_profit (category_id BIGINT NOT NULL COMMENT \'商品ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', profit_type VARCHAR(255) DEFAULT \'default\' COMMENT \'分佣计算方式\', profit_conf JSON DEFAULT NULL COMMENT \'分销配置(DC2Type:json_array)\', INDEX ix_company_id (company_id), PRIMARY KEY(category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品分润配置表\' ');
        $this->addSql('CREATE TABLE items_profit (item_id BIGINT NOT NULL COMMENT \'商品ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', profit_type VARCHAR(255) DEFAULT \'0\' COMMENT \'分佣计算方式 0商品不设置默认分润,1按照比例分润,2按照填写金额分润\', profit_conf JSON DEFAULT NULL COMMENT \'分销配置(DC2Type:json_array)\', INDEX ix_company_id (company_id), PRIMARY KEY(item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品分润配置表\' ');
        $this->addSql('CREATE TABLE items_recommend (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', main_item_id BIGINT NOT NULL COMMENT \'主商品\', item_id BIGINT NOT NULL COMMENT \'商品\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', brief VARCHAR(255) DEFAULT NULL COMMENT \'简洁的描述\', pics LONGTEXT NOT NULL COMMENT \'商品图片\', price INT NOT NULL COMMENT \'价格,单位为‘分’\', market_price INT DEFAULT 0 NOT NULL COMMENT \'原价,单位为‘分’\', item_spec_desc VARCHAR(255) DEFAULT \'\' COMMENT \'产品规格描述\', sort INT DEFAULT 0 NOT NULL COMMENT \'商品排序\', INDEX idx_company_id (company_id), INDEX idx_main_item_id (main_item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品推荐表\' ');
        $this->addSql('CREATE TABLE items_rel_attributes (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_id BIGINT NOT NULL COMMENT \'商品ID\', attribute_sort INT DEFAULT 0 COMMENT \'商品属性排序\', attribute_id BIGINT NOT NULL COMMENT \'商品属性id\', attribute_type VARCHAR(15) NOT NULL COMMENT \'商品属性类型 unit单位，brand品牌，item_params商品参数, item_spec规格\', attribute_value_id BIGINT DEFAULT NULL COMMENT \'商品属性值id\', custom_attribute_value VARCHAR(255) DEFAULT NULL COMMENT \'自定义属性名称\', image_url JSON DEFAULT NULL COMMENT \'规格自定义图片(DC2Type:json_array)\', INDEX ix_company_id (company_id), INDEX ix_item_id (item_id), INDEX ix_attribute_type (attribute_type), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品关联属性表\' ');
        $this->addSql('CREATE TABLE items_rel_point_access (item_id BIGINT NOT NULL COMMENT \'商品ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', point BIGINT NOT NULL COMMENT \'积分\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_itemid_companyid (company_id, item_id), PRIMARY KEY(item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品和积分获取设置关联表\' ');
        $this->addSql('CREATE TABLE items_rel_tags (tag_id BIGINT NOT NULL COMMENT \'标签id\', company_id BIGINT NOT NULL COMMENT \'公司id\', item_id BIGINT NOT NULL COMMENT \'商品id\', INDEX ix_company_id (company_id), INDEX ix_item_id (item_id), INDEX ix_tag_id (tag_id), PRIMARY KEY(tag_id, company_id, item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品关联标签表\' ');
        $this->addSql('CREATE TABLE items_rel_type (item_id BIGINT NOT NULL COMMENT \'商品ID\', label_id BIGINT NOT NULL COMMENT \'数值属性ID\', label_name VARCHAR(255) NOT NULL COMMENT \'数值属性名称\', label_price INT NOT NULL COMMENT \'价格,单位为‘分’\', num_type VARCHAR(30) NOT NULL COMMENT \'会员数值属性类型，plus：加，minux：减，multiple：乘\', num BIGINT NOT NULL COMMENT \'数值属性值，例如买了50个次卡，就是填50；赠送了10个经验，就是填10\', is_not_limit_num INT DEFAULT 2 NOT NULL COMMENT \'限制核销次数,1:不限制；2:限制\', limit_time BIGINT DEFAULT 0 NOT NULL COMMENT \'有效期，例如30天\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(item_id, label_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品数值属性关联表\' ');
        $this->addSql('CREATE TABLE items_tags (tag_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'标签id\', company_id BIGINT NOT NULL COMMENT \'公司id\', tag_name VARCHAR(50) NOT NULL COMMENT \'标签名称\', tag_color VARCHAR(50) NOT NULL COMMENT \'标签颜色\', distributor_id BIGINT DEFAULT 0 COMMENT \'店铺ID\', font_color VARCHAR(50) NOT NULL COMMENT \'字体颜色\', description VARCHAR(255) DEFAULT NULL COMMENT \'标签描述\', tag_icon LONGTEXT DEFAULT NULL COMMENT \'标签icon\', front_show SMALLINT DEFAULT 0 COMMENT \'前台是否显示 0 否 1 是\', created bigint NOT NULL, updated bigint NOT NULL, INDEX ix_company_id (company_id), INDEX ix_tag_id (tag_id), PRIMARY KEY(tag_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品标签库表\' ');
        $this->addSql('CREATE TABLE kaquan_card_related (card_id VARCHAR(40) NOT NULL COMMENT \'卡券id\', company_id BIGINT NOT NULL COMMENT \'公司id\', title VARCHAR(27) NOT NULL COMMENT \'卡券名,最大9个汉字\', quantity INT DEFAULT 0 COMMENT \'卡券总库存\', get_num INT DEFAULT 0 COMMENT \'被领取数量\', consume_num INT DEFAULT 0 COMMENT \'被核销数量\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(card_id, company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券库存统计表\' ');
        $this->addSql('CREATE TABLE kaquan_discount_cards (card_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'卡券id\', company_id BIGINT NOT NULL COMMENT \'公司id\', card_type VARCHAR(16) NOT NULL COMMENT \'卡券类型，可选值有，discount:折扣券;cash:代金券;gift:兑换券;new_gift:兑换券(新)\', brand_name VARCHAR(36) DEFAULT NULL COMMENT \'商户名称\', logo_url VARCHAR(255) DEFAULT NULL COMMENT \'卡券商户 logo\', title VARCHAR(27) NOT NULL COMMENT \'卡券名,最大9个汉字\', color VARCHAR(16) NOT NULL COMMENT \'券颜色值\', notice VARCHAR(48) DEFAULT NULL COMMENT \'卡券使用提醒,最大16汉字\', description LONGTEXT NOT NULL COMMENT \'卡券使用说明\', date_type VARCHAR(255) NOT NULL COMMENT \'有效期的类型\', begin_date INT DEFAULT NULL COMMENT \'有效期开始时间\', end_date INT DEFAULT NULL COMMENT \'有效期结束时间\', fixed_term INT DEFAULT NULL COMMENT \'有效期的有效天数\', grade_ids VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'指定会员id\', vip_grade_ids VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'指定付费会员id\', kq_status INT DEFAULT 0 NOT NULL COMMENT \'卡券状态 0:正常 1:暂停 2:关闭\', lock_time INT DEFAULT 0 NOT NULL COMMENT \'兑换商品后的锁定时间\', send_begin_time INT DEFAULT NULL COMMENT \'发放开始时间\', send_end_time INT DEFAULT NULL COMMENT \'发放结束时间\', service_phone VARCHAR(15) DEFAULT NULL COMMENT \'客服电话\', center_title VARCHAR(255) DEFAULT NULL COMMENT \'卡券顶部居中的按钮，仅在卡券状态正常(可以核销)时显示\', center_sub_title VARCHAR(255) DEFAULT NULL COMMENT \'显示在入口下方的提示语\', center_url VARCHAR(255) DEFAULT NULL COMMENT \'顶部居中的url\', custom_url_name VARCHAR(15) DEFAULT NULL COMMENT \'自定义跳转外链的入口名字\', custom_url VARCHAR(255) DEFAULT NULL COMMENT \'自定义跳转的URL\', custom_url_sub_title VARCHAR(18) DEFAULT NULL COMMENT \'显示在入口右侧的提示语\', promotion_url_name VARCHAR(15) DEFAULT NULL COMMENT \'营销场景的自定义入口名称\', promotion_url VARCHAR(255) DEFAULT NULL COMMENT \'营销场景的自定义入口url\', promotion_url_sub_title VARCHAR(18) DEFAULT NULL COMMENT \'营销入口右侧的提示语\', get_limit INT DEFAULT NULL COMMENT \'每人可领券的数量限制\', use_limit INT DEFAULT NULL COMMENT \'每人可核销的数量限制\', can_share VARCHAR(255) DEFAULT \'false\' COMMENT \'卡券领取页面是否可分享\', can_give_friend VARCHAR(255) DEFAULT \'false\' COMMENT \'卡券是否可转赠\', abstract VARCHAR(255) DEFAULT NULL COMMENT \'封面摘要\', icon_url_list VARCHAR(255) DEFAULT NULL COMMENT \'封面图片\', text_image_list LONGTEXT DEFAULT NULL COMMENT \'图文列表(DC2Type:array)\', time_limit LONGTEXT DEFAULT NULL COMMENT \'使用时段限制(DC2Type:array)\', gift VARCHAR(255) DEFAULT NULL COMMENT \'兑换券兑换内容名称\', default_detail VARCHAR(255) DEFAULT NULL COMMENT \'优惠券优惠详情\', discount INT DEFAULT 0 COMMENT \'折扣券打折额度（百分比)\', least_cost INT DEFAULT 0 COMMENT \'代金券起用金额\', reduce_cost INT DEFAULT 0 COMMENT \'代金券减免金额 or 兑换券起用金额\', deal_detail VARCHAR(255) DEFAULT NULL COMMENT \'团购券详情\', accept_category VARCHAR(255) DEFAULT NULL COMMENT \'指定可用的商品类目,代金券专用\', reject_category VARCHAR(255) DEFAULT NULL COMMENT \'指定不可用的商品类目,代金券专用\', object_use_for VARCHAR(255) DEFAULT NULL COMMENT \'购买xx可用类型门槛，仅用于兑换\', can_use_with_other_discount VARCHAR(255) DEFAULT \'false\' COMMENT \'是否可与其他优惠共享\', use_platform VARCHAR(255) DEFAULT \'store\' COMMENT \'优惠券适用平台（线上商城专用 or 门店专用）\', quantity INT NOT NULL COMMENT \'卡券数量\', use_all_shops VARCHAR(255) DEFAULT \'true\' COMMENT \'是否适用所有门店\', rel_shops_ids LONGTEXT DEFAULT NULL COMMENT \'适用的门店\', use_scenes VARCHAR(255) DEFAULT \'QUICK\' COMMENT \'核销场景。可选值有，ONLINE:线上商城(兑换券不可使用);QUICK:快捷买单(兑换券不可使用);SWEEP:门店支付(扫码核销);SELF:到店支付(自助核销)\', self_consume_code INT DEFAULT 0 COMMENT \'自助核销验证码\', receive VARCHAR(255) DEFAULT \'true\' COMMENT \'是否前台直接领取\', distributor_id LONGTEXT DEFAULT NULL COMMENT \'店铺id\', created INT NOT NULL, updated INT NOT NULL, most_cost INT DEFAULT 0 COMMENT \'代金券最高消费限额\', use_bound INT DEFAULT 0 NOT NULL COMMENT \'适用范围: 0:全场可用,1:指定商品可用,2:指定分类可用,3:指定商品标签可用,4:指定商品品牌可用\', tag_ids LONGTEXT DEFAULT NULL COMMENT \'标签id集合\', brand_ids LONGTEXT DEFAULT NULL COMMENT \'品牌id集合\', apply_scope LONGTEXT DEFAULT NULL COMMENT \'适用范围\', card_code VARCHAR(255) DEFAULT NULL COMMENT \'优惠券模板ID-第三方使用\', card_rule_code VARCHAR(255) DEFAULT NULL COMMENT \'优惠券规则ID-第三方使用\', source_type VARCHAR(20) DEFAULT NULL COMMENT \'添加者类型：distributor\', source_id BIGINT DEFAULT 0 COMMENT \'添加者ID: 如店铺ID\', INDEX ix_company_id (company_id), INDEX ix_source_id (source_id), PRIMARY KEY(card_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'优惠券信息表\' ');
        $this->addSql('CREATE TABLE kaquan_rel_items (item_id BIGINT NOT NULL COMMENT \'筛选id(按item_type区分为商品ID,标签ID等)\', card_id BIGINT NOT NULL COMMENT \'优惠券id\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'筛选类型,可选值有normal:普通商品,tag:标签,brand:品牌,category:主类目\', is_show TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否为列表默认展示\', company_id BIGINT DEFAULT NULL COMMENT \'公司id\', use_limit INT DEFAULT 0 NOT NULL COMMENT \'兑换上限\', INDEX idx_card_id (card_id), INDEX idx_company_id (company_id), PRIMARY KEY(item_id, card_id, item_type)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券关联商品表\' ');
        $this->addSql('CREATE TABLE kaquan_rel_member_tags (card_id BIGINT NOT NULL COMMENT \'卡券id\', tag_id BIGINT NOT NULL COMMENT \'用户标签id\', company_id BIGINT DEFAULT NULL COMMENT \'公司id\', INDEX idx_company_id (company_id), INDEX idx_tag_id (tag_id), PRIMARY KEY(card_id, tag_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'卡券关联用户标签表\' ');
        $this->addSql('CREATE TABLE kaquan_salesperson_give_coupons (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', company_id BIGINT NOT NULL, salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', salesperson_name VARCHAR(255) NOT NULL COMMENT \'导购员名称\', user_id BIGINT NOT NULL COMMENT \'会员id\', user_name VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'会员名称\', coupons_id BIGINT NOT NULL COMMENT \'优惠券id\', coupons_name VARCHAR(255) NOT NULL COMMENT \'优惠券名称\', number INT DEFAULT 0 NOT NULL COMMENT \'发送优惠券数量\', status INT DEFAULT 1 NOT NULL COMMENT \'发放优惠券状态，1成功，0失败\', fail_reason VARCHAR(255) DEFAULT NULL COMMENT \'失败原因\', give_time INT NOT NULL COMMENT \'发送优惠券时间\', updated INT NOT NULL COMMENT \'修改时间\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员发放给用户优惠券记录\' ');
        $this->addSql('CREATE TABLE kaquan_user_discount (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', user_id BIGINT NOT NULL COMMENT \'用户的唯一标识\', company_id BIGINT DEFAULT NULL COMMENT \'公司id\', card_id BIGINT NOT NULL COMMENT \'微信用户领取的卡券 id \', code VARCHAR(30) NOT NULL COMMENT \'卡券 code 序列号\', source_type VARCHAR(30) DEFAULT \'local\' NOT NULL COMMENT \'卡券来源类型，可选值有 local:本地卡券,wechat:微信卡券\', status INT DEFAULT 1 COMMENT \'用户领取的优惠券使用状态{1:未使用,2:已核销,3:已转赠,5:已过期,6:作废,10:已使用(兑换券)};\', card_type VARCHAR(255) DEFAULT \'1\' COMMENT \'优惠券类型,可选值有 discount:折扣券，cash:代金券，new_gift:兑换券\', use_platform VARCHAR(255) DEFAULT \'store\' COMMENT \'优惠券适用平台（mall:线上商城专用, store:门店专用）\', begin_date INT NOT NULL COMMENT \'有效期开始时间\', end_date INT NOT NULL COMMENT \'有效期结束时间\', get_date INT NOT NULL COMMENT \'优惠券获取时间\', title VARCHAR(27) NOT NULL COMMENT \'卡券名,最大9个汉字\', color VARCHAR(16) NOT NULL COMMENT \'券颜色值\', discount INT DEFAULT 0 COMMENT \'折扣券打折额度（百分比)\', least_cost INT DEFAULT 0 COMMENT \'代金券起用金额\', reduce_cost INT DEFAULT 0 COMMENT \'代金券减免金额 or 兑换券起用金额\', rel_shops_ids LONGTEXT DEFAULT NULL COMMENT \'门店shop_id;线下门店时,必填;\', rel_item_ids LONGTEXT DEFAULT NULL COMMENT \'使用商品\', rel_distributor_ids LONGTEXT DEFAULT NULL COMMENT \'使用商品\', consume_source VARCHAR(255) DEFAULT NULL COMMENT \'核销来源\', get_outer_str VARCHAR(255) DEFAULT NULL COMMENT \'领取场景值\', location_name VARCHAR(255) DEFAULT NULL COMMENT \'核销卡券的门店名称\', staff_open_id VARCHAR(255) DEFAULT NULL COMMENT \'卡券核销员\', verify_code VARCHAR(255) DEFAULT NULL COMMENT \'自助核销的验证码\', remark_amount VARCHAR(255) DEFAULT NULL COMMENT \'自助核销时备注金额\', consume_outer_str VARCHAR(255) DEFAULT NULL COMMENT \'核销渠道\', trans_id VARCHAR(255) DEFAULT NULL COMMENT \'微信支付交易订单号,买单核销专用\', fee VARCHAR(255) DEFAULT NULL COMMENT \'实付金额,买单核销专用\', original_fee VARCHAR(255) DEFAULT NULL COMMENT \'应付金额,买单核销专用\', location_id VARCHAR(255) DEFAULT NULL COMMENT \'当前卡券核销的门店ID\', use_scenes VARCHAR(255) DEFAULT \'QUICK\' COMMENT \'可被核销的方式\', most_cost INT DEFAULT 0 COMMENT \'代金券最高消费限额\', use_condition LONGTEXT DEFAULT NULL COMMENT \'使用条件字段(DC2Type:array)\', is_give_by_friend TINYINT(1) DEFAULT \'0\' COMMENT \'是否为转赠领取\', old_code VARCHAR(255) DEFAULT NULL COMMENT \'转赠之后,旧的 code 序列号\', friend_open_id VARCHAR(255) DEFAULT NULL COMMENT \'转赠卡券时接收方 open_id\', is_return_back TINYINT(1) DEFAULT \'0\' COMMENT \'转赠时是否退回\', is_chat_room TINYINT(1) DEFAULT \'0\' COMMENT \'是否群转赠\', salesperson_id BIGINT DEFAULT NULL COMMENT \'导购id\', use_limited INT DEFAULT 0 COMMENT \'是否可以多次使用,仅记录无业务\', remain_times INT DEFAULT 1 COMMENT \'剩余使用次数,仅记录无业务\', use_bound INT DEFAULT 0 NOT NULL COMMENT \'适用范围: 0:全场可用,1:指定商品可用,2:指定分类可用,3:指定商品标签可用,4:指定商品品牌可用\', rel_category_ids LONGTEXT DEFAULT NULL COMMENT \'可使用的类目\', apply_scope LONGTEXT DEFAULT NULL COMMENT \'适用范围\', used_time INT DEFAULT 0 NOT NULL COMMENT \'兑换券使用时间\', expired_time INT DEFAULT 0 NOT NULL COMMENT \'兑换券过期时间\', INDEX idx_company_id (company_id), INDEX idx_code (code), INDEX idx_source_type (source_type), INDEX idx_userid_status_companyid (user_id, status, company_id), INDEX idx_userid_enddate (user_id, end_date), INDEX idx_status_expiredtime (status, expired_time), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户领取的优惠券表\' ');
        $this->addSql('CREATE TABLE kaquan_user_discount_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', user_id BIGINT NOT NULL COMMENT \'用户的唯一标识\', company_id BIGINT NOT NULL COMMENT \'公司ID\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', username VARCHAR(500) DEFAULT NULL COMMENT \'姓名\', card_id BIGINT NOT NULL COMMENT \'微信用户领取的卡券 id \', code VARCHAR(30) NOT NULL COMMENT \'卡券 code 序列号\', title VARCHAR(27) NOT NULL COMMENT \'卡券名,最大9个汉字\', card_type VARCHAR(255) NOT NULL COMMENT \'优惠券类型，可选值有 discount 折扣券;cash:代金券;gift:兑换券\', shop_name VARCHAR(255) DEFAULT NULL COMMENT \'核销卡券的门店名称\', used_time INT NOT NULL COMMENT \'核销时间\', used_status VARCHAR(255) DEFAULT NULL COMMENT \'核销状态；consume:核销，callback:回退\', used_order VARCHAR(255) DEFAULT NULL COMMENT \'核销订单\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'优惠券核销记录表\' ');
        $this->addSql('CREATE TABLE kaquan_vip_grade (vip_grade_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id INT NOT NULL COMMENT \'公司ID\', grade_name VARCHAR(255) NOT NULL COMMENT \'等级名称\', lv_type VARCHAR(255) NOT NULL COMMENT \'等级类型,可选值有 vip:普通vip;svip:进阶vip\', guide_title VARCHAR(255) DEFAULT NULL COMMENT \'购买引导文本\', is_default TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'购买引导文本\', default_grade TINYINT(1) DEFAULT \'0\' COMMENT \'是否默认等级\', is_disabled TINYINT(1) DEFAULT \'0\' COMMENT \'是否禁用\', background_pic_url VARCHAR(1024) DEFAULT NULL COMMENT \'商家自定义会员卡背景图\', price_list LONGTEXT DEFAULT NULL COMMENT \'阶段价格表\', privileges LONGTEXT DEFAULT NULL COMMENT \'会员权益\', description LONGTEXT DEFAULT NULL COMMENT \'详细说明\', created INT NOT NULL, updated INT NOT NULL, external_id VARCHAR(50) DEFAULT \'\' NOT NULL COMMENT \'外部唯一标识，外部调用方自定义的值\', INDEX idx_companyid_created (company_id, created), PRIMARY KEY(vip_grade_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'付费会员等级库表\' ');
        $this->addSql('CREATE TABLE kaquan_vip_grade_order (order_id BIGINT NOT NULL COMMENT \'订单号\', vip_grade_id INT NOT NULL COMMENT \'付费会员卡等级ID\', lv_type VARCHAR(255) NOT NULL COMMENT \'等级类型\', company_id INT NOT NULL COMMENT \'公司ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'用户手机号\', title VARCHAR(255) DEFAULT NULL COMMENT \'会员卡标题\', price INT UNSIGNED NOT NULL COMMENT \'付款金额\', card_type JSON NOT NULL COMMENT \'购买的卡片类型,可选值有  monthly:30天月度卡;quarter:30天季度卡;year:365天年度卡(DC2Type:json_array)\', discount INT DEFAULT 0 NOT NULL COMMENT \'折扣额度\', shop_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'门店id\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', source_id BIGINT DEFAULT NULL COMMENT \'订单来源id\', monitor_id BIGINT DEFAULT NULL COMMENT \'订单监控页面id\', order_status VARCHAR(255) DEFAULT NULL COMMENT \'订单状态,可选值有 DONE—订单完成;NOTPAY—未支付;CANCEL—已取消\', created INT NOT NULL, updated INT NOT NULL, fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', source_type VARCHAR(255) DEFAULT \'sale\' NOT NULL COMMENT \'订单来源,可选值有 sale:购买;receive:领取;admin:后台手动续期;gift:赠送\', PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'付费会员等级卡\' ');
        $this->addSql('CREATE TABLE kaquan_vip_rel_user (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id INT NOT NULL COMMENT \'公司ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', vip_type VARCHAR(255) DEFAULT NULL COMMENT \'会员类型\', vip_grade_id BIGINT DEFAULT NULL COMMENT \'会员等级id\', end_date VARCHAR(255) DEFAULT NULL COMMENT \'会员到期时间\', INDEX inx_company_id (company_id), INDEX inx_user_id (user_id), INDEX inx_vip_grade_id (vip_grade_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'付费会员的等级卡表\' ');
        $this->addSql('CREATE TABLE kaquan_wechat_card (card_id BIGINT NOT NULL COMMENT \'会员卡id\', wechat_card_id VARCHAR(40) NOT NULL COMMENT \'微信会员卡id\', company_id BIGINT DEFAULT NULL COMMENT \'公司id\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_company_id (company_id), INDEX idx_wechat_card_id (wechat_card_id), PRIMARY KEY(card_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'关联微信卡券\' ');
        $this->addSql('CREATE TABLE logistics (corp_id SMALLINT AUTO_INCREMENT NOT NULL COMMENT \'物流公司ID\', corp_code VARCHAR(255) NOT NULL COMMENT \'快递鸟代码\', kuaidi_code VARCHAR(255) NOT NULL COMMENT \'快递100代码\', full_name VARCHAR(255) NOT NULL COMMENT \'物流公司全名\', corp_name VARCHAR(255) NOT NULL COMMENT \'物流公司简称\', order_sort SMALLINT DEFAULT 99 NOT NULL COMMENT \'排序\', custom TINYINT(1) DEFAULT \'0\' COMMENT \'是否自定义\', created INT NOT NULL, updated INT DEFAULT NULL, phone VARCHAR(20) DEFAULT NULL COMMENT \'物流公司电话\', logo VARCHAR(255) DEFAULT NULL COMMENT \'logo\', PRIMARY KEY(corp_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'物流公司表\' ');
        $this->addSql('CREATE TABLE map_config (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'地区id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', type VARCHAR(20) NOT NULL COMMENT \'第三方类型【amap 高德地图】【tencent 腾讯地图】\', app_key VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'第三方控制台中生成的key\', app_secret VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'第三方控制台中生成的秘钥\', is_default TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否是默认的地图配置项\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'地图配置表\' ');
        $this->addSql('CREATE TABLE member_group (group_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'分组id\', company_id BIGINT NOT NULL COMMENT \'公司id\', group_name VARCHAR(255) NOT NULL COMMENT \'分组名\', salesperson_id BIGINT NOT NULL COMMENT \'导购员\', sort INT NOT NULL COMMENT \'排序\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_salesperson_id (salesperson_id), PRIMARY KEY(group_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分组表\' ');
        $this->addSql('CREATE TABLE member_rel_group (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', group_id BIGINT NOT NULL COMMENT \'分组id\', company_id BIGINT NOT NULL COMMENT \'公司id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', user_id BIGINT NOT NULL COMMENT \'用户id\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_salesperson_id (salesperson_id), INDEX idx_group_id (group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员分组表\' ');
        $this->addSql('CREATE TABLE member_remarks (remarks_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键id\', company_id BIGINT NOT NULL COMMENT \'公司id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', user_id BIGINT NOT NULL COMMENT \'导购员id\', remarks VARCHAR(255) NOT NULL COMMENT \'导购员会员备注内容\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_salesperson_id (salesperson_id), INDEX idx_user_id (user_id), PRIMARY KEY(remarks_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员备注表\' ');
        $this->addSql('CREATE TABLE membercard (company_id BIGINT NOT NULL COMMENT \'公司id\', brand_name VARCHAR(36) NOT NULL COMMENT \'商户名称\', logo_url VARCHAR(255) NOT NULL COMMENT \'商户 logo\', title VARCHAR(27) NOT NULL COMMENT \'卡券名,最大9个汉字\', color VARCHAR(16) NOT NULL COMMENT \'券颜色值\', code_type VARCHAR(48) NOT NULL COMMENT \'卡券码类型(CODE_TYPE_TEXT CODE_TYPE_BARCODE CODE_TYPE_QRCODE CODE_TYPE_ONLY_QRCODE CODE_TYPE_ONLY_BARCODE CODE_TYPE_NONE)\', background_pic_url VARCHAR(255) NOT NULL COMMENT \'会员卡背景图\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员卡\' ');
        $this->addSql('CREATE TABLE membercard_grade (grade_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'等级ID\', company_id VARCHAR(255) NOT NULL COMMENT \'公司ID\', grade_name VARCHAR(255) NOT NULL COMMENT \'等级名称\', default_grade TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否默认等级\', background_pic_url VARCHAR(1024) DEFAULT NULL COMMENT \'商家自定义会员卡背景图\', promotion_condition JSON DEFAULT NULL COMMENT \'升级条件(DC2Type:json_array)\', privileges JSON DEFAULT NULL COMMENT \'会员权益(DC2Type:json_array)\', created INT NOT NULL, updated INT NOT NULL, third_data VARCHAR(255) DEFAULT NULL COMMENT \'第三方数据\', external_id VARCHAR(50) DEFAULT \'\' NOT NULL COMMENT \'外部唯一标识，外部调用方自定义的值\', INDEX idx_companyid (company_id), PRIMARY KEY(grade_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员卡等级表\' ');
        $this->addSql('CREATE TABLE members (user_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', grade_id BIGINT NOT NULL COMMENT \'等级id\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', region_mobile VARCHAR(50) NOT NULL COMMENT \'带区号的手机号\', mobile_country_code VARCHAR(50) NOT NULL COMMENT \'手机号的区号\', password VARCHAR(255) NOT NULL COMMENT \'密码\', user_card_code VARCHAR(255) NOT NULL COMMENT \'会员卡号\', offline_card_code VARCHAR(255) DEFAULT NULL COMMENT \'线下会员卡号\', authorizer_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', wxa_appid VARCHAR(64) DEFAULT NULL COMMENT \'小程序的appid\', inviter_id BIGINT DEFAULT NULL COMMENT \'推荐人id\', source_from VARCHAR(255) DEFAULT \'default\' COMMENT \'来源类型 default默认\', source_id BIGINT DEFAULT NULL COMMENT \'来源id\', monitor_id BIGINT DEFAULT NULL COMMENT \'监控页面id\', latest_source_id BIGINT DEFAULT NULL COMMENT \'最近来源id\', latest_monitor_id BIGINT DEFAULT NULL COMMENT \'最近监控页面id\', remarks VARCHAR(255) DEFAULT NULL COMMENT \'会员备注\', created bigint NOT NULL, created_year INT DEFAULT 0 COMMENT \'创建年份\', created_month INT DEFAULT 0 COMMENT \'创建月份\', created_day INT DEFAULT 0 COMMENT \'创建日期\', updated bigint NOT NULL, disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否禁用。0:可用；1:禁用\', use_point TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否可以使用积分\', third_data VARCHAR(255) DEFAULT NULL COMMENT \'第三方数据\', INDEX idx_company_id (company_id), INDEX idx_mobile (mobile), INDEX idx_grade_id (grade_id), INDEX idx_company_id_user_card_code (company_id, user_card_code), UNIQUE INDEX mobile_company (mobile, company_id), PRIMARY KEY(user_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员主表，其他平台的会员本地化表\' ');
        $this->addSql('CREATE TABLE members_address (address_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', username VARCHAR(50) NOT NULL COMMENT \'收货人\', telephone VARCHAR(20) NOT NULL COMMENT \'手机号码\', area VARCHAR(255) DEFAULT NULL COMMENT \'地区\', province VARCHAR(255) NOT NULL COMMENT \'地区：省\', city VARCHAR(255) NOT NULL COMMENT \'地区：市\', county VARCHAR(255) NOT NULL COMMENT \'地区：区\', adrdetail VARCHAR(255) NOT NULL COMMENT \'详细地址\', postalCode VARCHAR(20) DEFAULT NULL COMMENT \'邮编\', is_def TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否默认地址\', created bigint NOT NULL, updated bigint NOT NULL, third_data VARCHAR(255) DEFAULT NULL COMMENT \'第三方数据\', lng VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'腾讯地图纬度\', lat VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'腾讯地图经度\', INDEX idx_user_id (user_id), INDEX idx_company_id (company_id), PRIMARY KEY(address_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员收货地址表\' ');
        $this->addSql('CREATE TABLE members_article_fav (fav_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'收藏id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'会员id\', article_id BIGINT NOT NULL COMMENT \'文章ID\', created bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(fav_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员心愿单收藏\' ');
        $this->addSql('CREATE TABLE members_associations (user_id BIGINT NOT NULL COMMENT \'用户id\', unionid VARCHAR(40) NOT NULL COMMENT \'第三方unionid\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_type VARCHAR(30) NOT NULL COMMENT \'用户类型，可选值有 wechat:微信;ali:支付宝\', INDEX ind_member_id_miss (unionid, company_id, user_type), PRIMARY KEY(user_id, unionid, company_id, user_type)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'不同平台会员关联表，关联到members表\' ');
        $this->addSql('CREATE TABLE members_browse_history (history_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'会员id\', item_id BIGINT NOT NULL COMMENT \'商品id\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_item_id (item_id), INDEX idx_user_id (user_id), PRIMARY KEY(history_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员浏览足迹\' ');
        $this->addSql('CREATE TABLE members_delete_record (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', created INT DEFAULT NULL COMMENT \'创建时间\', INDEX idx_company_id (company_id), INDEX idx_mobile (mobile), INDEX idx_user_id (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员删除记录\' ');
        $this->addSql('CREATE TABLE members_distribution_fav (fav_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'收藏id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'会员id\', distributor_id BIGINT NOT NULL COMMENT \'店铺ID\', created bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(fav_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员店铺收藏\' ');
        $this->addSql('CREATE TABLE members_info (user_id BIGINT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', username VARCHAR(500) DEFAULT NULL COMMENT \'姓名\', avatar VARCHAR(255) DEFAULT NULL COMMENT \'头像\', sex SMALLINT DEFAULT 0 COMMENT \'性别。0 未知 1 男 2 女\', birthday VARCHAR(100) DEFAULT NULL COMMENT \'出生日期\', address VARCHAR(255) DEFAULT NULL COMMENT \'家庭住址\', email VARCHAR(100) DEFAULT NULL COMMENT \'常用邮箱\', industry VARCHAR(255) DEFAULT NULL COMMENT \'从事行业\', income VARCHAR(50) DEFAULT NULL COMMENT \'年收入\', edu_background VARCHAR(50) DEFAULT NULL COMMENT \'学历\', habbit JSON DEFAULT NULL COMMENT \'爱好(DC2Type:json_array)\', have_consume TINYINT(1) DEFAULT \'0\' COMMENT \'是否有消费\', year INT DEFAULT 0 COMMENT \'生日年份\', month INT DEFAULT 0 COMMENT \'生日月份\', day INT DEFAULT 0 COMMENT \'生日日期\', other_params LONGTEXT NOT NULL COMMENT \'其他参数，透传前端传递进来的参数\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(user_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员详情信息表\' ');
        $this->addSql('CREATE TABLE members_invoices (invoices_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', invoices_type VARCHAR(15) NOT NULL COMMENT \'类型 personal 个人 ；corporate 企业 \', name VARCHAR(255) NOT NULL COMMENT \'名称\', telephone VARCHAR(20) DEFAULT NULL COMMENT \'电话号码\', tax_number VARCHAR(255) DEFAULT NULL COMMENT \'税号\', business_address VARCHAR(255) DEFAULT NULL COMMENT \'单位地址\', bank VARCHAR(255) DEFAULT NULL COMMENT \'开户银行\', bank_account VARCHAR(255) DEFAULT NULL COMMENT \'银行账号\', is_def TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否默认\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(invoices_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员发票信息表\' ');
        $this->addSql('CREATE TABLE members_items_fav (fav_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'会员id\', item_id BIGINT NOT NULL COMMENT \'商品id\', item_name VARCHAR(100) NOT NULL COMMENT \'商品名称\', item_image LONGTEXT NOT NULL COMMENT \'商品图片\', item_price INT NOT NULL COMMENT \'价格,单位为‘分’\', item_type VARCHAR(15) DEFAULT \'normal\' NOT NULL COMMENT \'商品类型，normal: 普通商品 pointsmall:积分商城\', point INT DEFAULT 0 COMMENT \'积分兑换价格,item_type=pointsmall时必须\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(fav_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员收藏商品表\' ');
        $this->addSql('CREATE TABLE members_msmsend_log (log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', send_to_phones LONGTEXT NOT NULL COMMENT \'收信手机号\', sms_content VARCHAR(256) NOT NULL COMMENT \'短信内容\', operator VARCHAR(50) NOT NULL COMMENT \'操作员信息\', status INT NOT NULL COMMENT \'状态\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'群发短信log\' ');
        $this->addSql('CREATE TABLE members_offine_log (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司_ID\', offline_card_code VARCHAR(255) NOT NULL COMMENT \'实体卡_编号\', username VARCHAR(50) DEFAULT NULL COMMENT \'姓名\', sex SMALLINT DEFAULT NULL COMMENT \'性别。0 未知 1 男 2 女\', grade_id VARCHAR(50) DEFAULT NULL COMMENT \'会员等级\', birthday VARCHAR(100) DEFAULT NULL COMMENT \'出生日期\', address VARCHAR(255) DEFAULT NULL COMMENT \'家庭住址\', email VARCHAR(100) DEFAULT NULL COMMENT \'常用邮箱\', created_time VARCHAR(100) DEFAULT NULL COMMENT \'入会日期\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员线下实体卡日志\' ');
        $this->addSql('CREATE TABLE members_operate_log (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', operate_type VARCHAR(255) NOT NULL COMMENT \'log类型，mobile：修改手机号,grade_id:修改会员等级\', remarks VARCHAR(255) DEFAULT NULL COMMENT \'操作备注\', old_data LONGTEXT DEFAULT NULL COMMENT \'修改前历史数据\', new_data LONGTEXT NOT NULL COMMENT \'新修改的数据\', operater LONGTEXT NOT NULL COMMENT \'管理员描述\', created bigint NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'管理员修改员工操作日志表\' ');
        $this->addSql('CREATE TABLE members_rel_shop (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', shop_id BIGINT NOT NULL COMMENT \'店铺id\', created bigint NOT NULL, updated bigint NOT NULL, shop_type VARCHAR(15) DEFAULT \'shop\' NOT NULL COMMENT \'店铺类型\', INDEX idx_company_id (company_id), INDEX idx_shop_id (shop_id), INDEX idx_user_id (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺管理会员表\' ');
        $this->addSql('CREATE TABLE members_rel_tags (tag_id BIGINT NOT NULL COMMENT \'标签id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', PRIMARY KEY(tag_id, company_id, user_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员关联标签表\' ');
        $this->addSql('CREATE TABLE members_subscribe_notice (sub_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'订阅id\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'会员id\', open_id VARCHAR(40) NOT NULL COMMENT \'open_id\', rel_id BIGINT DEFAULT NULL COMMENT \'关联id\', sub_type VARCHAR(255) DEFAULT \'goods\' NOT NULL COMMENT \'订阅类型。可选值有 goods:商品缺货通知\', remarks VARCHAR(255) DEFAULT NULL COMMENT \'订阅备注\', sub_status VARCHAR(255) DEFAULT \'NO\' NOT NULL COMMENT \'通知状态。可选值有 NO—未通知;SUCCESS-已通知;ERROR-通知失败\', err_reason VARCHAR(255) DEFAULT NULL COMMENT \'通知失败原因\', updated bigint NOT NULL, created bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(sub_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订阅通知\' ');
        $this->addSql('CREATE TABLE members_tags (tag_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'标签id\', company_id BIGINT NOT NULL COMMENT \'公司id\', tag_name VARCHAR(50) NOT NULL COMMENT \'标签名称\', description VARCHAR(255) DEFAULT NULL COMMENT \'标签描述\', tag_icon LONGTEXT DEFAULT NULL COMMENT \'标签icon\', saleman_id INT DEFAULT 0 NOT NULL COMMENT \'自定义标签添加人员id\', tag_status VARCHAR(32) DEFAULT \'online\' NOT NULL COMMENT \'标签类型，online：线上发布, self: 私有自定义\', category_id INT DEFAULT 0 NOT NULL COMMENT \'分类id\', self_tag_count INT DEFAULT 0 NOT NULL COMMENT \'自定义标签下会员数量\', tag_color VARCHAR(50) NOT NULL COMMENT \'标签颜色\', font_color VARCHAR(50) NOT NULL COMMENT \'字体颜色\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', created bigint NOT NULL, updated bigint NOT NULL, source VARCHAR(255) DEFAULT \'self\' NOT NULL COMMENT \'标签来源,self:商户自定义，staff:系统固定员工tag\', INDEX idx_company_id (company_id), INDEX idx_source (source), INDEX idx_tag_name (tag_name), PRIMARY KEY(tag_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员标签库表\' ');
        $this->addSql('CREATE TABLE members_tags_category (category_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'标签分类id\', category_name VARCHAR(50) NOT NULL COMMENT \'标签分类名称\', sort BIGINT DEFAULT 1 NOT NULL COMMENT \'排序\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'标签分类\' ');
        $this->addSql('CREATE TABLE members_wechat_fans (unionid VARCHAR(40) NOT NULL COMMENT \'第三方unionid\', company_id BIGINT NOT NULL COMMENT \'公司id\', authorizer_appid VARCHAR(64) NOT NULL COMMENT \'公众号appid\', subscribed TINYINT(1) DEFAULT NULL COMMENT \'是否订阅\', open_id VARCHAR(40) NOT NULL COMMENT \'open_id\', nickname VARCHAR(255) NOT NULL COMMENT \'昵称\', sex SMALLINT DEFAULT NULL COMMENT \'性别。0 未知；1 男；2 女\', city VARCHAR(255) DEFAULT NULL COMMENT \'市\', country VARCHAR(255) DEFAULT NULL COMMENT \'国\', province VARCHAR(255) DEFAULT NULL COMMENT \'省\', language VARCHAR(255) DEFAULT NULL COMMENT \'语言\', headimgurl VARCHAR(255) DEFAULT NULL, subscribe_time INT DEFAULT NULL COMMENT \'订阅时间\', remark VARCHAR(255) DEFAULT NULL COMMENT \'备注\', groupid INT DEFAULT NULL, tagids VARCHAR(255) DEFAULT NULL, tagpop TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'列表标签弹出框所需字段\', remarkpop TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'列表页备注弹出框所需字段\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_openid (open_id), PRIMARY KEY(unionid)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信粉丝表\' ');
        $this->addSql('CREATE TABLE members_wechatusers (company_id BIGINT NOT NULL COMMENT \'公司id\', authorizer_appid VARCHAR(64) NOT NULL COMMENT \'公众号appid\', open_id VARCHAR(40) NOT NULL COMMENT \'open_id\', unionid VARCHAR(40) NOT NULL COMMENT \'union_id\', inviter_id INT DEFAULT 0 COMMENT \'来源id\', source_from VARCHAR(255) DEFAULT \'default\' COMMENT \'来源类型 default默认\', need_transfer TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否禁用。0:不用迁移或迁移完成；1:需要迁移\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_unionid (unionid), INDEX idx_openid (open_id), PRIMARY KEY(company_id, authorizer_appid, open_id, unionid)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信会员表\' ');
        $this->addSql('CREATE TABLE members_wechatusers_info (company_id BIGINT NOT NULL COMMENT \'公司id\', unionid VARCHAR(40) NOT NULL COMMENT \'微信unionid\', nickname VARCHAR(500) DEFAULT NULL COMMENT \'昵称\', sex SMALLINT DEFAULT NULL, city VARCHAR(255) DEFAULT NULL, country VARCHAR(255) DEFAULT NULL, province VARCHAR(255) DEFAULT NULL, language VARCHAR(255) DEFAULT NULL, headimgurl VARCHAR(255) DEFAULT NULL COMMENT \'头像url\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_unionid (unionid), PRIMARY KEY(company_id, unionid)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信用户表\' ');
        $this->addSql('CREATE TABLE members_whitelist (whitelist_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'白名单id\', company_id BIGINT NOT NULL COMMENT \'公司id\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', name VARCHAR(500) NOT NULL COMMENT \'名称\', created bigint NOT NULL, updated bigint NOT NULL, INDEX idx_company_id (company_id), INDEX idx_mobile (mobile), UNIQUE INDEX mobile_company (mobile, company_id), PRIMARY KEY(whitelist_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员白名单\' ');
        $this->addSql('CREATE TABLE onecode_batchs (batch_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'批次ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', thing_id BIGINT NOT NULL COMMENT \'物品ID\', batch_number VARCHAR(255) NOT NULL COMMENT \'批次编号\', batch_name VARCHAR(255) NOT NULL COMMENT \'批次名称\', batch_quantity INT NOT NULL COMMENT \'批次件数\', show_trace TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'前台是否可以查看流通信息\', trace_info JSON DEFAULT NULL COMMENT \'流通信息(DC2Type:json_array)\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(batch_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'物品批次表\' ');
        $this->addSql('CREATE TABLE onecode_things (thing_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'物品ID\', thing_name VARCHAR(255) NOT NULL COMMENT \'物品名称\', company_id BIGINT NOT NULL COMMENT \'公司ID\', price INT NOT NULL COMMENT \'官方建议售价,单位为‘分’\', pic VARCHAR(255) NOT NULL COMMENT \'图片\', intro LONGTEXT DEFAULT NULL COMMENT \'图文详情\', batch_total_count INT NOT NULL COMMENT \'总批次数\', batch_total_quantity INT NOT NULL COMMENT \'总件数\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(thing_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'物品表，一物一码的物\' ');
        $this->addSql('CREATE TABLE openapi_developer (developer_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'developer_id\', company_id BIGINT NOT NULL COMMENT \'公司id\', app_key VARCHAR(255) NOT NULL COMMENT \'app_key\', app_secret VARCHAR(255) NOT NULL COMMENT \'app_secret\', external_base_uri VARCHAR(255) NOT NULL COMMENT \'外部请求配置uri\', external_app_key VARCHAR(255) NOT NULL COMMENT \'外部请求配置app_key\', external_app_secret VARCHAR(255) NOT NULL COMMENT \'外部请求配置app_secret\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(developer_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'openapi开发配置表\' ');
        $this->addSql('CREATE TABLE operator_bind_shop (operator_id BIGINT NOT NULL, shop_id BIGINT NOT NULL, bind_status TINYINT(1) NOT NULL, is_shopadmin TINYINT(1) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME DEFAULT NULL, INDEX idx_shop_id (shop_id), PRIMARY KEY(operator_id, shop_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'员工关联门店表\' ');
        $this->addSql('CREATE TABLE operator_data_pass (pass_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'审核id\', company_id BIGINT DEFAULT 0 NOT NULL COMMENT \'公司id\', operator_id INT DEFAULT 0 NOT NULL COMMENT \'操作者id\', status INT DEFAULT 0 NOT NULL COMMENT \'审批状态 0:未审批 1:同意 2:驳回\', is_closed INT DEFAULT 0 NOT NULL COMMENT \'关闭状态: 0:未关闭 1:关闭\', start_time INT DEFAULT 0 NOT NULL COMMENT \'生效开始时间\', end_time INT DEFAULT 0 NOT NULL COMMENT \'生效结束时间\', rule VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'生效规则 \'\'8-18 *\'\': 每天8到18点有效 \'\'* 1-5\'\':周一到周五全天有效\', reason VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'申请理由\', remarks VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'审批备注\', create_time INT DEFAULT 0 NOT NULL COMMENT \'创建时间\', approve_time INT DEFAULT 0 NOT NULL COMMENT \'审批时间\', INDEX idx_company_id (company_id), INDEX idx_operator_id (operator_id), PRIMARY KEY(pass_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'数据敏感信息申请\' ');
        $this->addSql('CREATE TABLE operator_data_pass_log (log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT DEFAULT 0 NOT NULL COMMENT \'公司id\', operator_id INT DEFAULT 0 NOT NULL COMMENT \'操作者id\', create_time INT DEFAULT 0 NOT NULL COMMENT \'创建时间\', path VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'路由地址\', url VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'全地址\', INDEX idx_company_id (company_id), INDEX idx_operator_id (operator_id), PRIMARY KEY(log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'数据敏感信息查看\' ');
        $this->addSql('CREATE TABLE operator_license (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'协议id\', type VARCHAR(255) NOT NULL COMMENT \'许可协议类型: app\', title VARCHAR(255) NOT NULL COMMENT \'许可协议标题\', content LONGTEXT NOT NULL COMMENT \'许可协议内容\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商户许可协议表\' ');
        $this->addSql('CREATE TABLE operators (operator_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'账号id\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', login_name VARCHAR(255) DEFAULT NULL COMMENT \'员工账号名\', operator_type VARCHAR(255) DEFAULT \'admin\' NOT NULL COMMENT \'操作员类型类型。admin:超级管理员;staff:员工;distributor:店铺管理员;dealer:经销商\', password VARCHAR(255) DEFAULT NULL, eid VARCHAR(255) DEFAULT NULL, passport_uid VARCHAR(255) DEFAULT NULL, created INT NOT NULL, updated INT DEFAULT NULL, company_id BIGINT DEFAULT NULL COMMENT \'公司id\', distributor_ids LONGTEXT DEFAULT NULL COMMENT \'员工管理的店铺id集合\', shop_ids LONGTEXT DEFAULT NULL COMMENT \'员工管理的门店id集合\', lastloginip VARCHAR(255) DEFAULT NULL COMMENT \'添加时候的ip\', username VARCHAR(255) DEFAULT NULL COMMENT \'名称\', head_portrait LONGTEXT DEFAULT NULL COMMENT \'头像\', regionauth_id BIGINT DEFAULT 0 NOT NULL COMMENT \'区域id\', contact VARCHAR(500) DEFAULT NULL COMMENT \'联系人姓名\', split_ledger_info VARCHAR(255) DEFAULT NULL COMMENT \'分账信息\', is_disable INT DEFAULT 0 COMMENT \'是否禁用 1:是 0:否\', adapay_open_account_time VARCHAR(255) DEFAULT NULL COMMENT \'adapay子商户开户时间\', dealer_parent_id VARCHAR(255) DEFAULT NULL COMMENT \'经销商子账号父级id\', is_dealer_main VARCHAR(255) DEFAULT \'1\' NOT NULL COMMENT \'是否是经销商主账号  1：是   0：不是\', INDEX idx_eid (eid), PRIMARY KEY(operator_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'账号表\' ');
        $this->addSql('CREATE TABLE order_profit_sharing (order_profit_sharing_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id BIGINT NOT NULL COMMENT \'订单号\', distributor_id BIGINT UNSIGNED DEFAULT 0 COMMENT \'分销商id\', user_id BIGINT UNSIGNED DEFAULT 0 COMMENT \'用户id\', pay_type VARCHAR(255) DEFAULT \'\' COMMENT \'支付方式\', channel_id VARCHAR(255) DEFAULT \'\' COMMENT \'渠道分账账户id\', channel_acct_id VARCHAR(255) DEFAULT \'\' COMMENT \'渠道分账账户号\', total_fee INT DEFAULT NULL COMMENT \'分账金额，以分为单位\', status INT DEFAULT 0 COMMENT \'订单状态。可选值有 0 1 成功 2失败\', hf_order_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求id\', hf_order_date VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求日期\', resp_code VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求响应码\', resp_desc VARCHAR(255) DEFAULT NULL COMMENT \'汇付接口请求描述\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id_order_id (company_id, order_id), PRIMARY KEY(order_profit_sharing_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单资金分账\' ');
        $this->addSql('CREATE TABLE order_profit_sharing_details (order_profit_sharing_detail_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', sharing_id BIGINT NOT NULL COMMENT \'分账ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id BIGINT NOT NULL COMMENT \'订单号\', distributor_id BIGINT UNSIGNED DEFAULT 0 COMMENT \'分销商id\', channel_id VARCHAR(255) DEFAULT \'\' COMMENT \'渠道分账账户id\', channel_acct_id VARCHAR(255) DEFAULT \'\' COMMENT \'渠道分账账户号\', total_fee INT DEFAULT 0 COMMENT \'分账金额，以分为单位\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id_order_id (company_id, order_id), INDEX idx_sharing_id (sharing_id), PRIMARY KEY(order_profit_sharing_detail_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单资金分账详情\' ');
        $this->addSql('CREATE TABLE orders_associations (order_id BIGINT NOT NULL COMMENT \'订单号\', authorizer_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', wxa_appid VARCHAR(64) DEFAULT NULL COMMENT \'小程序的appid\', title VARCHAR(255) DEFAULT NULL COMMENT \'订单标题\', total_fee BIGINT DEFAULT NULL COMMENT \'订单金额，以分为单位\', company_id BIGINT NOT NULL COMMENT \'公司id\', shop_id BIGINT DEFAULT NULL COMMENT \'店铺id\', store_name VARCHAR(100) DEFAULT NULL COMMENT \'店铺名称\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', promoter_user_id BIGINT DEFAULT NULL COMMENT \'推广员user_id\', promoter_shop_id BIGINT DEFAULT NULL COMMENT \'推广员店铺id，实际为推广员的user_id\', source_id BIGINT DEFAULT NULL COMMENT \'订单来源id\', monitor_id BIGINT DEFAULT NULL COMMENT \'订单监控页面id\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'手机号\', order_class VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单种类。可选值有 normal:普通订单;groups:拼团订单;;community 社区活动订单;bargain:助力订单;seckill:秒杀订单;shopguide:导购订单\', order_type VARCHAR(255) DEFAULT NULL COMMENT \'订单类型。可选值有 service 服务业订单;bargain 砍价订单;distribution 分销订单;normal 普通实体订单\', order_status VARCHAR(255) NOT NULL COMMENT \'订单状态。可选值有 DONE—订单完成;PAYED-已支付;NOTPAY—未支付;CANCEL—已取消;WAIT_BUYER_CONFIRM-待用户收货\', is_distribution TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否是分销订单\', total_rebate INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'订单总分销金额，以分为单位\', delivery_corp VARCHAR(255) DEFAULT NULL COMMENT \'快递公司\', delivery_code VARCHAR(255) DEFAULT NULL COMMENT \'快递单号\', delivery_time INT DEFAULT NULL COMMENT \'发货时间\', member_discount INT UNSIGNED NOT NULL COMMENT \'会员折扣金额，以分为单位\', coupon_discount INT UNSIGNED NOT NULL COMMENT \'优惠券抵扣金额，以分为单位\', coupon_discount_desc LONGTEXT DEFAULT NULL COMMENT \'优惠券使用详情\', member_discount_desc LONGTEXT DEFAULT NULL COMMENT \'会员折扣使用详情\', delivery_status VARCHAR(255) DEFAULT \'PENDING\' NOT NULL COMMENT \'发货状态。可选值有 DONE—已发货;PENDING—待发货;PARTAIL_DELIVERY-部分发货\', cancel_status VARCHAR(255) DEFAULT \'NO_APPLY_CANCEL\' NOT NULL COMMENT \'取消订单状态。可选值有 NO_APPLY_CANCEL 未申请;WAIT_PROCESS 等待审核;REFUND_PROCESS 退款处理;SUCCESS 取消成功;FAILS 取消失败\', create_time INT NOT NULL COMMENT \'订单创建时间\', end_time BIGINT DEFAULT NULL COMMENT \'订单完成时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', salesman_id BIGINT DEFAULT 0 COMMENT \'导购员ID\', INDEX idx_company_id (company_id), INDEX idx_order_type (order_type), INDEX idx_order_class (order_class), INDEX idx_user_id (user_id), INDEX idx_salesman_id (salesman_id), PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单主关联表\' ');
        $this->addSql('CREATE TABLE orders_bargain (order_id BIGINT NOT NULL COMMENT \'订单号\', title VARCHAR(255) DEFAULT NULL COMMENT \'订单标题\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', bargain_id BIGINT NOT NULL COMMENT \'活动id\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', item_price VARCHAR(255) NOT NULL COMMENT \'商品价格\', item_pics VARCHAR(255) NOT NULL COMMENT \'商品图片\', item_num BIGINT NOT NULL COMMENT \'购买商品数量\', templates_id INT DEFAULT 0 NOT NULL COMMENT \'运费模板id\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'手机号\', freight_fee INT DEFAULT 0 COMMENT \'运费价格，以分为单位\', item_fee VARCHAR(255) NOT NULL COMMENT \'商品金额，以分为单位\', total_fee BIGINT NOT NULL COMMENT \'订单金额，以分为单位\', order_status VARCHAR(255) NOT NULL COMMENT \'订单状态\', order_type VARCHAR(255) DEFAULT \'bargain\' NOT NULL COMMENT \'订单类型\', trade_source VARCHAR(255) DEFAULT NULL COMMENT \'订单来源\', receiver_name VARCHAR(255) DEFAULT NULL COMMENT \'收货人姓名\', receiver_mobile VARCHAR(255) DEFAULT NULL COMMENT \'收货人手机号\', receiver_zip VARCHAR(255) DEFAULT NULL COMMENT \'收货人邮编\', receiver_state VARCHAR(255) DEFAULT NULL COMMENT \'收货人所在省份\', receiver_city VARCHAR(255) DEFAULT NULL COMMENT \'收货人所在城市\', receiver_district VARCHAR(255) DEFAULT NULL COMMENT \'收货人所在地区\', receiver_address VARCHAR(255) DEFAULT NULL COMMENT \'收货人详细地址\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', auto_cancel_time VARCHAR(255) NOT NULL COMMENT \'订单自动取消时间\', source_id BIGINT DEFAULT NULL COMMENT \'订单来源id\', monitor_id BIGINT DEFAULT NULL COMMENT \'订单监控页面id\', remark VARCHAR(255) NOT NULL COMMENT \'订单备注\', member_discount INT UNSIGNED NOT NULL COMMENT \'会员折扣金额，以分为单位\', coupon_discount INT UNSIGNED NOT NULL COMMENT \'优惠券抵扣金额，以分为单位\', coupon_discount_desc LONGTEXT DEFAULT NULL COMMENT \'优惠券使用详情\', member_discount_desc LONGTEXT DEFAULT NULL COMMENT \'会员折扣使用详情\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', third_params JSON DEFAULT NULL COMMENT \'第三方特殊字段存储(DC2Type:json_array)\', PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'砍价订单表\' ');
        $this->addSql('CREATE TABLE orders_cancel_orders (cancel_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'取消ID\', order_id BIGINT NOT NULL COMMENT \'订单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', user_id BIGINT NOT NULL COMMENT \'用户id\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', order_type VARCHAR(255) DEFAULT NULL COMMENT \'订单类型。可选值有 service 服务业订单;bargain 砍价订单;distribution 分销订单;normal 普通实体订单\', total_fee BIGINT UNSIGNED NOT NULL COMMENT \'订单金额，以分为单位\', progress SMALLINT DEFAULT 0 NOT NULL COMMENT \'处理进度。可选值有 0 待处理;1 已取消;2 处理中;3 已完成; 4 已驳回\', cancel_from VARCHAR(255) DEFAULT \'buyer\' NOT NULL COMMENT \'取消来源。可选值有 buyer 用户取消订单;shop 商家取消订单\', cancel_reason VARCHAR(300) DEFAULT NULL COMMENT \'取消原因\', shop_reject_reason VARCHAR(300) DEFAULT NULL COMMENT \'商家拒绝理由\', refund_status VARCHAR(30) DEFAULT \'READY\' NOT NULL COMMENT \'退款状态。可选值有 READY 待审核;AUDIT_SUCCESS 审核成功待退款;SUCCESS 退款成功;SHOP_CHECK_FAILS 商家审核不通过;CANCEL 撤销退款;PROCESSING 已发起退款等待到账;FAILS 退款失败;\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', point INT UNSIGNED DEFAULT 0 COMMENT \'消费积分\', pay_type VARCHAR(255) DEFAULT \'\' COMMENT \'支付方式\', INDEX idx_order_id (order_id), INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(cancel_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'已付钱订单取消退款记录表\' ');
        $this->addSql('CREATE TABLE orders_cart (cart_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', user_ident VARCHAR(50) DEFAULT NULL COMMENT \'会员ident,会员信息和session生成的唯一值\', shop_type VARCHAR(255) DEFAULT \'distributor\' COMMENT \'店铺类型；distributor:店铺，shop:门店，community:社区, mall:商城, drug 药品清单\', shop_id BIGINT UNSIGNED DEFAULT 0 COMMENT \'店铺id 或者 社区id\', activity_type VARCHAR(255) DEFAULT NULL COMMENT \'活动类型\', activity_id BIGINT UNSIGNED DEFAULT 0 COMMENT \'活动id\', marketing_type VARCHAR(255) DEFAULT NULL COMMENT \'促销类型\', marketing_id BIGINT UNSIGNED DEFAULT 0 COMMENT \'促销id\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'商品类型。可选值有 normal 实体类商品;services 服务类商品, normal_gift:实体赠品,services_gift:服务类赠品\', item_id BIGINT NOT NULL COMMENT \'商品id\', items_id VARCHAR(255) DEFAULT \'\' COMMENT \'组合商品关联商品id\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', pics VARCHAR(1024) DEFAULT NULL COMMENT \'图片\', num INT UNSIGNED NOT NULL COMMENT \'购买商品数量\', price INT DEFAULT 0 NOT NULL COMMENT \'购买商品价格\', point INT DEFAULT 0 COMMENT \'积分兑换价格\', wxa_appid VARCHAR(255) DEFAULT NULL COMMENT \'小程序appid\', is_checked TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'购物车是否选中\', is_plus_buy TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是加价购商品\', source_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'购物车数据来源：scancode：扫码加入购物车, normal:正常加入购物车\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_item_id (item_id), INDEX idx_user_id (user_id), INDEX idx_company_id (company_id), INDEX idx_shop_type (shop_type), INDEX idx_wxa_appid (wxa_appid), INDEX idx_is_checked (is_checked), PRIMARY KEY(cart_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'购物车\' ');
        $this->addSql('CREATE TABLE orders_delivery (orders_delivery_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'orders_delivery_id\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id BIGINT NOT NULL COMMENT \'订单id\', user_id BIGINT NOT NULL COMMENT \'用户id\', delivery_corp VARCHAR(255) NOT NULL COMMENT \'快递公司\', delivery_corp_name VARCHAR(255) NOT NULL COMMENT \'快递公司名称\', delivery_code VARCHAR(255) NOT NULL COMMENT \'快递单号\', delivery_time INT NOT NULL COMMENT \'发货时间\', delivery_corp_source VARCHAR(255) DEFAULT NULL COMMENT \'快递代码来源\', receiver_mobile VARCHAR(255) DEFAULT NULL COMMENT \'收货人手机号\', package_type VARCHAR(255) DEFAULT NULL COMMENT \'订单包裹类型 batch 整单发货  sep拆单发货\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_order_id (order_id), PRIMARY KEY(orders_delivery_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单发货单表\' ');
        $this->addSql('CREATE TABLE orders_delivery_items (orders_delivery_items_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'orders_delivery_items_id\', company_id BIGINT NOT NULL COMMENT \'公司id\', order_id BIGINT NOT NULL COMMENT \'订单id\', order_items_id BIGINT NOT NULL COMMENT \'订单items表id\', orders_delivery_id BIGINT NOT NULL COMMENT \'订单发货单id\', item_id BIGINT NOT NULL COMMENT \'商品id\', num INT NOT NULL COMMENT \'发货数量\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', pic VARCHAR(255) NOT NULL COMMENT \'商品图片\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_order_id (order_id), INDEX idx_orders_delivery_id (orders_delivery_id), PRIMARY KEY(orders_delivery_items_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单发货单商品表\' ');
        $this->addSql('CREATE TABLE orders_items_rel_profit (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', order_id BIGINT NOT NULL COMMENT \'订单id\', item_id BIGINT NOT NULL COMMENT \'商品id\', order_profit_status BIGINT NOT NULL COMMENT \'0 无效分润 1 冻结分润 2 分润成功\', company_id BIGINT NOT NULL COMMENT \'公司id\', total_fee BIGINT DEFAULT NULL COMMENT \'订单金额，以分为单位\', profit_type SMALLINT NOT NULL COMMENT \'分润类型 1 总部分润 2 自营门店分润 3 加盟门店分润\', user_id BIGINT DEFAULT 0 NOT NULL COMMENT \'购买用户id\', dealer_id BIGINT DEFAULT 0 NOT NULL COMMENT \'区域经销商id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新门店id\', order_distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'下单当前所在门店id\', distributor_nid BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新导购当前所在门店id\', seller_id BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新导购id\', popularize_distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'推广门店id\', popularize_seller_id BIGINT DEFAULT 0 NOT NULL COMMENT \'推广导购id\', proprietary BIGINT DEFAULT 0 NOT NULL COMMENT \'判断拉新门店 0 无门店 1 自营门店 2 加盟门店\', popularize_proprietary BIGINT DEFAULT 0 NOT NULL COMMENT \'判断推广门店 0 无门店 1 自营门店 2 加盟门店\', dealers BIGINT DEFAULT 0 NOT NULL COMMENT \'区域经销商分成\', distributor BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新门店分成\', seller BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新导购分成（分给门店）\', popularize_distributor BIGINT DEFAULT 0 NOT NULL COMMENT \'推广门店分成\', popularize_seller BIGINT DEFAULT 0 NOT NULL COMMENT \'推广导购分成（分给门店）\', commission BIGINT DEFAULT 0 NOT NULL COMMENT \'总部手续费\', rule JSON DEFAULT NULL COMMENT \'分润规则(DC2Type:json_array)\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单商品分润表\' ');
        $this->addSql('CREATE TABLE orders_merchant_trade (merchant_trade_id VARCHAR(32) NOT NULL COMMENT \'商家支付交易单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', rel_scene_id VARCHAR(255) DEFAULT NULL COMMENT \'关联支付场景ID\', rel_scene_name VARCHAR(255) DEFAULT NULL COMMENT \'关联支付场景名称\', mch_appid VARCHAR(32) DEFAULT NULL COMMENT \'商户APPId\', mchid VARCHAR(32) DEFAULT NULL COMMENT \'商户号\', payment_action VARCHAR(32) NOT NULL COMMENT \'商户支付方式\', check_name VARCHAR(11) NOT NULL COMMENT \'是否强验用户姓名\', mobile VARCHAR(32) DEFAULT NULL COMMENT \'支付手机号\', re_user_name VARCHAR(255) DEFAULT NULL COMMENT \'收款用户姓名\', user_id BIGINT NOT NULL COMMENT \'用户id\', open_id VARCHAR(255) DEFAULT NULL COMMENT \'用户openId\', amount BIGINT NOT NULL COMMENT \'付款金额(分)\', payment_desc VARCHAR(255) NOT NULL COMMENT \'付款备注\', spbill_create_ip VARCHAR(255) NOT NULL COMMENT \'ip地址\', status VARCHAR(255) NOT NULL COMMENT \'支付状态。可选值有 NOT_PAY:未付款;PAYING:付款中;SUCCESS:付款成功;FAIL:付款失败\', payment_no VARCHAR(32) DEFAULT NULL COMMENT \'微信支付订单号\', payment_time VARCHAR(255) DEFAULT NULL COMMENT \'微信支付成功时间\', error_code VARCHAR(255) DEFAULT NULL COMMENT \'支付错误code码\', error_desc VARCHAR(255) DEFAULT NULL COMMENT \'支付错误描述\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', cur_fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'系统配置货币类型\', cur_fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'系统配置货币汇率\', cur_fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'系统配置货币符号\', cur_pay_fee VARCHAR(255) NOT NULL COMMENT \'系统货币支付金额\', hf_order_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付请求订单号\', hf_order_date VARCHAR(255) DEFAULT NULL COMMENT \'汇付请求日期\', hf_cash_type VARCHAR(255) DEFAULT NULL COMMENT \'汇付取现方式 T0：T0取现; T1：T1取现 D1：D1取现\', user_cust_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付商户客户号\', bind_card_id VARCHAR(255) DEFAULT NULL COMMENT \'汇付取现银行卡id\', PRIMARY KEY(merchant_trade_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业付款账单\' ');
        $this->addSql('CREATE TABLE orders_normal_orders (order_id BIGINT NOT NULL COMMENT \'订单号\', title VARCHAR(255) DEFAULT NULL COMMENT \'订单标题\', company_id BIGINT NOT NULL COMMENT \'公司id\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', cost_fee INT UNSIGNED NOT NULL COMMENT \'商品成本价，以分为单位\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', act_id BIGINT DEFAULT NULL COMMENT \'营销活动ID，团购ID，社区拼团ID，秒杀活动ID等\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'手机号\', order_class VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单种类。可选值有 normal:普通订单;groups:拼团订单;;community 社区活动订单;bargain:助力订单;seckill:秒杀订单;shopguide:导购订单;pointsmall:积分商城;excard:兑换券\', freight_fee INT DEFAULT 0 COMMENT \'运费价格，以分为单位\', freight_type VARCHAR(255) DEFAULT \'cash\' NOT NULL COMMENT \'运费类型-用于积分商城 cash:现金 point:积分\', item_fee VARCHAR(255) NOT NULL COMMENT \'商品金额，以分为单位\', total_fee VARCHAR(255) NOT NULL COMMENT \'订单金额，以分为单位\', step_paid_fee INT UNSIGNED DEFAULT 0 COMMENT \'分阶段付款已支付金额，以分为单位\', total_rebate INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'订单总分销金额，以分为单位\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', is_rate TINYINT(1) DEFAULT \'0\' COMMENT \'是否评价\', receipt_type VARCHAR(255) DEFAULT \'logistics\' NOT NULL COMMENT \'收货方式。可选值有 logistics:物流;ziti:店铺自提;dada:达达同城配\', ziti_code BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺自提码\', ziti_status VARCHAR(255) DEFAULT \'NOTZITI\' COMMENT \'店铺自提状态。可选值有 PENDING:等待自提;DONE:自提完成;NOTZITI:自提完成; APPROVE:审核通过,药品自提需要审核\', order_status VARCHAR(255) NOT NULL COMMENT \'订单状态。可选值有 DONE—订单完成;NOTPAY—未支付;PART_PAYMENT-部分付款;WAIT_GROUPS_SUCCESS-等待拼团成功;PAYED-已支付;CANCEL—已取消;WAIT_BUYER_CONFIRM-待用户收货\', pay_status VARCHAR(255) DEFAULT \'NOTPAY\' NOT NULL COMMENT \'支付状态。可选值有 NOTPAY—未支付;PAYED-已支付;ADVANCE_PAY-预付款完成;TAIL_PAY-支付尾款中\', order_source VARCHAR(255) DEFAULT \'member\' COMMENT \'订单来源。可选值有 member-用户自主下单;shop-商家代客下单\', order_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单类型。可选值有 normal:普通实体订单\', auto_cancel_time VARCHAR(255) NOT NULL COMMENT \'订单自动取消时间\', auto_finish_time VARCHAR(255) DEFAULT NULL COMMENT \'订单自动完成时间\', is_distribution TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否分销订单\', source_id BIGINT DEFAULT NULL COMMENT \'订单来源id\', monitor_id BIGINT DEFAULT NULL COMMENT \'订单监控页面id\', salesman_id BIGINT DEFAULT 0 COMMENT \'导购员ID\', delivery_corp VARCHAR(255) DEFAULT NULL COMMENT \'快递公司\', delivery_corp_source VARCHAR(255) DEFAULT NULL COMMENT \'快递代码来源\', delivery_code VARCHAR(255) DEFAULT NULL COMMENT \'快递单号\', delivery_img VARCHAR(255) DEFAULT NULL COMMENT \'快递发货凭证\', delivery_time INT DEFAULT NULL COMMENT \'发货时间\', end_time BIGINT DEFAULT NULL COMMENT \'订单完成时间\', delivery_status VARCHAR(255) DEFAULT \'PENDING\' NOT NULL COMMENT \'发货状态。可选值有 DONE—已发货;PENDING—待发货;PARTAIL-部分发货\', cancel_status VARCHAR(255) DEFAULT \'NO_APPLY_CANCEL\' NOT NULL COMMENT \'取消订单状态。可选值有 NO_APPLY_CANCEL 未申请;WAIT_PROCESS 等待审核;REFUND_PROCESS 退款处理;SUCCESS 取消成功;FAILS 取消失败\', receiver_name VARCHAR(500) DEFAULT NULL COMMENT \'收货人姓名\', receiver_mobile VARCHAR(255) DEFAULT NULL COMMENT \'收货人手机号\', receiver_zip VARCHAR(255) DEFAULT NULL COMMENT \'收货人邮编\', receiver_state VARCHAR(255) DEFAULT NULL COMMENT \'收货人所在省份\', receiver_city VARCHAR(255) DEFAULT NULL COMMENT \'收货人所在城市\', receiver_district VARCHAR(255) DEFAULT NULL COMMENT \'收货人所在地区\', receiver_address LONGTEXT DEFAULT NULL COMMENT \'收货人详细地址\', member_discount INT UNSIGNED NOT NULL COMMENT \'会员折扣金额，以分为单位\', coupon_discount INT UNSIGNED NOT NULL COMMENT \'优惠券抵扣金额，以分为单位\', discount_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'订单优惠金额，以分为单位\', discount_info LONGTEXT DEFAULT NULL COMMENT \'订单优惠详情\', coupon_discount_desc LONGTEXT DEFAULT NULL COMMENT \'优惠券使用详情\', member_discount_desc LONGTEXT DEFAULT NULL COMMENT \'会员折扣使用详情\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', item_point INT UNSIGNED DEFAULT 0 COMMENT \'商品消费总积分\', point INT UNSIGNED DEFAULT 0 COMMENT \'消费积分\', pay_type VARCHAR(255) DEFAULT \'\' COMMENT \'支付方式\', pay_channel VARCHAR(255) DEFAULT \'\' COMMENT \'adapay支付渠道\', remark VARCHAR(255) DEFAULT NULL COMMENT \'订单备注\', third_params JSON DEFAULT NULL COMMENT \'第三方特殊字段存储(DC2Type:json_array)\', invoice JSON DEFAULT NULL COMMENT \'发票信息(DC2Type:json_array)\', invoice_number VARCHAR(255) DEFAULT \'\' COMMENT \'发票号\', is_invoiced TINYINT(1) DEFAULT \'0\' COMMENT \'是否已开发票\', send_point INT DEFAULT 0 NOT NULL COMMENT \'是否分发积分0否 1是\', is_online_order TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否为线上订单\', is_profitsharing INT DEFAULT 1 COMMENT \'是否分账订单 1不分账 2分账\', profitsharing_status INT DEFAULT 1 COMMENT \'分账状态 1未分账 2已分账\', profitsharing_rate INT DEFAULT NULL COMMENT \'分账费率\', order_auto_close_aftersales_time INT DEFAULT 0 COMMENT \'自动关闭售后时间\', type INT DEFAULT 0 NOT NULL COMMENT \'订单类型，0普通订单,1跨境订单,....其他\', taxable_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'计税总价，以分为单位\', identity_id VARCHAR(18) DEFAULT \'\' COMMENT \'身份证号码\', identity_name VARCHAR(20) DEFAULT \'\' COMMENT \'身份证姓名\', total_tax INT DEFAULT 0 NOT NULL COMMENT \'总税费\', audit_status VARCHAR(255) DEFAULT \'processing\' COMMENT \'跨境订单审核状态 approved成功 processing审核中 rejected审核拒绝\', audit_msg VARCHAR(255) DEFAULT \'正在审核订单\' COMMENT \'审核意见\', point_fee INT DEFAULT 0 COMMENT \'积分抵扣金额，以分为单位\', point_use INT DEFAULT 0 COMMENT \'积分抵扣使用的积分数\', uppoint_use INT UNSIGNED DEFAULT 0 COMMENT \'积分抵扣商家补贴的积分数(基础积分-使用的升值积分)\', point_up_use INT UNSIGNED DEFAULT 0 COMMENT \'积分抵扣使用的积分升值数\', get_point_type INT DEFAULT 0 NOT NULL COMMENT \'获取积分类型，0 老订单按订单完成时送,1 新订单按下单时计算送\', pack VARCHAR(255) DEFAULT NULL COMMENT \'包装\', is_shopscreen TINYINT(1) DEFAULT \'0\' COMMENT \'是否门店订单\', is_logistics TINYINT(1) DEFAULT \'0\' COMMENT \'门店缺货商品总部快递发货\', get_points INT UNSIGNED DEFAULT 0 COMMENT \'订单获取积分\', extra_points INT UNSIGNED DEFAULT 0 COMMENT \'订单获取额外积分\', bonus_points INT UNSIGNED DEFAULT 0 COMMENT \'购物赠送积分\', bind_auth_code VARCHAR(10) DEFAULT \'\' COMMENT \'订单订单验证码\', sale_salesman_distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'销售导购店铺id\', bind_salesman_id BIGINT DEFAULT 0 COMMENT \'绑定导购员ID\', bind_salesman_distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'绑定导购店铺id\', chat_id VARCHAR(32) DEFAULT \'\' COMMENT \'客户群ID\', is_consumption INT DEFAULT 0 NOT NULL COMMENT \'是否处理了增加消费金额，0未处理,1已处理\', app_pay_type VARCHAR(255) DEFAULT \'07\' COMMENT \'支付类型 01：微信正扫 02：支付宝正扫 03：银联正扫 05：微信公众号 06：支付宝小程序/生活号 07：微信小程序 08：微信正扫(直连) 09：微信app支付(直连) 10：银联app支付 11：apple支付 12：微信H5支付(直连) 13：支付宝app支付(直连)\', distributor_remark VARCHAR(255) NOT NULL COMMENT \'商家备注\', INDEX idx_order_type (order_type), INDEX idx_order_class (order_class), INDEX idx_shop_id (shop_id), INDEX idx_distributor_id (distributor_id), INDEX idx_company_id (company_id), INDEX idx_order_status (order_status), INDEX idx_user_id (user_id), INDEX idx_salesman_id (salesman_id), INDEX idx_order_source (order_source), INDEX idx_create_time (create_time), PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'实体订单表\' ');
        $this->addSql('CREATE TABLE orders_normal_orders_items (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', order_id BIGINT NOT NULL COMMENT \'订单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', item_id BIGINT NOT NULL COMMENT \'商品id\', item_bn VARCHAR(255) DEFAULT NULL COMMENT \'商品编码\', cost_fee INT UNSIGNED NOT NULL COMMENT \'商品成本价，以分为单位\', shop_id BIGINT DEFAULT 0 COMMENT \'门店id\', act_id BIGINT DEFAULT NULL COMMENT \'营销活动ID，团购ID，社区拼团ID，秒杀活动ID等\', is_total_store TINYINT(1) DEFAULT \'1\' COMMENT \'是否是总部库存(true:总部库存，false:店铺库存)\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', item_unit VARCHAR(255) DEFAULT NULL COMMENT \'商品计量单位\', pic VARCHAR(255) DEFAULT NULL COMMENT \'商品图片\', num INT UNSIGNED NOT NULL COMMENT \'购买商品数量\', price INT UNSIGNED NOT NULL COMMENT \'单价，以分为单位\', market_price INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'原价，以分为单位\', total_fee INT UNSIGNED NOT NULL COMMENT \'订单金额，以分为单位\', rebate INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'单个分销金额，以分为单位\', total_rebate INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'总分销金额，以分为单位\', templates_id INT DEFAULT 0 NOT NULL COMMENT \'运费模板id\', item_fee INT UNSIGNED NOT NULL COMMENT \'商品总金额，以分为单位\', member_discount INT UNSIGNED NOT NULL COMMENT \'会员折扣金额，以分为单位\', coupon_discount INT UNSIGNED NOT NULL COMMENT \'优惠券抵扣金额，以分为单位\', discount_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'订单优惠金额，以分为单位\', discount_info LONGTEXT DEFAULT NULL COMMENT \'订单优惠详情\', add_service_info LONGTEXT DEFAULT NULL COMMENT \'订单商品附加信息\', order_item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单商品类型,normal:正常商品，gift: 赠品, plus_buy: 加价购商品\', coupon_discount_desc LONGTEXT DEFAULT NULL COMMENT \'优惠券使用详情\', member_discount_desc LONGTEXT DEFAULT NULL COMMENT \'会员折扣使用详情\', is_rate TINYINT(1) DEFAULT \'0\' COMMENT \'是否评价\', auto_close_aftersales_time INT DEFAULT NULL COMMENT \'自动关闭售后时间\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', delivery_corp VARCHAR(255) DEFAULT NULL COMMENT \'快递公司\', delivery_code VARCHAR(255) DEFAULT NULL COMMENT \'快递单号\', delivery_img VARCHAR(255) DEFAULT NULL COMMENT \'快递发货凭证\', delivery_time INT DEFAULT NULL COMMENT \'发货时间\', delivery_status VARCHAR(255) DEFAULT \'PENDING\' NOT NULL COMMENT \'发货状态。可选值有 DONE—已发货;PENDING—待发货\', aftersales_status VARCHAR(255) DEFAULT NULL COMMENT \'售后状态。可选值有 WAIT_SELLER_AGREE 0 等待商家处理;WAIT_BUYER_RETURN_GOODS 1 商家接受申请，等待消费者回寄;WAIT_SELLER_CONFIRM_GOODS 2 消费者回寄，等待商家收货确认;SELLER_REFUSE_BUYER 3 售后驳回;SELLER_SEND_GOODS 4 卖家重新发货 换货完成;REFUND_SUCCESS 5 退款成功;REFUND_CLOSED 6 退款关闭;CLOSED 7 售后关闭\', refunded_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'退款金额，以分为单位\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', item_point INT UNSIGNED DEFAULT 0 COMMENT \'商品积分\', point INT UNSIGNED DEFAULT 0 COMMENT \'商品总积分\', item_spec_desc LONGTEXT DEFAULT NULL COMMENT \'商品规格描述\', volume INT UNSIGNED DEFAULT 0 COMMENT \'商品体积\', weight DOUBLE PRECISION DEFAULT \'0\' COMMENT \'商品重量\', type INT DEFAULT 0 NOT NULL COMMENT \'订单类型，0普通订单,1跨境订单,....其他\', tax_rate VARCHAR(6) DEFAULT \'\' COMMENT \'商品税率\', cross_border_tax INT DEFAULT 0 NOT NULL COMMENT \'商品跨境税费\', origincountry_name VARCHAR(50) DEFAULT \'\' COMMENT \'产地国名称\', origincountry_img_url VARCHAR(255) DEFAULT \'\' COMMENT \'产地国国旗\', point_fee INT DEFAULT 0 COMMENT \'积分抵扣时分摊的积分的金额，以分为单位\', is_logistics TINYINT(1) DEFAULT \'0\' COMMENT \'门店缺货商品总部快递发货\', share_points INT DEFAULT 0 COMMENT \'积分抵扣时分摊的积分值\', up_share_points INT UNSIGNED DEFAULT 0 COMMENT \'积分抵扣时分摊的积分升值数\', taxable_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'计税总价，以分为单位\', delivery_item_num INT DEFAULT NULL COMMENT \'发货单发货数量\', get_points INT UNSIGNED DEFAULT 0 COMMENT \'商品获取积分\', INDEX idx_company_order_id (company_id, order_id), INDEX idx_order_id (order_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'实体订单明细表\' ');
        $this->addSql('CREATE TABLE orders_operate_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'订单操作日志\', order_id BIGINT NOT NULL COMMENT \'订单号\', company_id BIGINT NOT NULL COMMENT \'公司Id\', operator_id BIGINT DEFAULT NULL COMMENT \'操作员Id\', operator VARCHAR(255) DEFAULT NULL COMMENT \'操作员\', operator_role VARCHAR(100) DEFAULT NULL COMMENT \'操作角色,buyer:购买者;seller:卖家;shopadmin:平台操作员;system:系统\', behavior VARCHAR(100) DEFAULT NULL COMMENT \'操作行为,create:创建;update:修改;payed:支付;delivery:发货；confirm:收货；cancel:取消；refund:退款；reship:退货；exchange:换货；mark:修改备注；finish:完成；\', log_text LONGTEXT DEFAULT NULL COMMENT \'操作内容\', created INT NOT NULL, INDEX order_id (order_id), INDEX operator_id (operator_id), INDEX company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单操作日志表\' ');
        $this->addSql('CREATE TABLE orders_process_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', order_id BIGINT NOT NULL COMMENT \'订单id\', company_id BIGINT NOT NULL COMMENT \'公司id\', operator_type VARCHAR(20) NOT NULL COMMENT \'操作类型 用户:user 导购:salesperon 管理员:admin 系统:system\', operator_id BIGINT DEFAULT 0 COMMENT \'操作员id\', operator_name VARCHAR(255) DEFAULT \'\' COMMENT \'操作员名字\', remarks VARCHAR(30) NOT NULL COMMENT \'订单操作备注\', detail LONGTEXT NOT NULL COMMENT \'订单操作detail\', params JSON DEFAULT NULL COMMENT \'提交参数(DC2Type:json_array)\', create_time INT NOT NULL COMMENT \'订单操作时间\', update_time INT DEFAULT NULL COMMENT \'订单操作\', INDEX idx_order_id (order_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单流程记录表\' ');
        $this->addSql('CREATE TABLE orders_rel_dada (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', order_id BIGINT NOT NULL COMMENT \'订单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', dada_status INT DEFAULT 0 NOT NULL COMMENT \'达达状态 0:待处理,1:待接单,2:待取货,3:配送中,4:已完成,5:已取消,9:妥投异常之物品返回中,10:妥投异常之物品返回完成,100: 骑士到店,1000:创建达达运单失败\', dada_delivery_no VARCHAR(50) DEFAULT NULL COMMENT \'达达平台订单号\', dada_cancel_from INT NOT NULL COMMENT \'订单取消原因来源 1:达达回调配送员取消；2:达达回调商家主动取消；3:达达回调系统或客服取消；11:商城系统取消；12:商城商家主动取消；13:商城消费者主动取消；\', dm_id INT DEFAULT NULL COMMENT \'达达配送员id\', dm_name VARCHAR(20) DEFAULT NULL COMMENT \'配送员姓名\', dm_mobile VARCHAR(255) DEFAULT NULL COMMENT \'配送员手机号\', pickup_time INT NOT NULL COMMENT \'取货时间\', accept_time INT NOT NULL COMMENT \'商家接单时间\', delivered_time INT NOT NULL COMMENT \'送达时间\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'更新时间\', INDEX idx_order_id (order_id), INDEX idx_company_id (company_id), INDEX idx_dada_status (dada_status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'实体订单关联达达同城配表\' ');
        $this->addSql('CREATE TABLE orders_rel_profit (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', order_id BIGINT NOT NULL COMMENT \'订单id\', order_profit_status BIGINT NOT NULL COMMENT \'0 无效分润 1 冻结分润 2 分润成功\', company_id BIGINT NOT NULL COMMENT \'公司id\', total_fee BIGINT DEFAULT NULL COMMENT \'分润完成之后金额，以分为单位\', pay_fee BIGINT DEFAULT NULL COMMENT \'支付订单金额，以分为单位\', profit_type SMALLINT NOT NULL COMMENT \'分润类型 1 总部分润 2 自营门店分润 3 加盟门店分润\', user_id BIGINT DEFAULT 0 NOT NULL COMMENT \'购买用户id\', dealer_id BIGINT DEFAULT 0 NOT NULL COMMENT \'区域经销商id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新门店id\', order_distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'下单当前所在门店id\', distributor_nid BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新导购当前所在门店id\', seller_id BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新导购id\', popularize_distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'推广门店id\', popularize_seller_id BIGINT DEFAULT 0 NOT NULL COMMENT \'推广导购id\', proprietary BIGINT DEFAULT 0 NOT NULL COMMENT \'判断拉新门店 0 无门店 1 自营门店 2 加盟门店\', popularize_proprietary BIGINT DEFAULT 0 NOT NULL COMMENT \'判断推广门店 0 无门店 1 自营门店 2 加盟门店\', dealers BIGINT DEFAULT 0 NOT NULL COMMENT \'区域经销商分成\', distributor BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新门店分成\', seller BIGINT DEFAULT 0 NOT NULL COMMENT \'拉新导购分成（分给门店）\', popularize_distributor BIGINT DEFAULT 0 NOT NULL COMMENT \'推广门店分成\', popularize_seller BIGINT DEFAULT 0 NOT NULL COMMENT \'推广导购分成（分给门店）\', commission BIGINT DEFAULT 0 NOT NULL COMMENT \'总部手续费\', rule JSON DEFAULT NULL COMMENT \'分润规则(DC2Type:json_array)\', plan_close_time BIGINT DEFAULT 0 COMMENT \'计划结算时间\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单分润表\' ');
        $this->addSql('CREATE TABLE orders_rel_promotions (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', moid BIGINT NOT NULL COMMENT \'主订单id\', coid BIGINT NOT NULL COMMENT \'子订单id\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', order_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单类型\', item_id BIGINT NOT NULL COMMENT \'商品id\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', item_type VARCHAR(255) DEFAULT \'normal\' COMMENT \'商品类型\', activity_id BIGINT NOT NULL COMMENT \'活动id\', activity_name VARCHAR(255) DEFAULT NULL COMMENT \'活动名称\', activity_type VARCHAR(255) NOT NULL COMMENT \'活动类型\', activity_tag VARCHAR(255) DEFAULT NULL COMMENT \'活动标签\', activity_desc LONGTEXT DEFAULT NULL COMMENT \'活动描述\', shop_id BIGINT DEFAULT 0 COMMENT \'店铺id\', shop_type VARCHAR(255) DEFAULT \'shop\' COMMENT \'店铺类型\', status VARCHAR(255) DEFAULT \'valid\' COMMENT \'促销应用状态,valid:有效, invalid:失效\', company_id BIGINT NOT NULL COMMENT \'公司id\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_moid (moid), INDEX idx_user_id (user_id), INDEX idx_activity_id (activity_id), INDEX idx_shop_id (shop_id), INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品促销和订单关联表\' ');
        $this->addSql('CREATE TABLE orders_rights (rights_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'权益ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', can_reservation TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否可预约\', rights_name VARCHAR(255) NOT NULL COMMENT \'权益标题\', rights_subname VARCHAR(255) DEFAULT NULL COMMENT \'权益子标题\', rights_from VARCHAR(255) DEFAULT NULL COMMENT \'权益来源\', operator_desc VARCHAR(255) DEFAULT NULL COMMENT \'操作员信息\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', total_num BIGINT DEFAULT 0 NOT NULL COMMENT \'服务商品原始总次数,0标示无限制\', total_consum_num BIGINT DEFAULT 0 NOT NULL COMMENT \'总消耗次数\', start_time INT NOT NULL COMMENT \'权益开始时间\', end_time INT NOT NULL COMMENT \'权益结束时间\', order_id BIGINT DEFAULT NULL COMMENT \'订单号\', label_infos LONGTEXT DEFAULT NULL COMMENT \'权益的物料信息json结构\', status VARCHAR(255) DEFAULT \'valid\' NOT NULL COMMENT \'权益状态; valid:有效的, expire:过期的; invalid:失效的\', is_not_limit_num INT DEFAULT 2 NOT NULL COMMENT \'限制核销次数,1:不限制；2:限制\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(rights_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'权益表\' ');
        $this->addSql('CREATE TABLE orders_rights_detail (rights_id BIGINT NOT NULL COMMENT \'权益ID\', item_id BIGINT NOT NULL COMMENT \'商品id\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', label_id BIGINT NOT NULL COMMENT \'数值属性ID\', label_name VARCHAR(255) NOT NULL COMMENT \'数值属性名称\', total_num BIGINT NOT NULL COMMENT \'服务商品原始总次数\', total_consum_num BIGINT DEFAULT 0 NOT NULL COMMENT \'总消耗次数\', start_time VARCHAR(255) NOT NULL COMMENT \'权益开始时间\', end_time VARCHAR(255) NOT NULL COMMENT \'权益结束时间\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(rights_id, item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'权益详细ID\' ');
        $this->addSql('CREATE TABLE orders_rights_log (rights_log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'权益日志ID\', rights_id BIGINT NOT NULL COMMENT \'权益ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', shop_id VARCHAR(255) NOT NULL COMMENT \'门店ID\', rights_name VARCHAR(255) NOT NULL COMMENT \'权益标题\', rights_subname VARCHAR(255) DEFAULT NULL COMMENT \'权益子标题\', consum_num BIGINT NOT NULL COMMENT \'消耗次数\', attendant VARCHAR(255) NOT NULL COMMENT \'服务员\', salesperson_mobile VARCHAR(255) NOT NULL COMMENT \'核销员手机号\', end_time VARCHAR(255) NOT NULL COMMENT \'权益结束时间\', created INT NOT NULL, PRIMARY KEY(rights_log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'权益日志表\' ');
        $this->addSql('CREATE TABLE orders_rights_operate_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'权益延期操作日志\', rights_id BIGINT NOT NULL COMMENT \'权益ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', remark VARCHAR(255) NOT NULL COMMENT \'操作备注\', operator_id BIGINT DEFAULT NULL COMMENT \'操作员Id\', operator VARCHAR(255) DEFAULT NULL COMMENT \'操作员\', original_date INT DEFAULT NULL COMMENT \'延期之前日期\', delay_date INT DEFAULT NULL COMMENT \'延期之后日期\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'权益操作日志表\' ');
        $this->addSql('CREATE TABLE orders_rights_transfer_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'权益延期操作日志\', rights_id BIGINT NOT NULL COMMENT \'权益ID\', user_id BIGINT NOT NULL COMMENT \'用户id\', transfer_user_id BIGINT NOT NULL COMMENT \'转让用户id\', mobile VARCHAR(255) NOT NULL COMMENT \'用户手机号\', transfer_mobile VARCHAR(255) NOT NULL COMMENT \'转让用户手机号\', company_id BIGINT NOT NULL COMMENT \'公司ID\', remark VARCHAR(255) NOT NULL COMMENT \'操作备注\', operator_id BIGINT DEFAULT NULL COMMENT \'操作员Id\', operator VARCHAR(255) DEFAULT NULL COMMENT \'操作员\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'权益转赠表\' ');
        $this->addSql('CREATE TABLE orders_user_invoice (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', order_id VARCHAR(64) NOT NULL COMMENT \'订单号\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', status INT DEFAULT 0 NOT NULL COMMENT \'是否开票\', invoice LONGTEXT DEFAULT NULL COMMENT \'发票信息\', INDEX idx_order_id (order_id), INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单发票\' ');
        $this->addSql('CREATE TABLE pages_open_screen_ad (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'设置id\', company_id BIGINT NOT NULL COMMENT \'公司id\', ad_material VARCHAR(255) NOT NULL COMMENT \'广告素材\', is_enable INT DEFAULT 0 NOT NULL COMMENT \'是否启用0否,1是\', position VARCHAR(255) DEFAULT \'0\' NOT NULL COMMENT \'倒计时位置：right_top,right_bottom\', is_jump INT DEFAULT 0 NOT NULL COMMENT \'是否跳过0否,1是\', material_type INT DEFAULT 1 NOT NULL COMMENT \'素材类型1图片,2视频\', waiting_time INT DEFAULT 0 NOT NULL COMMENT \'等待时间，秒\', ad_url VARCHAR(255) NOT NULL COMMENT \'广告链接\', app VARCHAR(100) DEFAULT \'0\' NOT NULL COMMENT \'设置应用, all 全部,app APP,wapp 小程序 \', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_id (id), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'开屏广告设置\' ');
        $this->addSql('CREATE TABLE pages_template (pages_template_id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, distributor_id INT DEFAULT 0 COMMENT \'店铺id\', template_title VARCHAR(255) NOT NULL COMMENT \'模板名称\', template_name VARCHAR(255) NOT NULL COMMENT \'模板客户端名称\', template_pic VARCHAR(255) DEFAULT NULL COMMENT \'模板封面\', template_type INT DEFAULT 0 NOT NULL COMMENT \'模板类型 0总部  1同步模板 2门店自有模板\', element_edit_status INT DEFAULT 2 COMMENT \'可编辑挂件状态  1启用 2未启用\', status INT DEFAULT 2 COMMENT \'启用状态 1启用 2未启用\', timer_status INT DEFAULT 2 COMMENT \'定时启用状态 1启用 2未启用\', timer_time INT DEFAULT NULL COMMENT \'定时模板切换时间\', template_status_modify_time INT DEFAULT NULL COMMENT \'模板状态变更时间\', weapp_pages VARCHAR(255) DEFAULT NULL COMMENT \'模版页面\', template_content LONGTEXT DEFAULT NULL COMMENT \'模板内容\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(pages_template_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'页面模板表\' ');
        $this->addSql('CREATE TABLE pages_template_set (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, index_type INT DEFAULT 1 COMMENT \'首页类型 1总部首页 2店铺首页\', is_enforce_sync INT DEFAULT 2 COMMENT \'店铺首页同步状态 1强制同步 2非强制同步\', is_open_recommend INT DEFAULT 2 COMMENT \'开启猜你喜欢 1开启 2关闭\', is_open_wechatapp_location INT DEFAULT 2 COMMENT \'开启小程序定位 1开启 2关闭\', is_open_scan_qrcode INT DEFAULT 2 COMMENT \'开启扫码功能 1开启 2关闭\', is_open_official_account INT DEFAULT 2 COMMENT \'开启关注公众号组件 1开启 2关闭\', tab_bar LONGTEXT DEFAULT NULL COMMENT \'小程序菜单设置\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'模板设置表\' ');
        $this->addSql('CREATE TABLE point_member (user_id BIGINT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', point BIGINT NOT NULL COMMENT \'积分个数\', PRIMARY KEY(user_id, company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户积分表\' ');
        $this->addSql('CREATE TABLE point_member_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'积分记录id\', user_id BIGINT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', journal_type SMALLINT NOT NULL COMMENT \'积分交易类型，1:注册送积分 2.推荐送分 3.充值返积分 4.推广注册返积分 5.积分换购 6.储值兑换积分 7.订单返积分 8.会员等级返佣 9.取消订处理积分 10.售后处理积分 11.大转盘抽奖送积分 12:管理员手动调整积分 13.外部开发者同步进来的会员积分\', point_desc VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'积分描述\', income INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'入账积分\', outcome INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'出账积分\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号(充值)\', created INT NOT NULL, updated INT DEFAULT NULL, external_id VARCHAR(50) DEFAULT \'\' NOT NULL COMMENT \'外部唯一标识，外部调用方自定义的值\', operater VARCHAR(50) DEFAULT \'\' NOT NULL COMMENT \'操作员名称\', operater_remark VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'操作员备注\', INDEX idx_company_id_external_id (company_id, external_id), INDEX idx_company_id_operater (company_id, operater), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户积分记录表\' ');
        $this->addSql('CREATE TABLE pointsmall_items (item_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'商品ID\', item_type VARCHAR(15) DEFAULT \'services\' NOT NULL COMMENT \'商品类型，services：服务商品，normal: 普通商品\', item_category VARCHAR(15) DEFAULT \'null\' COMMENT \'商品主类目\', consume_type VARCHAR(15) DEFAULT \'every\' NOT NULL COMMENT \'核销类型，every：每个物料都要核销(例如3个物料要核销3次)，all：所有物料作为一个整体核销一次(例如3个物料只需要核销1次)\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', item_bn VARCHAR(255) NOT NULL COMMENT \'商品编号\', barcode VARCHAR(255) NOT NULL COMMENT \'商品条形码\', brief VARCHAR(255) NOT NULL COMMENT \'简洁的描述\', company_id BIGINT NOT NULL COMMENT \'公司ID\', price INT NOT NULL COMMENT \'价格,单位为‘分’\', cost_price INT DEFAULT 0 COMMENT \'价格,单位为‘分’\', item_unit VARCHAR(255) DEFAULT NULL COMMENT \'商品计量单位\', special_type VARCHAR(255) DEFAULT \'normal\' COMMENT \'商品特殊类型 drug 处方药 normal 普通商品\', item_address_province VARCHAR(255) DEFAULT NULL COMMENT \'产地省\', item_address_city VARCHAR(255) DEFAULT NULL COMMENT \'产地市\', regions_id VARCHAR(255) DEFAULT NULL COMMENT \'产地地区id\', store INT DEFAULT NULL COMMENT \'库存\', sales INT DEFAULT 0 COMMENT \'销量\', approve_status VARCHAR(255) NOT NULL COMMENT \'商品状态 onsale 前台可销售，offline_sale可线下销售，instock 不可销售\', audit_status VARCHAR(255) DEFAULT \'approved\' COMMENT \'审核状态 approved成功 processing审核中 rejected审核拒绝\', audit_reason LONGTEXT DEFAULT NULL COMMENT \'审核拒绝原因\', market_price INT NOT NULL COMMENT \'原价,单位为‘分’\', goods_function VARCHAR(255) DEFAULT NULL COMMENT \'商品功能\', goods_series VARCHAR(255) DEFAULT NULL COMMENT \'商品系列\', goods_color VARCHAR(255) DEFAULT NULL COMMENT \'商品颜色\', goods_brand VARCHAR(255) DEFAULT NULL COMMENT \'商品品牌\', is_default TINYINT(1) DEFAULT \'1\' COMMENT \'商品是否为默认商品\', default_item_id BIGINT DEFAULT 0 COMMENT \'默认商品ID\', goods_id BIGINT DEFAULT 0 COMMENT \'产品ID\', nospec VARCHAR(255) DEFAULT \'true\' COMMENT \'商品是否为单规格\', weight DOUBLE PRECISION DEFAULT \'0\' COMMENT \'商品重量\', sort INT DEFAULT 0 NOT NULL COMMENT \'商品排序\', templates_id INT DEFAULT NULL COMMENT \'运费模板id\', pics JSON NOT NULL COMMENT \'图片(DC2Type:json_array)\', video_type VARCHAR(255) DEFAULT \'local\' NOT NULL COMMENT \'视频类型 local:本地视频 tencent:腾讯视频\', videos LONGTEXT DEFAULT NULL COMMENT \'视频\', video_pic_url LONGTEXT DEFAULT NULL COMMENT \'视频封面图\', intro LONGTEXT DEFAULT NULL COMMENT \'图文详情\', purchase_agreement LONGTEXT DEFAULT NULL COMMENT \'购买协议\', is_show_specimg TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'详情页是否显示规格图片\', enable_agreement TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'开启购买协议\', date_type VARCHAR(255) DEFAULT NULL COMMENT \'有效期的类型, DATE_TYPE_FIX_TIME_RANGE:指定日期范围内, DATE_TYPE_FIX_TERM:固定天数后\', begin_date INT DEFAULT NULL COMMENT \'有效期开始时间\', end_date INT DEFAULT NULL COMMENT \'有效期结束时间\', fixed_term INT DEFAULT NULL COMMENT \'有效期的有效天数\', brand_logo VARCHAR(1024) DEFAULT NULL COMMENT \'品牌图片\', point INT DEFAULT 0 COMMENT \'积分兑换价格\', volume DOUBLE PRECISION DEFAULT NULL COMMENT \'商品体积\', brand_id INT DEFAULT 0 COMMENT \'品牌id\', tax_rate INT NOT NULL COMMENT \'税率, 百分之～/100\', crossborder_tax_rate VARCHAR(10) NOT NULL COMMENT \'跨境税率，百分比，小数点2位\', origincountry_id BIGINT DEFAULT 0 NOT NULL COMMENT \'产地国id\', type INT DEFAULT 0 NOT NULL COMMENT \'商品类型，0普通，1跨境商品，可扩展\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_default_item_id (default_item_id), INDEX ix_item_category (item_category), INDEX ix_is_default (is_default), INDEX ix_goods_id (goods_id), INDEX ix_default_item_list (company_id, default_item_id, approve_status, item_type, item_category), PRIMARY KEY(item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'积分商品表\' ');
        $this->addSql('CREATE TABLE pointsmall_items_rel_attributes (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_id BIGINT NOT NULL COMMENT \'商品ID\', attribute_sort INT DEFAULT 0 COMMENT \'商品属性排序\', attribute_id BIGINT NOT NULL COMMENT \'商品属性id\', attribute_type VARCHAR(15) NOT NULL COMMENT \'商品属性类型 unit单位，brand品牌，item_params商品参数, item_spec规格\', attribute_value_id BIGINT DEFAULT NULL COMMENT \'商品属性值id\', custom_attribute_value VARCHAR(255) DEFAULT NULL COMMENT \'自定义属性名称\', image_url JSON DEFAULT NULL COMMENT \'规格自定义图片(DC2Type:json_array)\', INDEX ix_company_id (company_id), INDEX ix_item_id (item_id), INDEX ix_attribute_type (attribute_type), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'积分商品关联属性表\' ');
        $this->addSql('CREATE TABLE pointsmall_items_rel_cats (item_id BIGINT NOT NULL COMMENT \'商品ID\', category_id BIGINT NOT NULL COMMENT \'商品分类id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_category_id (category_id), INDEX ix_created (created), PRIMARY KEY(item_id, category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'积分商品和分类关联表\' ');
        $this->addSql('CREATE TABLE popularize_brokerage (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', brokerage_type VARCHAR(15) NOT NULL COMMENT \'佣金类型\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', user_id BIGINT NOT NULL, buy_user_id BIGINT NOT NULL, order_type VARCHAR(15) NOT NULL COMMENT \'订单类型\', source VARCHAR(15) NOT NULL COMMENT \'佣金来源 订单,邀请等\', company_id BIGINT NOT NULL COMMENT \'公司ID\', price INT NOT NULL COMMENT \'销售金额,单位为‘分’\', commission_type VARCHAR(15) NOT NULL COMMENT \'返佣类型 money 金额 point 积分\', rebate INT NOT NULL COMMENT \'返佣金额,单位为‘分’\', rebate_point VARCHAR(15) DEFAULT \'money\' COMMENT \'返佣金额,单位为‘分’\', detail LONGTEXT NOT NULL COMMENT \'佣金计算详情\', is_close TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否已结算\', plan_close_time INT NOT NULL COMMENT \'计划结算时间\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分销佣金表\' ');
        $this->addSql('CREATE TABLE popularize_brokerage_statistics (user_id BIGINT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_total_price BIGINT DEFAULT 0 COMMENT \'分销商品总金额\', rebate_total BIGINT DEFAULT 0 COMMENT \'分销佣金总金额\', point_total BIGINT DEFAULT 0 NOT NULL COMMENT \'分销佣金总积分\', no_close_rebate BIGINT DEFAULT 0 COMMENT \'未结算佣金\', no_close_point BIGINT DEFAULT 0 NOT NULL COMMENT \'未结算佣金积分\', cash_withdrawal_rebate BIGINT DEFAULT 0 COMMENT \'可提现佣金\', cash_withdrawal_point BIGINT DEFAULT 0 NOT NULL COMMENT \'订单返佣中可使用积分\', freeze_cash_withdrawal_rebate BIGINT DEFAULT 0 COMMENT \'申请提现佣金，冻结提现佣金\', payed_rebate BIGINT DEFAULT 0 COMMENT \'已提现佣金\', recharge_rebate BIGINT DEFAULT 0 COMMENT \'充值返佣\', recharge_point BIGINT DEFAULT 0 NOT NULL COMMENT \'充值返佣金积分\', INDEX ix_user_id (user_id), INDEX ix_company_id (company_id), PRIMARY KEY(user_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分销佣金统计\' ');
        $this->addSql('CREATE TABLE popularize_cash_withdrawal (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司id\', user_id VARCHAR(255) NOT NULL COMMENT \'推广员userId\', account_name VARCHAR(255) DEFAULT NULL COMMENT \'提现账号姓名\', pay_account VARCHAR(255) NOT NULL COMMENT \'提现账号 微信为openid 支付宝为，支付账号\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', money INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'提现金额，以分为单位\', status VARCHAR(255) NOT NULL COMMENT \'提现状态\', remarks VARCHAR(255) DEFAULT NULL COMMENT \'备注\', pay_type VARCHAR(255) NOT NULL COMMENT \'提现支付类型\', wxa_appid VARCHAR(255) NOT NULL COMMENT \'提现的小程序appid\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'推广员提现表\' ');
        $this->addSql('CREATE TABLE popularize_promoter (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'企业ID\', user_id BIGINT NOT NULL COMMENT \'会员ID\', pid BIGINT DEFAULT NULL COMMENT \'上级会员ID\', pmobile VARCHAR(255) DEFAULT NULL COMMENT \'上级手机号\', shop_name VARCHAR(255) DEFAULT NULL COMMENT \'推广员自定义店铺名称\', alipay_name VARCHAR(255) DEFAULT NULL COMMENT \'推广员提现的支付宝姓名\', brief VARCHAR(255) DEFAULT NULL COMMENT \'推广店铺描述\', shop_pic VARCHAR(255) DEFAULT NULL COMMENT \'推广店铺封面\', alipay_account VARCHAR(255) DEFAULT NULL COMMENT \'推广员提现的支付宝账号\', grade_level INT NOT NULL COMMENT \'推广员等级\', is_promoter INT NOT NULL COMMENT \'是否为推广员\', shop_status INT DEFAULT 0 NOT NULL COMMENT \'开店状态 0 未开店 1已开店 2申请中 3禁用 4申请审核拒绝 \', reason VARCHAR(255) DEFAULT NULL COMMENT \'审核拒绝原因\', disabled INT NOT NULL COMMENT \'是否有效\', is_buy INT NOT NULL COMMENT \'是否有购买记录\', created INT NOT NULL, INDEX idx_pid (pid), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'推广员表\' ');
        $this->addSql('CREATE TABLE popularize_promoter_goods (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'企业ID\', user_id BIGINT NOT NULL COMMENT \'会员ID\', goods_id BIGINT DEFAULT NULL COMMENT \'商品ID\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'推广员商品表\' ');
        $this->addSql('CREATE TABLE popularize_task_brokerage (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', item_id BIGINT NOT NULL COMMENT \'商品id\', user_id BIGINT NOT NULL, order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', buy_user_id BIGINT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司ID\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', item_spec_desc LONGTEXT DEFAULT NULL COMMENT \'商品规格描述\', price INT NOT NULL COMMENT \'价格\', num INT NOT NULL COMMENT \'销售数量\', status VARCHAR(255) NOT NULL COMMENT \'状态\', plan_date VARCHAR(255) NOT NULL COMMENT \'计划结算时间\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'任务制返佣\' ');
        $this->addSql('CREATE TABLE popularize_task_brokerage_count (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', rebate_type VARCHAR(15) NOT NULL COMMENT \'返佣模式\', item_id BIGINT NOT NULL COMMENT \'商品id\', item_bn VARCHAR(255) NOT NULL COMMENT \'商品编号\', total_fee BIGINT NOT NULL COMMENT \'已完成的总销售额\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'商品名称\', item_spec_desc LONGTEXT DEFAULT NULL COMMENT \'商品规格描述\', user_id BIGINT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司ID\', rebate_conf JSON DEFAULT NULL COMMENT \'分销配置(DC2Type:json_array)\', rebate_money BIGINT DEFAULT 0 NOT NULL COMMENT \'分销奖金\', finish_num VARCHAR(255) NOT NULL COMMENT \'订单已完成数量\', wait_num VARCHAR(255) NOT NULL COMMENT \'订单已支付，待完成数量\', close_num VARCHAR(255) NOT NULL COMMENT \'订单已关闭数量，包含取消订单，售后订单\', plan_date VARCHAR(255) NOT NULL COMMENT \'计划结算时间\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'任务制返佣\' ');
        $this->addSql('CREATE TABLE promotion_check_in (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', user_id BIGINT NOT NULL COMMENT \'会员id\', create_time INT NOT NULL COMMENT \'签到时间\', tag VARCHAR(255) DEFAULT NULL COMMENT \'标签\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'签到日志\' ');
        $this->addSql('CREATE TABLE promotion_groups_activity (groups_activity_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', act_name VARCHAR(50) NOT NULL COMMENT \'活动名称\', goods_id BIGINT NOT NULL COMMENT \'商品ID\', group_goods_type VARCHAR(255) DEFAULT \'services\' NOT NULL COMMENT \'团购活动商品类型\', pics VARCHAR(255) NOT NULL COMMENT \'活动封面\', act_price BIGINT NOT NULL COMMENT \'活动价格\', person_num BIGINT NOT NULL COMMENT \'拼团人数\', begin_time BIGINT NOT NULL COMMENT \'开始时间\', end_time BIGINT NOT NULL COMMENT \'结束时间\', limit_buy_num BIGINT NOT NULL COMMENT \'限买数量\', limit_time INT NOT NULL COMMENT \'成团时效(单位时)\', store BIGINT NOT NULL COMMENT \'拼团库存\', free_post TINYINT(1) DEFAULT \'1\' COMMENT \'是否包邮\', rig_up TINYINT(1) DEFAULT \'1\' COMMENT \'是否展示开团列表\', robot TINYINT(1) DEFAULT \'1\' COMMENT \'成团机器人\', share_desc VARCHAR(100) DEFAULT \'\' COMMENT \'分享描述\', disabled TINYINT(1) DEFAULT \'0\' COMMENT \'是否禁用 true=禁用,false=启用\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_goodsid_begintime_endtime (goods_id, begin_time, end_time), PRIMARY KEY(groups_activity_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'拼团活动表\' ');
        $this->addSql('CREATE TABLE promotion_groups_team (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', team_id VARCHAR(100) NOT NULL COMMENT \'团id号\', company_id BIGINT NOT NULL COMMENT \'公司ID\', act_id BIGINT NOT NULL COMMENT \'活动ID号\', head_mid BIGINT NOT NULL COMMENT \'团长会员ID\', begin_time BIGINT NOT NULL COMMENT \'开团时间\', end_time BIGINT NOT NULL COMMENT \'结束时间(根据成团时效和活动结束时间算出来的)\', join_person_num BIGINT DEFAULT 0 NOT NULL COMMENT \'参与人数\', group_goods_type VARCHAR(255) DEFAULT \'services\' NOT NULL COMMENT \'团购活动商品类型\', team_status BIGINT DEFAULT 1 NOT NULL COMMENT \'状态:1.进行中2.成功3.失败\', disabled TINYINT(1) DEFAULT \'0\' COMMENT \'是否禁用 true=禁用,false=启用\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'开团表\' ');
        $this->addSql('CREATE TABLE promotion_groups_team_member (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', team_id VARCHAR(100) NOT NULL COMMENT \'团id号\', company_id BIGINT NOT NULL COMMENT \'公司ID\', act_id BIGINT NOT NULL COMMENT \'活动ID号\', member_id BIGINT DEFAULT NULL COMMENT \'会员ID, 0为拼团机器人\', join_time BIGINT NOT NULL COMMENT \'参团时间\', order_id VARCHAR(100) DEFAULT NULL COMMENT \'订单编号\', group_goods_type VARCHAR(255) DEFAULT \'services\' NOT NULL COMMENT \'团购活动商品类型\', member_info VARCHAR(255) DEFAULT NULL COMMENT \'拼团机器人\', disabled TINYINT(1) DEFAULT \'0\' COMMENT \'是否禁用 true=禁用,false=启用\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'参团表\' ');
        $this->addSql('CREATE TABLE promotions_active_articles (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', article_title VARCHAR(255) NOT NULL COMMENT \'文章标题\', article_subtitle VARCHAR(255) DEFAULT NULL COMMENT \'文章副标题\', article_content LONGTEXT NOT NULL COMMENT \'文章内容\', article_cover LONGTEXT NOT NULL COMMENT \'封面\', directional_url LONGTEXT NOT NULL COMMENT \'跳转地址,转json\', is_show TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否展示,1展示 0不展示\', is_delete TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否已删除,1已删除 0未删除\', sort BIGINT DEFAULT 0 COMMENT \'排序\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'活动文章表\' ');
        $this->addSql('CREATE TABLE promotions_activity (activity_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', activity_type VARCHAR(255) NOT NULL COMMENT \'活动类型\', title VARCHAR(255) NOT NULL COMMENT \'活动名称\', trigger_condition LONGTEXT NOT NULL COMMENT \'触发条件\', discount_config LONGTEXT NOT NULL COMMENT \'优惠配置\', sms_params VARCHAR(255) DEFAULT NULL COMMENT \'发送短信相关参数\', sms_isopen VARCHAR(255) NOT NULL COMMENT \'是否开启发送短信\', activity_status VARCHAR(255) NOT NULL COMMENT \'活动状态\', begin_time BIGINT NOT NULL COMMENT \'活动开始时间\', end_time BIGINT DEFAULT NULL COMMENT \'活动结束时间\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(activity_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'自动化营销活动表\' ');
        $this->addSql('CREATE TABLE promotions_bargain (bargain_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'砍价活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', title VARCHAR(255) NOT NULL COMMENT \'活动名称\', ad_pic VARCHAR(255) NOT NULL COMMENT \'广告图\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', item_pics VARCHAR(255) NOT NULL COMMENT \'商品图片\', item_intro LONGTEXT DEFAULT NULL COMMENT \'商品详情\', mkt_price INT NOT NULL COMMENT \'市场价格,单位为‘分’\', price INT NOT NULL COMMENT \'购买价格,单位为‘分’\', limit_num INT NOT NULL COMMENT \'购买限制\', order_num INT DEFAULT 0 NOT NULL COMMENT \'已购买数量\', cutdown_rules LONGTEXT NOT NULL COMMENT \'砍价规则\', cutdown_range JSON NOT NULL COMMENT \'砍价范围，单位 分。值有 min 最小值;max 最大值(DC2Type:json_array)\', people_range JSON NOT NULL COMMENT \'砍价人数，单位(个)。值有 min 最小人数;max 最大人数(DC2Type:json_array)\', min_price INT NOT NULL COMMENT \'每个人最少能看的价钱,单位为‘分’\', begin_time BIGINT NOT NULL COMMENT \'开始时间\', end_time BIGINT NOT NULL COMMENT \'结束时间\', share_msg VARCHAR(255) NOT NULL COMMENT \'分享内容\', help_pics JSON NOT NULL COMMENT \'翻牌图片(DC2Type:json_array)\', item_id VARCHAR(11) NOT NULL COMMENT \'商品id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(bargain_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'砍价活动表\' ');
        $this->addSql('CREATE TABLE promotions_bargain_log (bargain_log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'砍价记录id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', authorizer_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', wxa_appid VARCHAR(64) DEFAULT NULL COMMENT \'小程序的appid\', bargain_id BIGINT NOT NULL COMMENT \'砍价ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', open_id VARCHAR(40) DEFAULT NULL COMMENT \'微信用户标识\', nickname VARCHAR(255) NOT NULL COMMENT \'用户昵称\', headimgurl VARCHAR(255) NOT NULL COMMENT \'用户头像url\', cutdown_num INT NOT NULL COMMENT \'砍掉金额,单位为‘分’\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(bargain_log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'砍价日志表\' ');
        $this->addSql('CREATE TABLE promotions_distributor (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增ID\', company_id BIGINT NOT NULL COMMENT \'商户id\', promotion_type VARCHAR(255) DEFAULT \'register\' NOT NULL COMMENT \'营销类型\', promotion_id BIGINT NOT NULL COMMENT \'营销id\', distributor_id BIGINT NOT NULL COMMENT \'分销商id\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'分销商营销\' ');
        $this->addSql('CREATE TABLE promotions_extrapoint_activity (activity_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', type VARCHAR(255) DEFAULT \'shop\' NOT NULL COMMENT \'营销类型: shop:店铺额外积分,birthday:会员生日,item:商品额外积分\', title VARCHAR(255) NOT NULL COMMENT \'活动名称\', trigger_condition LONGTEXT NOT NULL COMMENT \'触发条件\', condition_value INT NOT NULL COMMENT \'优惠配置\', condition_type VARCHAR(255) NOT NULL COMMENT \'优惠方式: multiple:倍数, plus:增加\', valid_grade LONGTEXT DEFAULT NULL COMMENT \'会员级别集合\', use_shop VARCHAR(255) NOT NULL COMMENT \'适用店铺: 0:全场可用,1:指定店铺可用\', shop_ids LONGTEXT DEFAULT NULL COMMENT \'店铺id集合\', activity_status VARCHAR(255) NOT NULL COMMENT \'活动状态\', begin_time BIGINT NOT NULL COMMENT \'活动开始时间\', end_time BIGINT DEFAULT NULL COMMENT \'活动结束时间\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(activity_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'积分营销活动表\' ');
        $this->addSql('CREATE TABLE promotions_items_tag (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', promotion_id BIGINT NOT NULL COMMENT \'关联营销id\', item_id BIGINT DEFAULT 0 NOT NULL COMMENT \'关联对象id(商品ID,标签ID，品牌ID等)\', goods_id BIGINT DEFAULT 0 COMMENT \'关联商品id\', tag_type VARCHAR(255) NOT NULL COMMENT \'标签类型: full_discount:满折,full_minus:满减,full_gift:满赠, seckill: 秒杀,\', activity_price BIGINT DEFAULT 0 NOT NULL COMMENT \'商品活动价\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'活动对象类型: normal:实体类商品,service:服务类商品,tag:标签,category:商品主类目,brand:品牌\', start_time INT NOT NULL COMMENT \'活动开始时间\', end_time INT NOT NULL COMMENT \'活动结束时间\', company_id BIGINT NOT NULL COMMENT \'公司ID\', is_all_items BIGINT DEFAULT 2 NOT NULL COMMENT \'是否全部商品,1:全部商品，2:非全部商品\', INDEX ix_tag_type (tag_type), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品的促销标签表\' ');
        $this->addSql('CREATE TABLE promotions_limit (limit_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'限购活动id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', limit_name VARCHAR(50) NOT NULL COMMENT \'限购活动名称\', valid_grade VARCHAR(255) NOT NULL COMMENT \'会员级别集合\', rule VARCHAR(255) NOT NULL COMMENT \'限购规则\', start_time INT NOT NULL COMMENT \'起始时间\', end_time INT NOT NULL COMMENT \'截止时间\', use_bound INT DEFAULT 1 NOT NULL COMMENT \'适用范围: 1:指定商品可用,2:指定分类可用,3:指定商品标签可用,4:指定商品品牌可用\', tag_ids LONGTEXT DEFAULT NULL COMMENT \'标签id集合\', brand_ids LONGTEXT DEFAULT NULL COMMENT \'品牌id集合\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(limit_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'限购活动规则表\' ');
        $this->addSql('CREATE TABLE promotions_limit_category (limit_id BIGINT NOT NULL COMMENT \'限购活动规则id\', category_id BIGINT NOT NULL COMMENT \'分类id\', company_id BIGINT DEFAULT NULL COMMENT \'公司id\', category_level INT NOT NULL COMMENT \'分类等级\', INDEX idx_company_id (company_id), PRIMARY KEY(limit_id, category_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'限购活动分类表\' ');
        $this->addSql('CREATE TABLE promotions_limit_item (limit_id BIGINT NOT NULL COMMENT \'限购活动规则id\', item_id BIGINT NOT NULL COMMENT \'商品\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'活动商品类型: normal:实体类商品,service:服务类商品,tag:标签,category:商品主类目,brand:品牌\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', pics LONGTEXT NOT NULL COMMENT \'商品图片\', price INT NOT NULL COMMENT \'商品原价\', item_spec_desc VARCHAR(255) DEFAULT \'\' COMMENT \'产品规格描述\', start_time INT NOT NULL COMMENT \'起始时间\', end_time INT NOT NULL COMMENT \'截止时间\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_item_id (item_id), PRIMARY KEY(limit_id, item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'限购活动商品表\' ');
        $this->addSql('CREATE TABLE promotions_limit_person (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'限购活动用户记录表id\', limit_id BIGINT NOT NULL COMMENT \'限购活动规则id\', user_id BIGINT NOT NULL COMMENT \'限购活动用户id\', item_id BIGINT NOT NULL COMMENT \'限购活动商品id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', number BIGINT NOT NULL COMMENT \'数量\', start_time INT NOT NULL COMMENT \'起始时间\', end_time INT NOT NULL COMMENT \'截止时间\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'限购活动用户表\' ');
        $this->addSql('CREATE TABLE promotions_marketing_activity (marketing_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'营销id\', marketing_type VARCHAR(255) NOT NULL COMMENT \'营销类型: full_discount:满折,full_minus:满减,full_gift:满赠,self_select:任选优惠,plus_price_buy:加价购,member_preference:会员优先购\', rel_marketing_id BIGINT DEFAULT 0 COMMENT \'关联其他营销id\', marketing_name VARCHAR(255) NOT NULL COMMENT \'营销活动名称\', ad_pic VARCHAR(255) DEFAULT NULL COMMENT \'活动广告图\', marketing_desc VARCHAR(255) NOT NULL COMMENT \'营销活动描述\', start_time INT NOT NULL COMMENT \'活动开始时间\', end_time INT NOT NULL COMMENT \'活动结束时间\', release_time INT DEFAULT NULL COMMENT \'活动发布时间\', used_platform INT DEFAULT 0 NOT NULL COMMENT \'适用平台:  0:全场可用,1:只用于pc端,2:小程序端,3:h5端\', use_bound INT DEFAULT 0 NOT NULL COMMENT \'适用范围: 0:全场可用,1:指定商品可用,2:指定分类可用,3:指定商品标签可用,4:指定商品品牌可用\', tag_ids LONGTEXT DEFAULT NULL COMMENT \'标签id集合\', brand_ids LONGTEXT DEFAULT NULL COMMENT \'品牌id集合\', use_shop INT DEFAULT 0 NOT NULL COMMENT \'适用店铺: 0:全场可用,1:指定店铺可用\', shop_ids LONGTEXT DEFAULT NULL COMMENT \'店铺id集合\', valid_grade LONGTEXT DEFAULT NULL COMMENT \'会员级别集合\', condition_type LONGTEXT NOT NULL COMMENT \'营销条件标准  quantity:按总件数, totalfee:按总金额\', condition_value LONGTEXT NOT NULL COMMENT \'营销规则值\', in_proportion TINYINT(1) DEFAULT \'0\' COMMENT \'是否按比例多次赠送\', activity_background VARCHAR(255) DEFAULT NULL COMMENT \'加价购活动页面背景\', navbar_color VARCHAR(255) DEFAULT NULL COMMENT \'加价购活动页面导航栏颜色\', timeBackgroundColor VARCHAR(255) DEFAULT NULL COMMENT \'加价购活动页面时间背景颜色\', canjoin_repeat TINYINT(1) DEFAULT \'0\' COMMENT \'是否上不封顶\', join_limit INT DEFAULT 0 NOT NULL COMMENT \'可参与次数\', free_postage TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否免邮\', promotion_tag VARCHAR(15) NOT NULL COMMENT \'促销标签\', check_status VARCHAR(255) DEFAULT \'agree\' NOT NULL COMMENT \'促销状态:  non-reviewed:未审核,pending:待审核,agree:审核通过,refuse:已拒绝,cancel:已取消,overdue:已过期\', reason VARCHAR(500) DEFAULT NULL COMMENT \'审核不通过原因\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'活动商品类型: normal:实体类商品,service:服务类商品\', is_increase_purchase TINYINT(1) DEFAULT NULL COMMENT \'开启加价购，满赠时启用\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, source_type VARCHAR(20) DEFAULT NULL COMMENT \'添加者类型：distributor\', source_id BIGINT DEFAULT 0 COMMENT \'添加者ID: 如店铺ID\', INDEX ix_marketing_type (marketing_type), INDEX ix_start_time (start_time), INDEX ix_source_id (source_id), INDEX idx_companyid_starttime_endtime (company_id, start_time, end_time), PRIMARY KEY(marketing_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'各种促销活动表\' ');
        $this->addSql('CREATE TABLE promotions_marketing_activity_category (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', marketing_id BIGINT NOT NULL COMMENT \'关联营销id\', category_id BIGINT NOT NULL COMMENT \'关联分类id\', marketing_type VARCHAR(255) NOT NULL COMMENT \'营销类型: full_discount:满折,full_minus:满减,full_gift:满赠\', company_id BIGINT NOT NULL COMMENT \'公司ID\', category_level INT DEFAULT 0 NOT NULL COMMENT \'分类等级\', INDEX ix_marketing_type (marketing_type), INDEX ix_marketing_category (category_id, marketing_id), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'各种促销活动分类表\' ');
        $this->addSql('CREATE TABLE promotions_marketing_activity_items (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', marketing_id BIGINT NOT NULL COMMENT \'关联营销id\', item_id BIGINT NOT NULL COMMENT \'关联id(商品ID，标签ID，品牌ID等)\', goods_id BIGINT DEFAULT NULL COMMENT \'关联商品id\', is_show TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'列表页是否显示\', item_spec_desc VARCHAR(255) DEFAULT NULL COMMENT \'商品规格描述\', marketing_type VARCHAR(255) NOT NULL COMMENT \'营销类型: full_discount:满折,full_minus:满减,full_gift:满赠,self_select:任选优惠,plus_price_buy:加价购,member_preference:会员优先购\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'活动商品类型: normal:实体类商品,service:服务类商品,tag:标签,category:商品主类目,brand:品牌\', item_name VARCHAR(150) NOT NULL COMMENT \'商品标题\', price INT DEFAULT 0 NOT NULL COMMENT \'商品价格\', item_brief VARCHAR(250) DEFAULT NULL COMMENT \'商品简介\', pics LONGTEXT DEFAULT NULL COMMENT \'商品图片\', promotion_tag VARCHAR(15) NOT NULL COMMENT \'促销标签\', start_time INT NOT NULL COMMENT \'活动开始时间\', end_time INT NOT NULL COMMENT \'活动结束时间\', status TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否生效中\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_marketing_type (marketing_type), INDEX ix_marketing_item (item_id, marketing_id), INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'各种促销活动商品表\' ');
        $this->addSql('CREATE TABLE promotions_marketing_gift_items (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', marketing_id BIGINT NOT NULL COMMENT \'关联营销id\', item_id BIGINT NOT NULL COMMENT \'关联商品id\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'活动商品类型: normal:实体类商品,service:服务类商品\', item_name VARCHAR(255) NOT NULL COMMENT \'商品标题\', price INT DEFAULT 0 NOT NULL COMMENT \'赠品价格\', store INT DEFAULT 0 NOT NULL COMMENT \'赠品库存\', gift_num INT DEFAULT 0 NOT NULL COMMENT \'赠品数量\', pics LONGTEXT DEFAULT NULL COMMENT \'商品图片\', without_return TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'退货无需退回赠品\', filter_full INT DEFAULT NULL COMMENT \'赠品满足所需条件\', item_spec_desc VARCHAR(255) DEFAULT NULL COMMENT \'商品规格描述\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_item_id (item_id), INDEX ix_marketing_id (marketing_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'活动赠品列表\' ');
        $this->addSql('CREATE TABLE promotions_member_price (price_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'会员价ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_id BIGINT NOT NULL COMMENT \'商品id\', price JSON NOT NULL COMMENT \'商品价格(DC2Type:json_array)\', INDEX ix_item_id (item_id), PRIMARY KEY(price_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商品会员价表\' ');
        $this->addSql('CREATE TABLE promotions_notice_template (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', template_name VARCHAR(255) NOT NULL COMMENT \'小程序模板名称 yykweishop 微商城等\', wxa_template_id VARCHAR(255) NOT NULL COMMENT \'微信小程序通知模版库id\', company_id BIGINT NOT NULL COMMENT \'company_id\', notice_type VARCHAR(255) DEFAULT \'wxa 小程序\' NOT NULL COMMENT \'通知类型\', tmpl_type VARCHAR(255) NOT NULL COMMENT \'模板分类\', template_id VARCHAR(255) NOT NULL COMMENT \'模板id,发送小程序通知使用\', title VARCHAR(255) NOT NULL COMMENT \'标题\', scenes_name VARCHAR(255) NOT NULL COMMENT \'发送场景\', content LONGTEXT NOT NULL COMMENT \'模板内容\', is_open TINYINT(1) NOT NULL COMMENT \'是否开启\', send_time_desc VARCHAR(255) NOT NULL COMMENT \'短信发送触发时间描述,配置\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序通知消息模版\' ');
        $this->addSql('CREATE TABLE promotions_package (package_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'组合促销规则id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', goods_id BIGINT NOT NULL COMMENT \'商品id\', main_item_id BIGINT NOT NULL COMMENT \'主商品id\', main_item_price BIGINT NOT NULL COMMENT \'主商品价格\', package_name VARCHAR(50) NOT NULL COMMENT \'组合促销名称\', valid_grade VARCHAR(255) NOT NULL COMMENT \'会员级别集合\', used_platform INT DEFAULT 0 COMMENT \'0 商家全场可用|1 只能用于pc|2 只能用于wap|3 只能用于app, 使用平台\', free_postage TINYINT(1) DEFAULT \'0\' COMMENT \'0 包邮|1 商品\', package_total_price INT DEFAULT 0 COMMENT \'组合促销各商品总价\', start_time INT NOT NULL COMMENT \'起始时间\', end_time INT NOT NULL COMMENT \'截止时间\', package_status VARCHAR(255) DEFAULT \'NO_REVIEWED\' COMMENT \'NO_REVIEWED 未审核|PENDING 待审核|AGREE 审核通过|REFUSE 审核拒绝|CANCEL 已取消\', reason VARCHAR(255) DEFAULT \'\' COMMENT \'审核不通过原因\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_created (created), INDEX idx_package_status (package_status), PRIMARY KEY(package_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'组合促销促销规则表\' ');
        $this->addSql('CREATE TABLE promotions_package_item (package_id BIGINT NOT NULL COMMENT \'组合促销规则id\', item_id BIGINT NOT NULL COMMENT \'商品\', default_item_id BIGINT NOT NULL COMMENT \'默认商品id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_spec_desc VARCHAR(255) DEFAULT \'\' COMMENT \'产品规格描述\', title VARCHAR(255) NOT NULL COMMENT \'商品名称\', image_default_id LONGTEXT DEFAULT NULL COMMENT \'商品图片\', package_price INT NOT NULL COMMENT \'组合促销商品单价\', price INT NOT NULL COMMENT \'商品原价\', status TINYINT(1) NOT NULL COMMENT \'是否生效中 0 失效 | 1 生效\', start_time INT NOT NULL COMMENT \'起始时间\', end_time INT NOT NULL COMMENT \'截止时间\', is_show TINYINT(1) DEFAULT NULL COMMENT \'列表页是否显示\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_item_id (item_id), PRIMARY KEY(package_id, item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'组合促销商品表\' ');
        $this->addSql('CREATE TABLE promotions_package_main_item (package_id BIGINT NOT NULL COMMENT \'组合促销规则id\', main_item_id BIGINT NOT NULL COMMENT \'主商品id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', goods_id BIGINT NOT NULL COMMENT \'商品id\', main_item_price BIGINT NOT NULL COMMENT \'主商品价格\', INDEX idx_company_id (company_id), INDEX idx_goods_id (goods_id), INDEX idx_main_item_id (main_item_id), PRIMARY KEY(package_id, main_item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'组合促销主商品表\' ');
        $this->addSql('CREATE TABLE promotions_point_upvaluation (activity_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', title VARCHAR(255) NOT NULL COMMENT \'活动名称\', begin_time BIGINT NOT NULL COMMENT \'活动开始时间\', end_time BIGINT DEFAULT NULL COMMENT \'活动结束时间\', trigger_condition LONGTEXT NOT NULL COMMENT \'触发条件\', upvaluation INT NOT NULL COMMENT \'升值倍数\', max_up_point INT NOT NULL COMMENT \'每日升值积分上限\', valid_grade LONGTEXT DEFAULT NULL COMMENT \'会员级别集合\', used_scene VARCHAR(255) NOT NULL COMMENT \'适用场景:  1:订单抵扣\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(activity_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'积分升值活动表\' ');
        $this->addSql('CREATE TABLE promotions_recommend_like_items (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', company_id BIGINT NOT NULL COMMENT \'企业id\', distributor_id BIGINT DEFAULT NULL COMMENT \'店铺id\', item_id BIGINT NOT NULL COMMENT \'商品id\', sort INT DEFAULT 0 NOT NULL COMMENT \'商品排序\', INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'推荐喜欢商品(猜你喜欢)\' ');
        $this->addSql('CREATE TABLE promotions_scd_rel_user (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'营销id\', company_id BIGINT NOT NULL COMMENT \'企业id\', user_id BIGINT NOT NULL COMMENT \'企业id\', order_id VARCHAR(255) NOT NULL COMMENT \'订单号id\', discount_fee BIGINT NOT NULL COMMENT \'优惠金额\', activity_id BIGINT NOT NULL COMMENT \'定向促销id\', specific_id BIGINT DEFAULT NULL COMMENT \'定向条件id\', specific_name VARCHAR(255) DEFAULT NULL COMMENT \'定向条件名称\', activity_month VARCHAR(255) DEFAULT NULL COMMENT \'促销月份\', action_type VARCHAR(255) DEFAULT \'plus\' NOT NULL COMMENT \'操作方式，plus:加，less:减\', created INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_user_id (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'定向促销会员日志\' ');
        $this->addSql('CREATE TABLE promotions_seckill_activity (seckill_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'秒杀活动id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', distributor_id VARCHAR(255) DEFAULT NULL COMMENT \'店铺ID, 多个逗号隔开\', activity_name VARCHAR(255) DEFAULT NULL COMMENT \'秒杀活动名称\', ad_pic VARCHAR(255) DEFAULT NULL COMMENT \'秒杀活动广告图\', activity_start_time INT NOT NULL COMMENT \'秒杀开始时间\', activity_end_time INT NOT NULL COMMENT \'秒杀结束时间\', activity_release_time INT NOT NULL COMMENT \'秒杀活动发布时间\', is_activity_rebate TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'秒杀活动是否返佣\', is_free_shipping TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'秒杀活动是否包邮\', limit_total_money BIGINT DEFAULT NULL COMMENT \'每人累计限额\', limit_money BIGINT DEFAULT NULL COMMENT \'每人单笔限额\', validity_period INT DEFAULT NULL COMMENT \'未付款订单保留时长（分钟）\', otherext LONGTEXT DEFAULT NULL COMMENT \'其他扩展字段\', description VARCHAR(255) DEFAULT NULL COMMENT \'秒杀活动描述\', seckill_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'秒杀类型 normal正常的秒杀活动， limited_time_sale限时特惠\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'秒杀活动商品类型\', use_bound INT DEFAULT 1 NOT NULL COMMENT \'适用范围: 1:指定商品可用,2:指定分类可用,3:指定商品标签可用,4:指定商品品牌可用\', tag_ids LONGTEXT DEFAULT NULL COMMENT \'标签id集合\', brand_ids LONGTEXT DEFAULT NULL COMMENT \'品牌id集合\', created INT NOT NULL, updated INT DEFAULT NULL, source_type VARCHAR(20) DEFAULT NULL COMMENT \'添加者类型：distributor\', source_id BIGINT DEFAULT 0 COMMENT \'添加者ID: 如店铺ID\', INDEX ix_item_type (item_type), INDEX ix_company_id (company_id), PRIMARY KEY(seckill_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'秒杀活动表\' ');
        $this->addSql('CREATE TABLE promotions_seckill_rel_category (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'关联id\', seckill_id BIGINT NOT NULL COMMENT \'秒杀活动id\', category_id BIGINT NOT NULL COMMENT \'分类id\', company_id BIGINT DEFAULT NULL COMMENT \'公司id\', category_level INT NOT NULL COMMENT \'分类等级\', INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'秒杀关联分类表\' ');
        $this->addSql('CREATE TABLE promotions_seckill_rel_goods (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'关联id\', seckill_id BIGINT NOT NULL COMMENT \'秒杀活动id\', seckill_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'秒杀类型 normal正常的秒杀活动， limited_time_sale限时特惠\', item_id BIGINT NOT NULL COMMENT \'秒杀活动商品id\', item_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'秒杀活动商品类型。可选值有 normal-实体类;services-服务类\', is_show TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'查询列表是否显示\', item_spec_desc VARCHAR(255) DEFAULT NULL COMMENT \'商品规格描述\', company_id BIGINT NOT NULL COMMENT \'公司ID\', activity_start_time INT NOT NULL COMMENT \'秒杀开始时间\', activity_end_time INT NOT NULL COMMENT \'秒杀结束时间\', activity_release_time INT NOT NULL COMMENT \'秒杀活动发布时间\', item_title VARCHAR(255) NOT NULL COMMENT \'秒杀活动商品名称\', item_pic LONGTEXT DEFAULT NULL COMMENT \'秒杀活动商品图片\', activity_price INT DEFAULT 0 NOT NULL COMMENT \'秒杀活动价格\', activity_store INT DEFAULT 0 NOT NULL COMMENT \'秒杀活动库存\', limit_num INT DEFAULT 0 NOT NULL COMMENT \'秒杀活动限购\', sales_store INT DEFAULT 0 NOT NULL COMMENT \'已购买库存\', sort INT DEFAULT 0 NOT NULL COMMENT \'商品排序\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), INDEX ix_seckill_item_id (seckill_id, item_id), INDEX ix_item_type (item_type), INDEX ix_release_time (activity_release_time), INDEX ix_end_time (activity_end_time), INDEX ix_itemid_activityreleasetime_activityendtime (item_id, activity_release_time, activity_end_time), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'秒杀关联商品表\' ');
        $this->addSql('CREATE TABLE promotions_specific_crowd_discount (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'营销id\', company_id BIGINT NOT NULL COMMENT \'企业id\', specific_type VARCHAR(255) DEFAULT \'member_tag\' NOT NULL COMMENT \'特定人群类型\', specific_id BIGINT DEFAULT NULL COMMENT \'营销id\', cycle_type INT DEFAULT 1 NOT NULL COMMENT \'周期类型,1:自然月;2:指定时段\', start_time BIGINT DEFAULT NULL COMMENT \'开始时间\', end_time BIGINT DEFAULT NULL COMMENT \'结束时间\', discount BIGINT DEFAULT NULL COMMENT \'折扣值\', limit_total_money INT DEFAULT NULL COMMENT \'每人累计限额\', status BIGINT NOT NULL COMMENT \'状态，1:暂存，2:已发布, 3:停用, 4:已过期\', created INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_status (status), INDEX ix_specific_id (specific_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'特定人群促销\' ');
        $this->addSql('CREATE TABLE promotions_turntable_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', user_id BIGINT NOT NULL COMMENT \'用户id\', prize_title VARCHAR(255) NOT NULL COMMENT \'奖品名称\', prize_type VARCHAR(255) NOT NULL COMMENT \'奖品类型，points:积分，coupon：优惠券，coupons：优惠券包\', prize_value LONGTEXT DEFAULT NULL COMMENT \'奖品值\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户大转盘中奖纪录表\' ');
        $this->addSql('CREATE TABLE promotions_user_bargains (bargain_id BIGINT NOT NULL COMMENT \'砍价ID\', user_id BIGINT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', authorizer_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', wxa_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', item_name VARCHAR(255) DEFAULT NULL COMMENT \'订单标题\', mkt_price INT NOT NULL COMMENT \'市场金额,单位为‘分’\', price INT NOT NULL COMMENT \'购买金额,单位为‘分’\', cutprice_num INT NOT NULL COMMENT \'砍价次数\', cutprice_range JSON NOT NULL COMMENT \'预先生成的砍价详情(DC2Type:json_array)\', cutdown_amount INT DEFAULT 0 NOT NULL COMMENT \'已砍金额,单位为‘分’\', is_ordered TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否已下单\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(bargain_id, user_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户砍价表\' ');
        $this->addSql('CREATE TABLE refund_error_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', order_id BIGINT NOT NULL COMMENT \'订单号\', company_id BIGINT NOT NULL COMMENT \'公司id\', wxa_appid VARCHAR(255) DEFAULT NULL COMMENT \'小程序appid\', data_json LONGTEXT DEFAULT NULL COMMENT \'data数据json格式\', status VARCHAR(20) DEFAULT NULL COMMENT \'错误状态\', error_code VARCHAR(500) DEFAULT NULL COMMENT \'错误码\', error_desc LONGTEXT DEFAULT NULL COMMENT \'错误描述\', is_resubmit TINYINT(1) DEFAULT \'0\' COMMENT \'是否重新提交\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', INDEX idx_company (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'退款错误日志\' ');
        $this->addSql('CREATE TABLE register_promotions (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'注册促销活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', is_open VARCHAR(255) NOT NULL COMMENT \'是否开启\', register_type VARCHAR(255) DEFAULT \'general\' NOT NULL COMMENT \'促销类型。可选值有 general-普通;distributor-分销商\', ad_title VARCHAR(255) DEFAULT NULL COMMENT \'注册引导广告标题\', ad_pic VARCHAR(255) NOT NULL COMMENT \'注册引导图片\', promotions_value LONGTEXT NOT NULL COMMENT \'赠送的参数\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'注册营销表\' ');
        $this->addSql('CREATE TABLE reservation_default_work_shift (company_id BIGINT NOT NULL COMMENT \'公司company id\', shop_id BIGINT NOT NULL COMMENT \'公司门店 id\', work_shift_data LONGTEXT NOT NULL COMMENT \'周一至周日每天的排班(DC2Type:array)\', PRIMARY KEY(company_id, shop_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商户配置默认排班\' ');
        $this->addSql('CREATE TABLE reservation_level_rel_service (resource_level_id BIGINT NOT NULL COMMENT \'资源位id\', company_id BIGINT NOT NULL COMMENT \'公司 company id\', shop_id BIGINT NOT NULL COMMENT \'门店id\', material_id BIGINT NOT NULL COMMENT \'服务项目id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(resource_level_id, company_id, shop_id, material_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'资源位服务项目关联表\' ');
        $this->addSql('CREATE TABLE reservation_record (record_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', shop_id BIGINT NOT NULL COMMENT \'门店id\', shop_name VARCHAR(100) DEFAULT NULL COMMENT \'门店名称\', agreement_date INT NOT NULL COMMENT \'约定日期\', to_shop_time INT DEFAULT NULL COMMENT \'到店时间(时间戳)\', begin_time VARCHAR(5) NOT NULL COMMENT \'到店时间(时刻字符串)\', end_time VARCHAR(5) DEFAULT NULL COMMENT \'约定结束时刻\', status VARCHAR(255) NOT NULL COMMENT \'预约状态。可选值有 cancel-取消;-to_the_shop-已到店;-not_to_shop-未到店;-success-预约成功;-system-系统占位;\', num INT DEFAULT 1 NOT NULL COMMENT \'预约数量\', user_id BIGINT DEFAULT NULL COMMENT \'用户user id\', user_name VARCHAR(100) DEFAULT NULL COMMENT \'用户名称\', sex INT DEFAULT NULL COMMENT \'用户性别\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'预约人手机号\', resource_level_id BIGINT DEFAULT NULL COMMENT \'资源位id\', resource_level_name VARCHAR(100) DEFAULT NULL COMMENT \'资源位名称\', rights_id BIGINT DEFAULT NULL COMMENT \'服务商品id\', rights_name VARCHAR(100) DEFAULT NULL COMMENT \'服务商品名称\', label_id BIGINT DEFAULT NULL COMMENT \'服务商品id\', label_name VARCHAR(100) DEFAULT NULL COMMENT \'服务商品名称\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(record_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'预约记录表\' ');
        $this->addSql('CREATE TABLE reservation_resource_level (resource_level_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', company_id VARCHAR(255) NOT NULL COMMENT \'企业company id\', shop_id VARCHAR(255) NOT NULL COMMENT \'门店id\', shop_name VARCHAR(255) DEFAULT NULL COMMENT \'门店名称\', name VARCHAR(255) NOT NULL COMMENT \'资源位昵称\', description VARCHAR(500) DEFAULT NULL COMMENT \'简单介绍\', status VARCHAR(255) DEFAULT \'active\' COMMENT \'状态,active:有效，invalid: 失效\', image_url VARCHAR(255) DEFAULT NULL COMMENT \'图片\', quantity VARCHAR(255) DEFAULT \'1\' NOT NULL COMMENT \'数量\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(resource_level_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'资源位表\' ');
        $this->addSql('CREATE TABLE reservation_setting (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', time_interval INT NOT NULL COMMENT \'预约时间间隔\', resource_name VARCHAR(255) NOT NULL COMMENT \'资源位名称\', max_limit_day INT NOT NULL COMMENT \'可提前预约天数\', min_limit_hour INT NOT NULL COMMENT \'可提前预约分钟数\', reservation_condition INT NOT NULL COMMENT \'预约条件\', reservation_mode INT NOT NULL COMMENT \'预约模式\', cancel_minute INT NOT NULL COMMENT \'取消预约最少提前分钟数\', reservation_num_limit LONGTEXT DEFAULT NULL COMMENT \'预约限制\', sms_delay VARCHAR(255) DEFAULT NULL COMMENT \'预约提醒通知\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'预约配置表\' ');
        $this->addSql('CREATE TABLE reservation_shift_type (type_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'type_id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', type_name VARCHAR(30) NOT NULL COMMENT \'排班类型名称\', begin_time VARCHAR(5) NOT NULL COMMENT \'排班类型名称\', end_time VARCHAR(5) NOT NULL COMMENT \'排班类型名称\', status VARCHAR(10) DEFAULT \'valid\' NOT NULL COMMENT \'类型状态invalid/valid\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(type_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'班次类型表\' ');
        $this->addSql('CREATE TABLE reservation_work_shift (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', shop_id BIGINT NOT NULL COMMENT \'公司门店 id\', resource_level_id BIGINT NOT NULL COMMENT \'资源位id\', work_date BIGINT NOT NULL COMMENT \'工作日期\', shift_type_id BIGINT NOT NULL COMMENT \'工作班次类型id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'班次类型表\' ');
        $this->addSql('CREATE TABLE resources (resource_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'资源包id\', resource_name VARCHAR(255) NOT NULL COMMENT \'资源包名称\', company_id BIGINT NOT NULL COMMENT \'公司id\', eid VARCHAR(255) NOT NULL COMMENT \'企业id\', passport_uid VARCHAR(255) NOT NULL, shop_num INT NOT NULL COMMENT \'资源门店数\', left_shop_num INT NOT NULL COMMENT \'可用门店数\', source VARCHAR(255) NOT NULL COMMENT \'资源来源。demo:开通试用,purchased:购买,gift:赠品\', available_days INT NOT NULL COMMENT \'可用天数\', active_at BIGINT NOT NULL COMMENT \'激活时间\', expired_at BIGINT NOT NULL COMMENT \'过期时间\', active_code VARCHAR(255) DEFAULT NULL COMMENT \'激活码\', issue_id VARCHAR(50) DEFAULT NULL COMMENT \'在线开通工单号\', goods_code VARCHAR(50) DEFAULT NULL COMMENT \'商品code\', product_code VARCHAR(50) DEFAULT NULL COMMENT \'基础系统code\', PRIMARY KEY(resource_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'资源包表\' ');
        $this->addSql('CREATE TABLE resources_op_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'记录id\', company_id BIGINT NOT NULL COMMENT \'公司id\', resource_id BIGINT NOT NULL COMMENT \'资源包id\', shop_id BIGINT DEFAULT 0 NOT NULL COMMENT \'门店id\', store_name VARCHAR(100) NOT NULL COMMENT \'门店名称\', op_time INT NOT NULL COMMENT \'操作时间\', op_type VARCHAR(100) NOT NULL COMMENT \'操作类型。occupy:占用资源, release:释放资源\', op_num INT NOT NULL COMMENT \'操作数量\', operator_id BIGINT DEFAULT NULL COMMENT \'操作员id\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'资源操作记录表\' ');
        $this->addSql('CREATE TABLE salesperson_active_article_share_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', salesperson_id BIGINT NOT NULL COMMENT \'导购员ID\', article_id BIGINT NOT NULL COMMENT \'活动文章ID\', article_title VARCHAR(255) NOT NULL COMMENT \'活动文章标题\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'活动文章表\' ');
        $this->addSql('CREATE TABLE salesperson_active_article_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'激活id\', company_id BIGINT NOT NULL COMMENT \'公司id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', add_date INT NOT NULL COMMENT \'统计日期 Ymd\', data_value INT DEFAULT 0 NOT NULL COMMENT \'统计数据\', created INT NOT NULL, updated INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_salesperson_id (salesperson_id), INDEX ix_add_date (add_date), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员活动转发数据统计表\' ');
        $this->addSql('CREATE TABLE salesperson_coupon_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', coupon_id BIGINT NOT NULL COMMENT \'优惠券id\', date BIGINT NOT NULL COMMENT \'统计日期 Ymd\', send_num BIGINT NOT NULL COMMENT \'赠送张数\', pay_num BIGINT NOT NULL COMMENT \'支付使用\', receive_num BIGINT NOT NULL COMMENT \'领取张数\', reg_num BIGINT NOT NULL COMMENT \'分享注册数\', INDEX ix_salesperson_date (salesperson_id, date), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员优惠券数据统计表\' ');
        $this->addSql('CREATE TABLE salesperson_items_shelves (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'活动ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', activity_id BIGINT NOT NULL COMMENT \'活动id\', activity_type VARCHAR(255) NOT NULL COMMENT \'活动类型 full_discount:满折,full_minus:满减,full_gift:满赠,self_select:任选优惠,plus_price_buy:加价购,group拼团,seckill秒杀,package打包,limited_time_sale限时特惠\', distributor_id BIGINT DEFAULT 0 COMMENT \'门店id, 0是所有门店\', item_id BIGINT NOT NULL COMMENT \'商品id\', start_time BIGINT NOT NULL COMMENT \'活动开始时间\', end_time BIGINT NOT NULL COMMENT \'活动结束时间\', INDEX ix_company_id (company_id), INDEX ix_activity_type (activity_type), INDEX ix_item_id (item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE salesperson_leaderboard (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'导购id\', date INT NOT NULL COMMENT \'日期\', sales BIGINT NOT NULL COMMENT \'销售额\', number BIGINT NOT NULL COMMENT \'销售订单数量\', INDEX idx_company_distributor (company_id, distributor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购排名\' ');
        $this->addSql('CREATE TABLE salesperson_leaderboard_distributor (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', date INT NOT NULL COMMENT \'日期\', sales BIGINT NOT NULL COMMENT \'销售额\', number BIGINT NOT NULL COMMENT \'销售订单数量\', INDEX idx_company_distributor (company_id, distributor_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购店铺排名\' ');
        $this->addSql('CREATE TABLE salesperson_notice (notice_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'通知id\', company_id BIGINT NOT NULL COMMENT \'公司id\', title VARCHAR(255) NOT NULL COMMENT \'通知标题\', content LONGTEXT NOT NULL COMMENT \'通知内容\', distributor_id LONGTEXT DEFAULT NULL COMMENT \'店铺id\', all_distributor LONGTEXT DEFAULT NULL COMMENT \'店铺id\', notice_type INT DEFAULT 1 NOT NULL COMMENT \'通知类型，1系统通知，2总部通知，3其他通知\', sent_times INT DEFAULT 0 COMMENT \'发送次数\', is_delete INT DEFAULT 0 COMMENT \'是否已删除\', withdraw INT DEFAULT 0 COMMENT \'是否撤回\', last_sent_time INT DEFAULT 0 COMMENT \'最后发送时间\', created INT NOT NULL, updated INT NOT NULL, status INT DEFAULT 1 COMMENT \'状态，1未发送，2已发送，3已撤回\', INDEX ix_company_id (company_id), INDEX ix_title (title), PRIMARY KEY(notice_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购通知\' ');
        $this->addSql('CREATE TABLE salesperson_notice_log (log_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键id\', notice_id BIGINT NOT NULL COMMENT \'通知id\', distributor_id INT NOT NULL COMMENT \'店铺id\', company_id BIGINT NOT NULL COMMENT \'公司id\', created INT NOT NULL, updated INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_distributor_id (distributor_id), INDEX ix_notice_id (notice_id), PRIMARY KEY(log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购通知\' ');
        $this->addSql('CREATE TABLE salesperson_operator_log (log_id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT DEFAULT 0 NOT NULL COMMENT \'公司id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', operator_id INT DEFAULT 0 NOT NULL COMMENT \'操作者id\', request_uri VARCHAR(255) DEFAULT NULL COMMENT \'请求资源信息\', ip VARCHAR(255) DEFAULT NULL COMMENT \'ip地址\', params JSON DEFAULT NULL COMMENT \'请求参数(DC2Type:json_array)\', operator_name VARCHAR(255) DEFAULT NULL COMMENT \'操作内容\', created INT NOT NULL, PRIMARY KEY(log_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商家操作日志表\' ');
        $this->addSql('CREATE TABLE salesperson_profit_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', date BIGINT NOT NULL COMMENT \'统计日期 Ymd\', unconfirmed_seller_fee BIGINT NOT NULL COMMENT \'未确认绑定会员提成\', confirm_seller_fee BIGINT NOT NULL COMMENT \'已确认绑定会员提成\', unconfirmed_offline_seller_fee BIGINT NOT NULL COMMENT \'未确认门店开单提成\', confirm_offline_seller_fee BIGINT NOT NULL COMMENT \'已确认门店开单提成\', unconfirmed_popularize_seller_fee BIGINT NOT NULL COMMENT \'未确认客户推广提成\', confirm_popularize_seller_fee BIGINT NOT NULL COMMENT \'已确认客户推广提成\', INDEX ix_salesperson_date (salesperson_id, date), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员销售提成数据统计表\' ');
        $this->addSql('CREATE TABLE salesperson_rel_coupon (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', coupon_id BIGINT NOT NULL COMMENT \'优惠券id\', send_num BIGINT NOT NULL COMMENT \'赠送张数\', created INT NOT NULL, updated INT NOT NULL, INDEX ix_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员优惠券数据统计表\' ');
        $this->addSql('CREATE TABLE salesperson_rel_notice (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', notice_id BIGINT NOT NULL COMMENT \'通知id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', created INT NOT NULL, updated INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_notice_id (notice_id), INDEX ix_salesperson_id (salesperson_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购通知关联表\' ');
        $this->addSql('CREATE TABLE salesperson_sales_statistics (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', date BIGINT NOT NULL COMMENT \'统计日期 Ymd\', popularize_order_fee BIGINT NOT NULL COMMENT \'推广销售额\', popularize_order_count BIGINT NOT NULL COMMENT \'推广订单数\', offline_order_fee BIGINT NOT NULL COMMENT \'门店开单金额\', offline_order_count BIGINT NOT NULL COMMENT \'门店开单数\', total_refund_fee BIGINT NOT NULL COMMENT \'退款金额\', total_refund_count BIGINT NOT NULL COMMENT \'退款单数\', INDEX ix_salesperson_date (salesperson_id, date), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购员销售额数据统计表\' ');
        $this->addSql('CREATE TABLE salesperson_signup_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', salesperson_id BIGINT NOT NULL COMMENT \'导购员id\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', sign_type VARCHAR(255) NOT NULL COMMENT \'signin 签到, signout 主动签退, forceout 被动签退\', created INT NOT NULL, updated INT NOT NULL, INDEX ix_company_id (company_id), INDEX ix_salesperson_id (salesperson_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购到/签退记录\' ');
        $this->addSql('CREATE TABLE salesperson_task (task_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', start_time BIGINT NOT NULL COMMENT \'开始时间\', end_time BIGINT NOT NULL COMMENT \'结束时间\', task_name VARCHAR(255) NOT NULL COMMENT \'任务名称\', task_type SMALLINT NOT NULL COMMENT \'任务类型 1 转发分享 2 获取新客 3 客户下单 4 会员福利\', task_quota SMALLINT NOT NULL COMMENT \'任务指标\', pics JSON DEFAULT NULL COMMENT \'任务指标(DC2Type:json_array)\', task_content LONGTEXT NOT NULL COMMENT \'任务内容\', use_all_distributor TINYINT(1) DEFAULT \'0\' COMMENT \'是否是全部店铺\', disabled VARCHAR(30) NOT NULL COMMENT \'任务指标\', created INT NOT NULL, updated INT NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(task_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购任务表\' ');
        $this->addSql('CREATE TABLE salesperson_task_record (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', task_id BIGINT NOT NULL COMMENT \'任务id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'导购id\', times SMALLINT NOT NULL COMMENT \'次数\', INDEX idx_company_task (company_id, task_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购任务表\' ');
        $this->addSql('CREATE TABLE salesperson_task_record_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', task_id BIGINT NOT NULL COMMENT \'任务id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'导购id\', remark JSON DEFAULT NULL COMMENT \'任务记录备注(DC2Type:json_array)\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购任务表\' ');
        $this->addSql('CREATE TABLE salesperson_task_rel_distributor (task_id BIGINT NOT NULL COMMENT \'ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'门店id\', PRIMARY KEY(task_id, company_id, distributor_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'导购任务表\' ');
        $this->addSql('CREATE TABLE selfservice_form_setting (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', field_title VARCHAR(255) NOT NULL COMMENT \'表单项标题(中文描述)\', field_name VARCHAR(255) NOT NULL COMMENT \'表单项英文名称(英文或拼音描述),唯一标示\', form_element VARCHAR(255) DEFAULT NULL COMMENT \'表单元素,text:文本,textarea:文本域,select:选择框,radio:单选,checkbox:多选框,date:日期选择,time:时间选择,area:地区地址选择, image:图片上传,number:纯数字\', image_url VARCHAR(255) DEFAULT NULL COMMENT \'元素配图\', status INT DEFAULT 1 NOT NULL COMMENT \'状态;1:有效，2:弃用\', sort INT DEFAULT 1 NOT NULL COMMENT \'排序，数字越大越靠前\', is_required TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否必填\', options LONGTEXT DEFAULT NULL COMMENT \'表单元素为选择类时选择项（json）当form_element in (select,  radio, checkbox)时，此项必填\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'自助表单配置\' ');
        $this->addSql('CREATE TABLE selfservice_form_template (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, tem_name VARCHAR(255) NOT NULL COMMENT \'表单模板名称\', tem_type VARCHAR(255) NOT NULL COMMENT \'表单模板类型；ask_answer_paper：问答考卷，basic_entry：基础录入\', content LONGTEXT NOT NULL COMMENT \'表单模板内容\', status INT DEFAULT 1 NOT NULL COMMENT \'状态; 1:有效，2:弃用\', key_index LONGTEXT DEFAULT NULL COMMENT \'表单关键指数\', form_style VARCHAR(255) DEFAULT NULL COMMENT \'表单关键指数, single:单页问卷, multiple:多页问卷\', header_link_title VARCHAR(500) DEFAULT NULL COMMENT \'头部文字\', header_title VARCHAR(500) DEFAULT NULL COMMENT \'头部文字内容\', bottom_title VARCHAR(500) DEFAULT NULL COMMENT \'表单关键指数\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'自助表单模板\' ');
        $this->addSql('CREATE TABLE selfservice_registration_activity (activity_id BIGINT AUTO_INCREMENT NOT NULL, temp_id BIGINT NOT NULL COMMENT \'表单模板id\', activity_name VARCHAR(255) NOT NULL COMMENT \'活动名称\', start_time INT NOT NULL COMMENT \'活动开始时间\', end_time INT NOT NULL COMMENT \'活动结束时间\', join_limit INT DEFAULT 0 NOT NULL COMMENT \'可参与次数\', is_sms_notice TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否短信通知\', is_wxapp_notice TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否小程序模板通知\', created INT NOT NULL, updated INT DEFAULT NULL, company_id BIGINT NOT NULL, INDEX idx_temp_id (temp_id), PRIMARY KEY(activity_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'报名问卷活动\' ');
        $this->addSql('CREATE TABLE selfservice_registration_record (record_id BIGINT AUTO_INCREMENT NOT NULL, activity_id BIGINT NOT NULL COMMENT \'活动id\', user_id BIGINT NOT NULL COMMENT \'会员id\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', wxapp_appid VARCHAR(32) DEFAULT NULL COMMENT \'会员小程序appid\', open_id VARCHAR(32) DEFAULT NULL COMMENT \'会员小程序openid\', status VARCHAR(255) DEFAULT \'pending\' NOT NULL COMMENT \'状态,pending:待审核，passed:已通过，rejected:已拒绝\', content LONGTEXT NOT NULL COMMENT \'报名内容\', reason LONGTEXT DEFAULT NULL COMMENT \'拒绝原因\', created INT NOT NULL, updated INT DEFAULT NULL, company_id BIGINT NOT NULL COMMENT \'公司_ID\', INDEX idx_activity_id (activity_id), INDEX idx_user_id (user_id), INDEX idx_company_id (company_id), PRIMARY KEY(record_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'报名记录\' ');
        $this->addSql('CREATE TABLE selfservice_user_daily_record (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司id\', operator_id BIGINT DEFAULT NULL COMMENT \'操作员id\', operator VARCHAR(255) DEFAULT NULL COMMENT \'操作员名称或手机\', user_id BIGINT NOT NULL COMMENT \'用户id\', record_date INT NOT NULL COMMENT \'记录提交日期\', shop_id BIGINT DEFAULT NULL COMMENT \'门店id\', temp_id BIGINT DEFAULT NULL COMMENT \'模板id\', form_data LONGTEXT NOT NULL COMMENT \'记录表单内容\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户日常数据记录表\' ');
        $this->addSql('CREATE TABLE service_orders (order_id BIGINT NOT NULL COMMENT \'订单号\', title VARCHAR(255) DEFAULT NULL COMMENT \'订单标题\', company_id BIGINT NOT NULL COMMENT \'公司id\', shop_id BIGINT DEFAULT 0 NOT NULL COMMENT \'店铺id\', store_name VARCHAR(255) DEFAULT NULL COMMENT \'店铺名称\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', consume_type VARCHAR(15) NOT NULL COMMENT \'核销类型，every：每个物料都要核销(例如3个物料要核销3次)，all：所有物料作为一个整体核销一次(例如3个物料只需要核销1次)\', item_id BIGINT NOT NULL COMMENT \'商品id\', item_brief VARCHAR(255) DEFAULT NULL COMMENT \'商品描述\', item_pics VARCHAR(255) DEFAULT NULL COMMENT \'商品图片\', source_id BIGINT DEFAULT NULL COMMENT \'订单来源id\', bargain_id BIGINT DEFAULT NULL COMMENT \'活动id\', monitor_id BIGINT DEFAULT NULL COMMENT \'订单监控页面id\', salesman_id BIGINT DEFAULT 0 COMMENT \'导购员ID\', item_num VARCHAR(255) NOT NULL COMMENT \'购买商品数量\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'手机号\', total_fee VARCHAR(255) NOT NULL COMMENT \'订单金额，以分为单位\', step_paid_fee INT UNSIGNED DEFAULT 0 COMMENT \'分阶段付款已支付金额，以分为单位\', order_class VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单种类。可选值有 normal 普通订单;groups 拼团订单\', order_status VARCHAR(255) NOT NULL COMMENT \'订单状态。可选值有 DONE—订单完成;NOTPAY—未支付;PART_PAYMENT-部分付款;WAIT_GROUPS_SUCCESS-等待拼团成功;PAYED-已支付;CANCEL—已取消\', order_source VARCHAR(255) DEFAULT \'member\' COMMENT \'订单来源。可选值有 member 用户自主下单;shop 商家代客下单\', operator_desc VARCHAR(100) DEFAULT NULL COMMENT \'操作员信息\', order_type VARCHAR(255) DEFAULT NULL COMMENT \'订单类型\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', auto_cancel_time VARCHAR(255) NOT NULL COMMENT \'订单自动取消时间\', date_type VARCHAR(255) DEFAULT NULL COMMENT \'有效期的类型, DATE_TYPE_FIX_TIME_RANGE: 指定日期范围内，DATE_TYPE_FIX_TERM:固定天数后\', begin_date INT DEFAULT NULL COMMENT \'有效期开始时间\', end_date INT DEFAULT NULL COMMENT \'有效期结束时间\', fixed_term INT DEFAULT NULL COMMENT \'有效期的有效天数\', cost_fee INT UNSIGNED NOT NULL COMMENT \'商品成本价，以分为单位\', item_fee INT UNSIGNED NOT NULL COMMENT \'商品总金额，以分为单位\', member_discount INT UNSIGNED NOT NULL COMMENT \'会员折扣金额，以分为单位\', coupon_discount INT UNSIGNED NOT NULL COMMENT \'优惠券抵扣金额，以分为单位\', coupon_discount_desc LONGTEXT DEFAULT NULL COMMENT \'优惠券使用详情\', member_discount_desc LONGTEXT DEFAULT NULL COMMENT \'会员折扣使用详情\', fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'货币类型\', fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'货币汇率\', fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'货币符号\', PRIMARY KEY(order_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'服务订单表\' ');
        $this->addSql('CREATE TABLE servicelabels (label_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'数值属性ID\', label_name VARCHAR(255) NOT NULL COMMENT \'数值属性名称\', label_price INT NOT NULL COMMENT \'价格,单位为‘分’\', service_type VARCHAR(30) NOT NULL COMMENT \'会员数值属性类型，point：积分类型，deposit：预存类型，timescard：次卡类型\', label_desc VARCHAR(255) NOT NULL COMMENT \'数值属性描述\', company_id BIGINT NOT NULL COMMENT \'公司ID\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(label_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'数值属性表\' ');
        $this->addSql('CREATE TABLE shipping_templates (template_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'运费模板id\', company_id BIGINT NOT NULL COMMENT \'商家id\', name VARCHAR(50) DEFAULT \'\' NOT NULL COMMENT \'运费模板名称\', is_free VARCHAR(255) DEFAULT \'0\' NOT NULL COMMENT \'是否包邮\', distributor_id BIGINT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'分销商id\', valuation VARCHAR(1) DEFAULT \'1\' NOT NULL COMMENT \'运费计算参数来源\', protect TINYINT(1) DEFAULT \'0\' COMMENT \'物流保价\', protect_rate NUMERIC(6, 3) DEFAULT \'0.000\' COMMENT \'保价费率\', minprice NUMERIC(10, 2) DEFAULT \'0.00\' COMMENT \'保价费最低值\', status TINYINT(1) DEFAULT \'1\' NOT NULL COMMENT \'是否开启\', fee_conf LONGTEXT DEFAULT NULL COMMENT \'运费模板中运费信息对象，包含默认运费和指定地区运费\', nopost_conf LONGTEXT DEFAULT NULL COMMENT \'不包邮地区\', free_conf LONGTEXT DEFAULT NULL COMMENT \'指定包邮的条件\', create_time INT NOT NULL COMMENT \'创建时间\', update_time INT DEFAULT NULL COMMENT \'最后修改时间\', PRIMARY KEY(template_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'运费模板表\' ');
        $this->addSql('CREATE TABLE shop_comments (item_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'评论id\', company_id VARCHAR(255) NOT NULL COMMENT \'公司id\', user_id VARCHAR(255) NOT NULL COMMENT \'用户id\', shop_id VARCHAR(255) DEFAULT \'0\' NOT NULL COMMENT \'店铺id\', content VARCHAR(2000) NOT NULL COMMENT \'评论内容\', pics JSON DEFAULT NULL COMMENT \'评论图片(DC2Type:json_array)\', is_reply TINYINT(1) DEFAULT \'0\' COMMENT \'评论是否回复\', reply_content VARCHAR(2000) DEFAULT NULL COMMENT \'评论回复内容\', stuck TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否置顶\', hid TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否隐藏\', reply_time BIGINT DEFAULT NULL COMMENT \'回复时间\', source VARCHAR(255) DEFAULT NULL COMMENT \'评论来源\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(item_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺评论表\' ');
        $this->addSql('CREATE TABLE shop_menu (shopmenu_id BIGINT NOT NULL COMMENT \'菜单id\', company_id INT NOT NULL COMMENT \'公司id，company_id为0的时候表示通用\', alias_name VARCHAR(255) DEFAULT NULL COMMENT \'菜单别名,唯一值\', name VARCHAR(255) NOT NULL COMMENT \'菜单名称\', url VARCHAR(255) NOT NULL COMMENT \'菜单对应路由\', sort INT DEFAULT NULL COMMENT \'排序\', is_menu TINYINT(1) DEFAULT NULL COMMENT \'是否为菜单\', pid BIGINT DEFAULT 0 NOT NULL COMMENT \'上级菜单id\', apis LONGTEXT DEFAULT NULL COMMENT \'API权限集\', icon VARCHAR(255) DEFAULT NULL COMMENT \'菜单图标\', is_show TINYINT(1) NOT NULL COMMENT \'是否显示\', version SMALLINT DEFAULT 1 NOT NULL COMMENT \'菜单版本,1:商家菜单;2:平台菜单,3:店铺菜单,4:供应商菜单,5:经销商菜单\', disabled TINYINT(1) NOT NULL COMMENT \'是否有效\', menu_type VARCHAR(255) DEFAULT \'all\' NOT NULL COMMENT \'菜单所属类型 standard 标准版 platform 平台版 \', created INT NOT NULL, updated INT DEFAULT NULL, INDEX ix_company_id (company_id), PRIMARY KEY(shopmenu_id, company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'商家和平台端菜单管理\' ');
        $this->addSql('CREATE TABLE shop_notice (notice_id BIGINT AUTO_INCREMENT NOT NULL, type VARCHAR(255) NOT NULL COMMENT \'公告类型。可选值有 notice-公告;helper-店主助手\', title VARCHAR(255) NOT NULL COMMENT \'公告标题\', web_link VARCHAR(255) NOT NULL COMMENT \'网页链接\', is_publish TINYINT(1) NOT NULL COMMENT \'是否发布 0:不发布 1:发布\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(notice_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺公告表\' ');
        $this->addSql('CREATE TABLE shop_rel_salesperson (shop_id BIGINT NOT NULL COMMENT \'店铺id\', salesperson_id BIGINT NOT NULL COMMENT \'店铺管理员id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', store_type VARCHAR(255) DEFAULT \'shop\' NOT NULL COMMENT \'店铺类型，shop：门店, distributor:店铺\', INDEX ix_company_id (company_id), PRIMARY KEY(shop_id, salesperson_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'店铺管理员关联店铺表\' ');
        $this->addSql('CREATE TABLE shop_salesperson (salesperson_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'门店人员ID\', name VARCHAR(500) NOT NULL COMMENT \'姓名\', mobile VARCHAR(255) NOT NULL COMMENT \'手机号\', created_time VARCHAR(255) NOT NULL COMMENT \'创建时间\', salesperson_type VARCHAR(255) DEFAULT \'admin\' NOT NULL COMMENT \'人员类型 admin: 管理员; verification_clerk:核销员; shopping_guide:导购员\', company_id BIGINT NOT NULL COMMENT \'公司company id\', user_id INT DEFAULT 0 NOT NULL COMMENT \'关联会员id\', child_count INT DEFAULT 0 NOT NULL COMMENT \'导购员引入的会员数\', is_valid VARCHAR(255) DEFAULT \'true\' NOT NULL COMMENT \'是否有效\', shop_id VARCHAR(255) DEFAULT NULL COMMENT \'门店id\', shop_name VARCHAR(255) DEFAULT NULL COMMENT \'门店名称\', number VARCHAR(50) DEFAULT NULL COMMENT \'导购员编号\', friend_count INT DEFAULT 0 NOT NULL COMMENT \'导购员会员好友数\', work_userid VARCHAR(255) DEFAULT NULL COMMENT \'企业微信userid\', avatar VARCHAR(255) DEFAULT NULL COMMENT \'企业微信头像\', work_configid VARCHAR(255) DEFAULT NULL COMMENT \'企业微信userid\', work_qrcode_configid VARCHAR(255) DEFAULT NULL COMMENT \'企业微信userid\', role VARCHAR(255) DEFAULT NULL COMMENT \'导购权限集合\', salesperson_job VARCHAR(50) DEFAULT \'\' COMMENT \'职务\', employee_status INT DEFAULT 1 NOT NULL COMMENT \'员工类型 [1 员工] [2 编外]\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(salesperson_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'门店人员\' ');
        $this->addSql('CREATE TABLE sms_idiograph (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'company_id\', shopex_uid BIGINT NOT NULL COMMENT \'shopex账号id\', idiograph VARCHAR(20) NOT NULL COMMENT \'签名内容\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'短信签名表\' ');
        $this->addSql('CREATE TABLE sms_template (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'company_id\', sms_type VARCHAR(255) DEFAULT \'notice\' NOT NULL COMMENT \'短信类型\', tmpl_type VARCHAR(255) NOT NULL COMMENT \'模板分类\', content LONGTEXT NOT NULL COMMENT \'模板内容\', is_open VARCHAR(255) NOT NULL COMMENT \'是否开启\', tmpl_name VARCHAR(255) NOT NULL COMMENT \'模板名称\', send_time_desc VARCHAR(255) NOT NULL COMMENT \'短信发送触发时间描述\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'短信模板表\' ');
        $this->addSql('CREATE TABLE sources (source_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'来源id\', company_id BIGINT NOT NULL COMMENT \'公司id\', source_name VARCHAR(255) NOT NULL COMMENT \'来源名称\', tags_id LONGTEXT DEFAULT NULL COMMENT \'会员标签\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(source_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序来源列表\' ');
        $this->addSql('CREATE TABLE sub_orders (order_id BIGINT NOT NULL COMMENT \'订单号\', item_id BIGINT NOT NULL COMMENT \'商品id\', label_id BIGINT NOT NULL COMMENT \'数值属性ID\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_name VARCHAR(255) NOT NULL COMMENT \'商品名称\', label_name VARCHAR(255) NOT NULL COMMENT \'数值属性名称\', label_price INT NOT NULL COMMENT \'价格,单位为‘分’\', num BIGINT NOT NULL COMMENT \'数值属性值，例如买了50个次卡，就是填50；赠送了10个经验，就是填10\', limit_time BIGINT NOT NULL COMMENT \'有效期，例如30天\', is_not_limit_num INT DEFAULT 2 NOT NULL COMMENT \'限制核销次数,1:不限制；2:限制\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(order_id, item_id, label_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'服务类子订单表\' ');
        $this->addSql('CREATE TABLE super_admin_accounts (account_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'账号id\', login_name VARCHAR(255) NOT NULL COMMENT \'登录账号名\', password VARCHAR(255) NOT NULL COMMENT \'密码\', name VARCHAR(255) NOT NULL COMMENT \'姓名\', super TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否超级管理员\', status TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否启用\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(account_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'平台账号表\' ');
        $this->addSql('CREATE TABLE superadmin_wxapp_template (id BIGINT AUTO_INCREMENT NOT NULL, key_name VARCHAR(255) NOT NULL COMMENT \'小程序英文描述\', name VARCHAR(255) DEFAULT NULL COMMENT \'小程序模板名称\', tag VARCHAR(255) DEFAULT NULL COMMENT \'小程序标签\', template_id INT DEFAULT NULL COMMENT \'模板id\', template_id_2 INT DEFAULT NULL COMMENT \'模板id(直播版)\', version VARCHAR(255) DEFAULT NULL COMMENT \'版本号\', is_only TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否为唯一属性，如果为唯一属性那么当前模版只能绑定一个小程序\', description VARCHAR(255) DEFAULT NULL COMMENT \'模板详细描述\', domain LONGTEXT DEFAULT NULL COMMENT \'合法域名配置\', is_disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否禁用\', platform VARCHAR(255) DEFAULT \'development\' NOT NULL COMMENT \'使用平台。可选值有 development-开发环境;preissue-预发布环境;production-正式环境;\', created INT NOT NULL, updated INT DEFAULT NULL, UNIQUE INDEX UNIQ_857EBFC6D824A5CF (key_name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序模板表\' ');
        $this->addSql('CREATE TABLE systemlink_oms_queuelog (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', api_type VARCHAR(255) NOT NULL COMMENT \'日志同步类型, response:响应，request:请求\', worker VARCHAR(255) NOT NULL COMMENT \'api\', params JSON DEFAULT NULL COMMENT \'任务参数(DC2Type:json_array)\', result JSON DEFAULT NULL COMMENT \'返回数据(DC2Type:json_array)\', status VARCHAR(255) DEFAULT \'running\' NOT NULL COMMENT \'运行状态：running,success,fail\', runtime VARCHAR(255) DEFAULT NULL COMMENT \'运行时间(秒)\', msg_id VARCHAR(255) DEFAULT NULL COMMENT \'msg_id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'联通oms通信日志\' ');
        $this->addSql('CREATE TABLE template_orders (template_orders_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'小程序模版开通ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', operator_id BIGINT NOT NULL COMMENT \'operator_id\', template_name VARCHAR(255) NOT NULL COMMENT \'模版名称\', total_fee VARCHAR(255) NOT NULL COMMENT \'购买模版金额，以分为单位\', order_status VARCHAR(255) NOT NULL COMMENT \'订单状态。可选值有 DONE—订单完成；NOTPAY—未支付；CANCEL—已取消\', create_time INT NOT NULL COMMENT \'订单创建时间\', update_time INT DEFAULT NULL COMMENT \'订单更新时间\', PRIMARY KEY(template_orders_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序开通表\' ');
        $this->addSql('CREATE TABLE theme_member_center_share (theme_member_center_share_id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, share_title VARCHAR(50) NOT NULL COMMENT \'页面名称\', share_description VARCHAR(150) NOT NULL COMMENT \'页面描述\', share_pic_wechatapp VARCHAR(150) DEFAULT \'\' COMMENT \'分享图片小程序\', share_pic_h5 VARCHAR(150) DEFAULT \'\' COMMENT \'分享图片h5\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(theme_member_center_share_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'会员中心分享信息表\' ');
        $this->addSql('CREATE TABLE theme_pc_template (theme_pc_template_id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, template_title VARCHAR(50) NOT NULL COMMENT \'页面名称\', template_description VARCHAR(150) NOT NULL COMMENT \'页面描述\', page_type VARCHAR(15) DEFAULT \'index\' COMMENT \'页面类型 index 首页 custom \', status INT DEFAULT 2 COMMENT \'启用状态 1启用 2未启用\', version VARCHAR(10) DEFAULT NULL COMMENT \'版本号\', created INT NOT NULL, updated INT DEFAULT NULL, deleted_at DATETIME DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(theme_pc_template_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'pc页面装修\' ');
        $this->addSql('CREATE TABLE theme_pc_template_content (theme_pc_template_content_id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, theme_pc_template_id BIGINT NOT NULL, name VARCHAR(20) NOT NULL COMMENT \'配置名称\', params LONGTEXT NOT NULL COMMENT \'配置参数\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(theme_pc_template_content_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'pc页面装修组件内容\' ');
        $this->addSql('CREATE TABLE thirdparty_saaserp_log (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', api_type VARCHAR(255) NOT NULL COMMENT \'日志同步类型, response:响应，request:请求\', worker VARCHAR(255) NOT NULL COMMENT \'api\', params JSON DEFAULT NULL COMMENT \'任务参数(DC2Type:json_array)\', result JSON DEFAULT NULL COMMENT \'返回数据(DC2Type:json_array)\', status VARCHAR(255) DEFAULT \'running\' NOT NULL COMMENT \'运行状态：running,success,fail\', runtime VARCHAR(255) DEFAULT NULL COMMENT \'运行时间(秒)\', msg_id VARCHAR(255) DEFAULT NULL COMMENT \'msg_id\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'联通saasErp通信日志\' ');
        $this->addSql('CREATE TABLE thirdparty_shop_bind (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', name VARCHAR(255) NOT NULL COMMENT \'名称\', node_id VARCHAR(255) NOT NULL COMMENT \'节点\', node_type VARCHAR(255) NOT NULL COMMENT \'节点类型\', status SMALLINT NOT NULL COMMENT \'绑定状态 1:已绑定 0：未绑定\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_node_type (node_type), INDEX idx_status (status), INDEX idx_node (company_id, node_type, status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'矩阵节点绑定\' ');
        $this->addSql('CREATE TABLE trade (trade_id VARCHAR(64) NOT NULL COMMENT \'交易单号\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', company_id VARCHAR(255) NOT NULL COMMENT \'企业ID\', shop_id VARCHAR(255) DEFAULT NULL COMMENT \'门店ID\', distributor_id VARCHAR(255) DEFAULT NULL COMMENT \'店铺ID\', dealer_id VARCHAR(255) DEFAULT \'0\' COMMENT \'经销商ID\', trade_source_type VARCHAR(255) DEFAULT NULL COMMENT \'交易单来源类型。可选值有 membercard-会员卡购买;normal-实体订单购买;servers-服务订单购买;normal_community-社区订单购买;diposit-预存款购买;order_pay-买单购买;\', user_id VARCHAR(255) NOT NULL COMMENT \'购买用户\', mobile VARCHAR(255) DEFAULT NULL COMMENT \'购买用户手机号\', open_id VARCHAR(255) DEFAULT NULL COMMENT \'用户open_id\', discount_info LONGTEXT DEFAULT NULL COMMENT \'优惠金额，优惠金额，优惠原因json结构\', mch_id VARCHAR(255) DEFAULT NULL COMMENT \'商户号，微信支付\', total_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'应付总金额,以分为单位\', discount_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'订单优惠金额\', fee_type VARCHAR(16) NOT NULL COMMENT \'货币类型\', pay_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'支付金额\', trade_state VARCHAR(255) NOT NULL COMMENT \'交易状态。可选值有 SUCCESS—支付成功;REFUND—转入退款;NOTPAY—未支付;CLOSED—已关闭;REVOKED—已撤销;PAYERROR--支付失败(其他原因，如银行返回失败)\', pay_type VARCHAR(255) NOT NULL COMMENT \'支付方式。wxpay-微信支付;deposit-预存款支付;pos-刷卡;point-积分\', pay_channel VARCHAR(255) DEFAULT \'\' COMMENT \'adapay支付渠道\', transaction_id VARCHAR(255) DEFAULT NULL COMMENT \'支付订单号\', authorizer_appid VARCHAR(64) DEFAULT NULL COMMENT \'公众号的appid\', wxa_appid VARCHAR(64) DEFAULT NULL COMMENT \'支付小程序的appid\', bank_type VARCHAR(255) DEFAULT NULL COMMENT \'付款银行\', body VARCHAR(255) NOT NULL COMMENT \'交易商品简单描述\', detail VARCHAR(255) NOT NULL COMMENT \'交易商品详情\', time_start VARCHAR(255) NOT NULL COMMENT \'交易起始时间\', time_expire VARCHAR(255) DEFAULT NULL COMMENT \'交易结束时间\', div_members VARCHAR(500) DEFAULT \'\' COMMENT \'分账对象信息列表，最多仅支持7个分账方，json 数组形式\', refunded_fee INT UNSIGNED DEFAULT 0 COMMENT \'实际退款金额，以分为单位\', adapay_fee_mode VARCHAR(255) DEFAULT \'\' COMMENT \'adapay手续费收取模式\', adapay_fee INT UNSIGNED DEFAULT 0 COMMENT \'分账手续费，以分为单位\', adapay_div_status VARCHAR(255) DEFAULT NULL COMMENT \'分账状态。可选值有NOTDIV—未分账;DIVED-已分账;\', cur_fee_type VARCHAR(5) DEFAULT \'CNY\' NOT NULL COMMENT \'系统配置货币类型\', cur_fee_rate DOUBLE PRECISION DEFAULT \'1\' NOT NULL COMMENT \'系统配置货币汇率\', cur_fee_symbol VARCHAR(255) DEFAULT \'￥\' NOT NULL COMMENT \'系统配置货币符号\', cur_pay_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'系统货币支付金额\', coupon_fee INT UNSIGNED DEFAULT 0 NOT NULL COMMENT \'优惠券抵扣金额，以分为单位\', coupon_info LONGTEXT DEFAULT NULL COMMENT \'优惠券信息json结构\', inital_request LONGTEXT DEFAULT NULL COMMENT \'统一下单原始请求json结构\', inital_response LONGTEXT DEFAULT NULL COMMENT \'支付结果通知json结构\', INDEX ix_company_id (company_id), INDEX ix_distributor_id (distributor_id), INDEX ix_order_id (order_id), INDEX ix_user_id (user_id), INDEX ix_list (company_id, order_id), PRIMARY KEY(trade_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'交易单表\' ');
        $this->addSql('CREATE TABLE trade_rate (rate_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'评价id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', item_id BIGINT DEFAULT NULL COMMENT \'商品ID\', goods_id BIGINT DEFAULT 0 COMMENT \'产品ID\', order_id VARCHAR(64) DEFAULT NULL COMMENT \'订单号\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', rate_pic LONGTEXT DEFAULT NULL COMMENT \'评价图片\', rate_pic_num INT DEFAULT 0 COMMENT \'评价图片数量\', content LONGTEXT DEFAULT NULL COMMENT \'评价内容\', content_len INT DEFAULT 0 COMMENT \'评价内容长度\', is_reply TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'评价是否回复。0:否；1:是\', disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否删除。0:否；1:是\', anonymous TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否匿名。0:否；1:是\', star INT DEFAULT 0 NOT NULL COMMENT \'评价星级\', created INT NOT NULL, updated INT DEFAULT NULL, unionid VARCHAR(60) DEFAULT NULL COMMENT \'微信unionid\', item_spec_desc LONGTEXT DEFAULT NULL COMMENT \'商品规格描述\', order_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'订单类型。可选值有 normal:普通实体订单, pointsmall:积分商城订单\', INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), INDEX idx_goods_id (goods_id), INDEX idx_order_id (order_id), PRIMARY KEY(rate_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单评价表\' ');
        $this->addSql('CREATE TABLE trade_rate_reply (reply_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'回复id\', rate_id BIGINT NOT NULL COMMENT \'评价id\', company_id BIGINT NOT NULL COMMENT \'公司ID\', user_id BIGINT DEFAULT NULL COMMENT \'用户id\', operator_id BIGINT DEFAULT NULL COMMENT \'操作员的id\', content VARCHAR(255) DEFAULT NULL COMMENT \'评价内容\', content_len INT DEFAULT 0 COMMENT \'评价内容长度\', role VARCHAR(25) DEFAULT NULL COMMENT \'回复角色.seller：卖家；buyer：买家\', created INT NOT NULL, unionid VARCHAR(60) DEFAULT NULL COMMENT \'微信unionid\', INDEX idx_rate_id (rate_id), INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(reply_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'订单评价回复/评论表\' ');
        $this->addSql('CREATE TABLE transcript_properties (prop_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'属性ID\', transcript_id BIGINT NOT NULL COMMENT \'成绩单模板id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', prop_name VARCHAR(255) NOT NULL COMMENT \'属性名称\', prop_unit VARCHAR(255) NOT NULL COMMENT \'属性单位\', PRIMARY KEY(prop_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'成绩单考评项目表\' ');
        $this->addSql('CREATE TABLE transcripts (transcript_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'成绩单模板id\', transcript_name VARCHAR(100) DEFAULT NULL COMMENT \'门店名称\', company_id BIGINT NOT NULL COMMENT \'公司company id\', template_name VARCHAR(255) NOT NULL COMMENT \'小程序模板name\', transcript_status VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'状态\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(transcript_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'成绩单配置表\' ');
        $this->addSql('CREATE TABLE user_deposit (deposit_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'用户储值ID\', company_id BIGINT NOT NULL COMMENT \'公司id\', user_id BIGINT NOT NULL COMMENT \'用户id\', money BIGINT NOT NULL COMMENT \'充值金额/消费金额。 单位是分\', created INT NOT NULL, updated INT DEFAULT NULL, INDEX idx_company_id (company_id), INDEX idx_user_id (user_id), PRIMARY KEY(deposit_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户储值金额表\' ');
        $this->addSql('CREATE TABLE user_transcripts (record_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'记录id\', user_id BIGINT NOT NULL COMMENT \'用户id\', company_id BIGINT NOT NULL COMMENT \'公司id\', shop_id BIGINT DEFAULT NULL COMMENT \'公司id\', transcript_id BIGINT NOT NULL COMMENT \'成绩单id\', transcript_name VARCHAR(255) NOT NULL COMMENT \'成绩单名称\', indicator_details JSON NOT NULL COMMENT \'指标详情(DC2Type:json_array)\', created INT NOT NULL, updated INT DEFAULT NULL, PRIMARY KEY(record_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'用户成绩单记录表\' ');
        $this->addSql('CREATE TABLE wechat_authorization (authorizer_appid VARCHAR(64) NOT NULL COMMENT \'小程序appid\', authorizer_appsecret VARCHAR(255) DEFAULT NULL COMMENT \'小程序appsecret\', operator_id BIGINT NOT NULL COMMENT \'授权操作者id\', company_id BIGINT NOT NULL COMMENT \'公司id\', authorizer_refresh_token VARCHAR(255) DEFAULT NULL COMMENT \'小程序refresh_token\', nick_name VARCHAR(255) NOT NULL COMMENT \'昵称\', head_img VARCHAR(255) DEFAULT NULL COMMENT \'小程序Logo\', service_type_info INT DEFAULT NULL COMMENT \'授权方公众号类型。可选值有 0代表订阅号；1代表由历史老帐号升级后的订阅号；2代表服务号；3代表小程序(自定义)\', verify_type_info INT DEFAULT NULL COMMENT \'授权方认证类型，-1代表未认证;0代表微信认证;1代表新浪微博认证;2代表腾讯微博认证;3代表已资质认证通过但还未通过名称认证;4代表已资质认证通过、还未通过名称认证，但通过了新浪微博认证;5代表已资质认证通过、还未通过名称认证，但通过了腾讯微博认证\', user_name VARCHAR(255) DEFAULT NULL COMMENT \'原始 ID\', signature LONGTEXT DEFAULT NULL COMMENT \'账号介绍\', principal_name VARCHAR(255) DEFAULT NULL COMMENT \'公众号的主体名称\', alias VARCHAR(255) DEFAULT NULL COMMENT \'授权方公众号所设置的微信号，可能为空\', business_info JSON DEFAULT NULL COMMENT \'用以了解以下功能的开通状况（0代表未开通，1代表已开通）。open_store:是否开通微信门店功能;open_scan:是否开通微信扫商品功能;open_pay:是否开通微信支付功能;open_card:是否开通微信卡券功能;open_shake:是否开通微信摇一摇功能(DC2Type:json_array)\', qrcode_url VARCHAR(255) DEFAULT NULL COMMENT \'二维码图片的URL\', miniprograminfo JSON DEFAULT NULL COMMENT \'可根据这个字段判断是否为小程序类型授权(DC2Type:json_array)\', func_info VARCHAR(255) DEFAULT NULL COMMENT \'公众号授权给开发者的权限集列表,逗号隔开\', bind_status VARCHAR(255) NOT NULL COMMENT \'绑定状态 bind绑定 unbind绑定解除\', auto_publish SMALLINT DEFAULT 0 NOT NULL COMMENT \'自动发布,第三方授权模式才有用，直连用不到此配置。1:自动发布,0:不自动发布\', is_direct SMALLINT DEFAULT 0 NOT NULL COMMENT \'是否直连。1:直连模式,0:第三方授权模式\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME DEFAULT NULL, PRIMARY KEY(authorizer_appid)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信授权表(订阅号,公众号,小程序)\' ');
        $this->addSql('CREATE TABLE wechat_tags (tag_id BIGINT NOT NULL COMMENT \'标签id\', authorizer_appid VARCHAR(64) NOT NULL COMMENT \'公众号appid\', company_id BIGINT NOT NULL COMMENT \'公司id\', tag_name VARCHAR(50) NOT NULL COMMENT \'标签名称\', created bigint NOT NULL, updated bigint NOT NULL, PRIMARY KEY(tag_id, authorizer_appid, company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信粉丝标签表\' ');
        $this->addSql('CREATE TABLE wechat_weapp (authorizer_appid VARCHAR(64) NOT NULL COMMENT \'微信appid\', operator_id BIGINT NOT NULL COMMENT \'绑定操作者id\', company_id BIGINT NOT NULL COMMENT \'公司id\', reason LONGTEXT DEFAULT NULL COMMENT \'审核失败原因\', audit_status INT NOT NULL COMMENT \'审核状态，其中0为审核成功，1为审核失败，2为审核中, 3为待提交审核\', release_status INT NOT NULL COMMENT \'发布状态，其中0为未发布，1为已发布\', audit_time VARCHAR(255) DEFAULT NULL COMMENT \'审核时间\', template_id VARCHAR(255) NOT NULL COMMENT \'小程序模板ID\', template_name VARCHAR(255) NOT NULL COMMENT \'小程序模板名称\', release_ver VARCHAR(255) DEFAULT NULL COMMENT \'小程序已发布的版本\', template_ver VARCHAR(255) DEFAULT NULL COMMENT \'小程序模板版本\', visitstatus INT NOT NULL COMMENT \'小程序线上代码的可见状态 0不可见 1可见\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME DEFAULT NULL, PRIMARY KEY(authorizer_appid)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信小程序提交审核表\' ');
        $this->addSql('CREATE TABLE wechat_weapp_customize_page (id BIGINT AUTO_INCREMENT NOT NULL, template_name VARCHAR(255) DEFAULT NULL COMMENT \'小程序模板名称\', company_id BIGINT NOT NULL, page_name VARCHAR(255) NOT NULL COMMENT \'页面名称\', page_description VARCHAR(255) NOT NULL COMMENT \'页面描述\', page_share_title VARCHAR(255) DEFAULT NULL COMMENT \'分享标题\', page_share_desc VARCHAR(255) DEFAULT NULL COMMENT \'分享描述\', page_share_imageUrl VARCHAR(255) DEFAULT NULL COMMENT \'分享图片\', is_open INT DEFAULT 0 NOT NULL COMMENT \'是否开启0否1是\', page_type VARCHAR(255) DEFAULT \'normal\' NOT NULL COMMENT \'页面类型 salesperson:导购首页\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序自定义页面\' ');
        $this->addSql('CREATE TABLE wechat_weapp_setting (id BIGINT AUTO_INCREMENT NOT NULL, template_name VARCHAR(255) NOT NULL COMMENT \'小程序模板名称\', company_id BIGINT NOT NULL, page_name VARCHAR(255) NOT NULL COMMENT \'页面名称\', name VARCHAR(255) NOT NULL COMMENT \'配置名称\', version VARCHAR(255) DEFAULT \'v1.0.0\' NOT NULL COMMENT \'配置版本\', params LONGTEXT NOT NULL COMMENT \'配置参数\', pages_template_id INT DEFAULT 0 COMMENT \'页面模板id\', INDEX ix_page_nme (page_name), INDEX idx_company_id (company_id), INDEX ix_pages_template_id (pages_template_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序模板装修表\' ');
        $this->addSql('CREATE TABLE wechat_weapp_template (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL COMMENT \'公司id\', template_name VARCHAR(255) NOT NULL COMMENT \'小程序模板名称\', template_open_status VARCHAR(255) NOT NULL COMMENT \'小程序模板开通状态\', template_money VARCHAR(255) NOT NULL COMMENT \'小程序模板开通金额，默认免费\', created INT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'小程序模板表\' ');
        $this->addSql('CREATE TABLE wechatfans_bind_wechattag (tag_id BIGINT NOT NULL COMMENT \'标签id\', open_id VARCHAR(40) NOT NULL COMMENT \'open_id\', company_id BIGINT NOT NULL COMMENT \'公司id\', authorizer_appid VARCHAR(64) NOT NULL COMMENT \'公众号appid\', PRIMARY KEY(tag_id, open_id, company_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'粉丝关联标微信签表\' ');
        $this->addSql('CREATE TABLE work_wechat_message (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键\', company_id BIGINT NOT NULL COMMENT \'公司id\', distributor_id BIGINT NOT NULL COMMENT \'店铺id\', operator_id BIGINT NOT NULL COMMENT \'接受消息用户id\', msg_type SMALLINT DEFAULT NULL COMMENT \'消息类型:1售后订单，2待发货订单，3未妥投订单\', content LONGTEXT DEFAULT NULL COMMENT \'内容\', add_time INT DEFAULT NULL COMMENT \'添加时间\', up_time INT DEFAULT NULL COMMENT \'修改时间\', is_read SMALLINT DEFAULT 0 COMMENT \'是否已读:0,未读;1,已读\', INDEX idx_company_id (company_id), INDEX idx_distributor_id (distributor_id), INDEX idx_operator_id (operator_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业微信通知\' ');
        $this->addSql('CREATE TABLE work_wechat_message_manager_template (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'主键id\', template_id VARCHAR(255) NOT NULL COMMENT \'企业微信通知模板id\', disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'模版是否禁用\', title VARCHAR(255) DEFAULT \'\' COMMENT \'企业微信通知模板标题\', description VARCHAR(255) DEFAULT \'\' COMMENT \'企业微信通知模板内容\', INDEX idx_template_id (template_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业微信管理员通知模板\' ');
        $this->addSql('CREATE TABLE work_wechat_message_template (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'企业微信通知模板\', company_id BIGINT NOT NULL COMMENT \'公司id\', template_id VARCHAR(255) NOT NULL COMMENT \'企业微信通知模板id\', disabled TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'模版是否开启\', emphasis_first_item TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否放大第一个\', title VARCHAR(255) DEFAULT \'\' COMMENT \'企业微信通知模板标题\', description VARCHAR(255) DEFAULT \'\' COMMENT \'企业微信通知模板内容\', content JSON DEFAULT NULL COMMENT \'通知主体消息(DC2Type:json_array)\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业微信通知模板\' ');
        $this->addSql('CREATE TABLE work_wechat_rel (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'企业微信用户关联表id\', company_id BIGINT NOT NULL COMMENT \'公司id\', work_userid VARCHAR(255) DEFAULT \'\' COMMENT \'通讯录成员id\', salesperson_id BIGINT DEFAULT 0 COMMENT \'导购员id\', external_userid VARCHAR(255) DEFAULT \'\' COMMENT \'企业微信外部成员id\', unionid VARCHAR(255) DEFAULT \'\' COMMENT \'企业微信外部成员unionid\', user_id BIGINT DEFAULT 0 COMMENT \'会员id\', is_friend TINYINT(1) DEFAULT \'0\' COMMENT \'是否好友 0 否 1 是\', is_bind TINYINT(1) DEFAULT \'0\' COMMENT \'是否绑定 0 否 1 是\', bound_time BIGINT DEFAULT 0 COMMENT \'绑定时间\', add_friend_time BIGINT DEFAULT 0 COMMENT \'添加好友时间\', INDEX idx_company_id_user_id (company_id, user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业微信用户关联表\' ');
        $this->addSql('CREATE TABLE work_wechat_rel_logs (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'企业微信用户关联表id\', company_id BIGINT NOT NULL COMMENT \'公司id\', work_userid VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'通讯录成员id\', salesperson_id BIGINT DEFAULT 0 NOT NULL COMMENT \'导购员id\', external_userid VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'企业微信外部成员id\', unionid VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'企业微信外部成员unionid\', user_id BIGINT DEFAULT 0 NOT NULL COMMENT \'会员id\', is_friend TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否好友 0 否 1 是\', remarks VARCHAR(60) NOT NULL COMMENT \'企业微信用户关联关系日志\', created INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业微信用户关联关系日志\' ');
        $this->addSql('CREATE TABLE work_wechat_verify_domain_file (id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'id\', company_id BIGINT NOT NULL COMMENT \'公司id\', operator_id BIGINT NOT NULL COMMENT \'授权操作者id\', name VARCHAR(255) DEFAULT \'\' NOT NULL COMMENT \'验证文件名\', contents LONGTEXT NOT NULL COMMENT \'验证文件内容\', created INT NOT NULL, UNIQUE INDEX ix_name (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'企业微信可信域名校验文件\' ');
        $this->addSql('CREATE TABLE wx_external_config (wx_external_config_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'外部小程序配置表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', app_id VARCHAR(255) NOT NULL COMMENT \'小程序APPID\', app_name VARCHAR(255) DEFAULT NULL COMMENT \'小程序名称\', app_desc VARCHAR(255) DEFAULT NULL COMMENT \'描述\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(wx_external_config_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'外部小程序配置表\' ');
        $this->addSql('CREATE TABLE wx_external_routes (wx_external_routes_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'外部小程序路径表id\', company_id BIGINT NOT NULL COMMENT \'公司company id\', wx_external_config_id BIGINT NOT NULL COMMENT \'外部小程序配置表id\', route_name VARCHAR(255) NOT NULL COMMENT \'页面名称\', route_info VARCHAR(255) NOT NULL COMMENT \'页面路径\', route_desc VARCHAR(255) DEFAULT NULL COMMENT \'描述\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(wx_external_routes_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'外部小程序路径表\' ');
        $this->addSql('CREATE TABLE wxshops (wx_shop_id BIGINT AUTO_INCREMENT NOT NULL COMMENT \'自增id\', map_poi_id VARCHAR(255) DEFAULT NULL COMMENT \'从腾讯地图换取的位置点id，即search_map_poi接口返回的sosomap_poi_uid字段\', store_name VARCHAR(100) DEFAULT NULL COMMENT \'腾讯地图的门店名称\', poi_id VARCHAR(255) DEFAULT NULL COMMENT \'门店id\', lng VARCHAR(255) DEFAULT NULL COMMENT \'腾讯地图纬度\', lat VARCHAR(255) DEFAULT NULL COMMENT \'腾讯地图经度\', address VARCHAR(500) NOT NULL COMMENT \'腾讯地图门店地址\', category VARCHAR(255) DEFAULT NULL COMMENT \'腾讯地图门店类目\', distributor_id BIGINT DEFAULT 0 NOT NULL COMMENT \'门店所属店铺ID\', pic_list LONGTEXT DEFAULT NULL COMMENT \'门店图片，可传多张图片pic_list字段是一个json\', contract_phone VARCHAR(20) NOT NULL COMMENT \'联系电话\', add_type SMALLINT NOT NULL COMMENT \'1,公众号主体；2,相关主体; 3,无主体\', hour VARCHAR(20) NOT NULL COMMENT \'营业时间，格式11:11-12:12\', credential VARCHAR(30) DEFAULT NULL COMMENT \'经营资质证件号\', company_name VARCHAR(30) DEFAULT NULL COMMENT \'主体名字 临时素材mediaid，如果复用公众号主体，则company_name为空，如果不复用公众号主体，则company_name为具体的主体名字\', qualification_list VARCHAR(255) DEFAULT NULL COMMENT \'相关证明材料，临时素材mediaid，不复用公众号主体时，才需要填\', card_id VARCHAR(20) DEFAULT NULL COMMENT \'卡券id，如果不需要添加卡券，该参数可为空，目前仅开放支持会员卡、买单和刷卡支付券，不支持自定义code，需要先去公众平台卡券后台创建cardid\', status SMALLINT NOT NULL COMMENT \'审核状态，1：审核成功，2：审核中，3：审核失败，4：管理员拒绝, 5: 无需审核\', errmsg VARCHAR(255) DEFAULT NULL COMMENT \'审核失败原因\', company_id BIGINT NOT NULL COMMENT \'公司id\', audit_id VARCHAR(20) DEFAULT NULL COMMENT \'微信返回的审核id\', resource_id BIGINT DEFAULT NULL COMMENT \'资源包id\', expired_at BIGINT DEFAULT NULL COMMENT \'过期时间\', is_default TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'是否是默认门店\', country VARCHAR(100) DEFAULT NULL COMMENT \'非中国国家名称\', city VARCHAR(100) DEFAULT NULL COMMENT \'非中国门店所在城市\', is_domestic SMALLINT DEFAULT 1 COMMENT \'是否是中国国内门店 1:国内(包含港澳台),2:非国内\', is_direct_store SMALLINT DEFAULT 1 COMMENT \'是否为直营店 1:直营店,2:非直营店\', is_open TINYINT(1) DEFAULT \'1\' COMMENT \'是否开启 1:开启,0:关闭\', created INT NOT NULL, updated INT NOT NULL, PRIMARY KEY(wx_shop_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'微信门店表\' ');
        $this->addSql('CREATE TABLE youshu_setting (id BIGINT AUTO_INCREMENT NOT NULL, company_id BIGINT NOT NULL, merchant_id VARCHAR(255) DEFAULT NULL COMMENT \'merchant_id\', app_id VARCHAR(255) DEFAULT NULL COMMENT \'有数app_id，正式\', app_secret VARCHAR(255) DEFAULT NULL COMMENT \'有数app_secret，正式\', api_url VARCHAR(255) DEFAULT NULL COMMENT \'有数后端api url，正式\', sandbox_app_id VARCHAR(255) DEFAULT NULL COMMENT \'有数app_id，沙箱\', sandbox_app_secret VARCHAR(255) DEFAULT NULL COMMENT \'有数app_secret，沙箱\', sandbox_api_url VARCHAR(255) DEFAULT NULL COMMENT \'有数后端api url，沙箱\', weapp_name VARCHAR(255) DEFAULT NULL COMMENT \'小程序名称\', weapp_app_id VARCHAR(255) DEFAULT NULL COMMENT \'小程序app_id\', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX idx_company_id (company_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'有数参数设置表\' ');
    }

    /**
     * @param Schema $schema
     */
    public function down(Schema $schema): void
    {
    }
}
